var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ju(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var s=function n(){return this instanceof n?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var p=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,p.get?p:{enumerable:!0,get:function(){return e[n]}})}),s}const gn=function(){return typeof process<"u"&&process.release?.name==="node"?"NODE":typeof window<"u"?"WEB":typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?"WORKER":"NODE"}();if(gn==="NODE"){let e=function(s){return new Promise(function(n,p){s.onload=s.onerror=function(i){s.onload=s.onerror=null,i.type==="load"?n(s.result):p(new Error("Failed to read the blob/file"))}})},r=function(){const s=new Uint8Array([1,2,3,4]),p=new File([s],"test").stream();try{return p.getReader({mode:"byob"}),!0}catch{return!1}};if(typeof File>"u"){class s extends Blob{constructor(p,i,t){super(p);let o;t?.lastModified&&(o=new Date),(!o||isNaN(o.getFullYear()))&&(o=new Date),this.lastModifiedDate=o,this.lastModified=o.getMilliseconds(),this.name=i||""}}global.File=s}typeof Blob.prototype.arrayBuffer>"u"&&(Blob.prototype.arrayBuffer=function(){const n=new FileReader;return n.readAsArrayBuffer(this),e(n)}),typeof Blob.prototype.text>"u"&&(Blob.prototype.text=function(){const n=new FileReader;return n.readAsText(this),e(n)}),(typeof Blob.prototype.stream>"u"||!r())&&(Blob.prototype.stream=function(){let s=0;const n=this;return new ReadableStream({type:"bytes",autoAllocateChunkSize:512*1024,async pull(p){const i=p.byobRequest.view,o=await n.slice(s,s+i.byteLength).arrayBuffer(),y=new Uint8Array(o);new Uint8Array(i.buffer).set(y);const c=y.byteLength;p.byobRequest.respond(c),s+=c,s>=n.size&&p.close()}})})}if(gn==="NODE"&&typeof CustomEvent>"u"){class e extends Event{constructor(s,n={}){super(s,n),this.detail=n.detail}initCustomEvent(){}}globalThis.CustomEvent=e}const Ya="playground-log",yi=(e,...r)=>{Se.dispatchEvent(new CustomEvent(Ya,{detail:{log:e,args:r}}))},Ka=(e,...r)=>{switch(typeof e.message=="string"?Reflect.set(e,"message",Ds(e.message)):e.message.message&&typeof e.message.message=="string"&&Reflect.set(e.message,"message",Ds(e.message.message)),e.severity){case"Debug":console.debug(e.message,...r);break;case"Info":console.info(e.message,...r);break;case"Warn":console.warn(e.message,...r);break;case"Error":console.error(e.message,...r);break;case"Fatal":console.error(e.message,...r);break;default:console.log(e.message,...r)}},Xa=e=>e instanceof Error?[e.message,e.stack].join(`
`):JSON.stringify(e,null,2),wn=[],mi=e=>{wn.push(e)},Cs=e=>{if(e.raw===!0)mi(e.message);else{const r=to(typeof e.message=="object"?Xa(e.message):e.message,e.severity??"Info",e.prefix??"JavaScript");mi(r)}};let ys=0;const gi="/wordpress/wp-content/debug.log",Qa=async e=>await e.fileExists(gi)?await e.readFileAsText(gi):"",Ja=(e,r)=>{r.addEventListener("request.end",async()=>{const s=await Qa(r);if(s.length>ys){const n=s.substring(ys);e.logMessage({message:n,raw:!0}),ys=s.length}}),r.addEventListener("request.error",s=>{s=s,s.error&&(e.logMessage({message:`${s.error.message} ${s.error.stack}`,severity:"Fatal",prefix:s.source==="request"?"PHP":"WASM Crash"}),e.dispatchEvent(new CustomEvent(e.fatalErrorEvent,{detail:{logs:e.getLogs(),source:s.source}})))})};class eo extends EventTarget{constructor(r=[]){super(),this.handlers=r,this.fatalErrorEvent="playground-fatal-error"}getLogs(){return this.handlers.includes(Cs)?[...wn]:(this.error(`Logs aren't stored because the logToMemory handler isn't registered.
				If you're using a custom logger instance, make sure to register logToMemory handler.
			`),[])}logMessage(r,...s){for(const n of this.handlers)n(r,...s)}log(r,...s){this.logMessage({message:r,severity:void 0,prefix:"JavaScript",raw:!1},...s)}debug(r,...s){this.logMessage({message:r,severity:"Debug",prefix:"JavaScript",raw:!1},...s)}info(r,...s){this.logMessage({message:r,severity:"Info",prefix:"JavaScript",raw:!1},...s)}warn(r,...s){this.logMessage({message:r,severity:"Warn",prefix:"JavaScript",raw:!1},...s)}error(r,...s){this.logMessage({message:r,severity:"Error",prefix:"JavaScript",raw:!1},...s)}}const ro=()=>{try{if(process.env.NODE_ENV==="test")return[Cs,yi]}catch{}return[Cs,Ka,yi]},Se=new eo(ro()),Ds=e=>e.replace(/\t/g,""),to=(e,r,s)=>{const n=new Date,p=new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"2-digit",timeZone:"UTC"}).format(n).replace(/ /g,"-"),i=new Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1,timeZone:"UTC",timeZoneName:"short"}).format(n),t=p+" "+i;return e=Ds(e),`[${t}] ${s} ${r}: ${e}`},Iu=(e,r)=>{e.addEventListener(e.fatalErrorEvent,r)},bn=["db.php","plugins/akismet","plugins/hello.php","plugins/wordpress-importer","mu-plugins/sqlite-database-integration","mu-plugins/playground-includes","mu-plugins/0-playground.php","mu-plugins/0-sqlite.php","themes/twentytwenty","themes/twentytwentyone","themes/twentytwentytwo","themes/twentytwentythree","themes/twentytwentyfour","themes/twentytwentyfive","themes/twentytwentysix"],_n=Symbol("SleepFinished");function so(e){return new Promise(r=>{setTimeout(()=>r(_n),e)})}class io extends Error{constructor(){super("Acquiring lock timed out")}}class no{constructor({concurrency:r,timeout:s}){this._running=0,this.concurrency=r,this.timeout=s,this.queue=[]}get remaining(){return this.concurrency-this.running}get running(){return this._running}async acquire(){for(;;)if(this._running>=this.concurrency){const r=new Promise(s=>{this.queue.push(s)});this.timeout!==void 0?await Promise.race([r,so(this.timeout)]).then(s=>{if(s===_n)throw new io}):await r}else{this._running++;let r=!1;return()=>{r||(r=!0,this._running--,this.queue.length>0&&this.queue.shift()())}}}async run(r){const s=await this.acquire();try{return await r()}finally{s()}}}function ge(...e){function r(i){return i.substring(i.length-1)==="/"}let s=e.join("/");const n=s[0]==="/",p=r(s);return s=ts(s),!s&&!n&&(s="."),s&&p&&!r(s)&&(s+="/"),s}function mt(e){if(e==="/")return"/";e=ts(e);const r=e.lastIndexOf("/");return r===-1?"":r===0?"/":e.substr(0,r)}function Lu(e){if(e==="/")return"/";e=ts(e);const r=e.lastIndexOf("/");return r===-1?e:e.substr(r+1)}function ts(e){const r=e[0]==="/";return e=ao(e.split("/").filter(s=>!!s),!r).join("/"),(r?"/":"")+e.replace(/\/$/,"")}function ao(e,r){let s=0;for(let n=e.length-1;n>=0;n--){const p=e[n];p==="."?e.splice(n,1):p===".."?(e.splice(n,1),s++):s&&(e.splice(n,1),s--)}if(r)for(;s;s--)e.unshift("..");return e}function vn(e=36,r="!@#$%^&*()_+=-[]/.,<>?"){const s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"+r;let n="";for(let p=e;p>0;--p)n+=s[Math.floor(Math.random()*s.length)];return n}function oo(){return vn(36,"-_")}function Fe(e){return`json_decode(base64_decode('${po(JSON.stringify(e))}'), true)`}function ss(e){const r={};for(const s in e)r[s]=Fe(e[s]);return r}function po(e){return fo(new TextEncoder().encode(e))}function fo(e){const r=String.fromCodePoint(...e);return btoa(r)}const Pn=async(e,{pluginPath:r,pluginName:s},n)=>{n?.tracker.setCaption(`Activating ${s||r}`);const p=await e.documentRoot,i=await e.run({code:`<?php
			define( 'WP_ADMIN', true );
			require_once( ${Fe(p)}. "/wp-load.php" );
			require_once( ${Fe(p)}. "/wp-admin/includes/plugin.php" );

			// Set current user to admin
			wp_set_current_user( get_users(array('role' => 'Administrator') )[0]->ID );

			$plugin_path = ${Fe(r)};
			$response = false;
			if (!is_dir($plugin_path)) {
				$response = activate_plugin($plugin_path);
			}

			// Activate plugin by name if activation by path wasn't successful
			if ( null !== $response ) {
				foreach ( ( glob( $plugin_path . '/*.php' ) ?: array() ) as $file ) {
					$info = get_plugin_data( $file, false, false );
					if ( ! empty( $info['Name'] ) ) {
						$response = activate_plugin( $file );
						break;
					}
				}
			}

			if ( null === $response ) {
				die('Plugin activated successfully');
			} else if ( is_wp_error( $response ) ) {
				throw new Exception( $response->get_error_message() );
			}

			throw new Exception( 'Unable to activate plugin' );
		`});if(i.text!=="Plugin activated successfully")throw Se.debug(i),new Error(`Plugin ${r} could not be activated – WordPress exited with no error. Sometimes, when $_SERVER or site options are not configured correctly, WordPress exits early with a 301 redirect. Inspect the "debug" logs in the console for more details`)},kn=async(e,{themeFolderName:r},s)=>{s?.tracker.setCaption(`Activating ${r}`);const n=await e.documentRoot,p=`${n}/wp-content/themes/${r}`;if(!await e.fileExists(p))throw new Error(`
			Couldn't activate theme ${r}.
			Theme not found at the provided theme path: ${p}.
			Check the theme path to ensure it's correct.
			If the theme is not installed, you can install it using the installTheme step.
			More info can be found in the Blueprint documentation: https://wordpress.github.io/wordpress-playground/blueprints/steps/#ActivateThemeStep
		`);const i=await e.run({code:`<?php
			define( 'WP_ADMIN', true );
			require_once( getenv('docroot') . "/wp-load.php" );

			// Set current user to admin
			wp_set_current_user( get_users(array('role' => 'Administrator') )[0]->ID );

			switch_theme( getenv('themeFolderName') );

			if( wp_get_theme()->get_stylesheet() !== getenv('themeFolderName') ) {
				throw new Exception( 'Theme ' . getenv('themeFolderName') . ' could not be activated.' );				
			}
			die('Theme activated successfully');
		`,env:{docroot:n,themeFolderName:r}});if(i.text!=="Theme activated successfully")throw Se.debug(i),new Error(`Theme ${r} could not be activated – WordPress exited with no error. Sometimes, when $_SERVER or site options are not configured correctly, WordPress exits early with a 301 redirect. Inspect the "debug" logs in the console for more details`)},lo=async(e,{code:r})=>await e.run({code:r}),uo=async(e,{options:r})=>await e.run(r),En=async(e,{path:r})=>{await e.unlink(r)},co=async(e,{sql:r},s)=>{s?.tracker.setCaption("Executing SQL Queries");const n=`/tmp/${oo()}.sql`;await e.writeFile(n,new Uint8Array(await r.arrayBuffer()));const p=await e.documentRoot,i=ss({docroot:p,sqlFilename:n}),t=await e.run({code:`<?php
		require_once ${i.docroot} . '/wp-load.php';

		$handle = fopen(${i.sqlFilename}, 'r');
		$buffer = '';

		global $wpdb;

		while ($bytes = fgets($handle)) {
			$buffer .= $bytes;

			if (!feof($handle) && substr($buffer, -1, 1) !== "
") {
				continue;
			}

			$wpdb->query($buffer);
			$buffer = '';
		}
	`});return await En(e,{path:n}),t},ho=async(e,{request:r})=>{Se.warn('Deprecated: The Blueprint step "request" is deprecated and will be removed in a future release.');const s=await e.request(r);if(s.httpStatusCode>399||s.httpStatusCode<200)throw Se.warn("WordPress response was",{response:s}),new Error(`Request failed with status ${s.httpStatusCode}`);return s},yo=`<?php

/**
 * Rewrites the wp-config.php file to ensure specific constants are defined
 * with specific values.
 * 
 * Example:
 * 
 * \`\`\`php
 * <?php
 * define('WP_DEBUG', true);
 * // The third define() argument is also supported:
 * define('SAVEQUERIES', false, true);
 * 
 * // Expression
 * define(true ? 'WP_DEBUG_LOG' : 'WP_DEBUG_LOG', 123);
 * 
 * // Guarded expressions shouldn't be wrapped twice
 * if(!defined(1 ? 'A' : 'B')) {
 *     define(1 ? 'A' : 'B', 0);
 * }
 * 
 * // More advanced expression
 * define((function() use($x) {
 *     return [$x, 'a'];
 * })(), 123);
 * \`\`\`
 * 
 * Rewritten with
 * 
 *     $constants = [
 *        'WP_DEBUG' => false,
 *        'WP_DEBUG_LOG' => true,
 *        'SAVEQUERIES' => true,
 *        'NEW_CONSTANT' => "new constant",
 *     ];
 * 
 * \`\`\`php
 * <?php
 * define('WP_DEBUG_LOG',true);
 * define('NEW_CONSTANT','new constant');
 * ?><?php
 * define('WP_DEBUG',false);
 * // The third define() argument is also supported:
 * define('SAVEQUERIES',true, true);
 * 
 * // Expression
 * if(!defined($const ? 'WP_DEBUG_LOG' : 'WP_DEBUG_LOG')) {
 *      define($const ? 'WP_DEBUG_LOG' : 'WP_DEBUG_LOG', 123);
 * }
 * 
 * // Guarded expressions shouldn't be wrapped twice
 * if(!defined(1 ? 'A' : 'B')) {
 *     define(1 ? 'A' : 'B', 0);
 * }
 * 
 * // More advanced expression
 * if(!defined((function() use($x) {
 *    return [$x, 'a'];
 * })())) {
 *     define((function() use($x) {
 *         return [$x, 'a'];
 *     })(), 123);
 * }
 * \`\`\`
 * 
 * @param mixed $content
 * @return string
 */
function rewrite_wp_config_to_define_constants($content, $constants = [])
{
    $tokens = array_reverse(token_get_all($content));
    $output = [];
    $defined_expressions = [];

    // Look through all the tokens and find the define calls
    do {
        $buffer = [];
        $name_buffer = [];
        $value_buffer = [];
        $third_arg_buffer = [];

        // Capture everything until the define call into output.
        // Capturing the define call into a buffer.
        // Example:
        //     <?php echo 'a'; define  (
        //     ^^^^^^^^^^^^^^^^^^^^^^
        //           output   |buffer
        while ($token = array_pop($tokens)) {
            if (is_array($token) && $token[0] === T_STRING && (strtolower($token[1]) === 'define' || strtolower($token[1]) === 'defined')) {
                $buffer[] = $token;
                break;
            }
            $output[] = $token;
        }

        // Maybe we didn't find a define call and reached the end of the file?
        if (!count($tokens)) {
            break;
        }

        // Keep track of the "defined" expressions that are already accounted for
        if($token[1] === 'defined') {
            $output[] = $token;
            $defined_expression = [];
            $open_parenthesis = 0;
            // Capture everything up to the opening parenthesis, including the parenthesis
            // e.g. defined  (
            //           ^^^^
            while ($token = array_pop($tokens)) {
                $output[] = $token;
                if ($token === "(") {
                    ++$open_parenthesis;
                    break;
                }
            }

            // Capture everything up to the closing parenthesis, including the parenthesis
            // e.g. defined  (
            //           ^^^^
            while ($token = array_pop($tokens)) {
                $output[] = $token;
                if ($token === ")") {
                    --$open_parenthesis;
                }
                if ($open_parenthesis === 0) {
                    break;
                }
                $defined_expression[] = $token;
            }

            $defined_expressions[] = stringify_tokens(skip_whitespace($defined_expression));
            continue;
        }

        // Capture everything up to the opening parenthesis, including the parenthesis
        // e.g. define  (
        //           ^^^^
        while ($token = array_pop($tokens)) {
            $buffer[] = $token;
            if ($token === "(") {
                break;
            }
        }

        // Capture the first argument – it's the first expression after the opening
        // parenthesis and before the comma:
        // Examples:
        //     define("WP_DEBUG", true);
        //            ^^^^^^^^^^^
        //
        //     define(count([1,2]) > 2 ? 'WP_DEBUG' : 'FOO', true);
        //            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        $open_parenthesis = 0;
        while ($token = array_pop($tokens)) {
            $buffer[] = $token;
            if ($token === "(" || $token === "[" || $token === "{") {
                ++$open_parenthesis;
            } elseif ($token === ")" || $token === "]" || $token === "}") {
                --$open_parenthesis;
            } elseif ($token === "," && $open_parenthesis === 0) {
                break;
            }

            // Don't capture the comma as a part of the constant name
            $name_buffer[] = $token;
        }

        // Capture everything until the closing parenthesis
        //     define("WP_DEBUG", true);
        //                       ^^^^^^
        $open_parenthesis = 0;
        $is_second_argument = true;
        while ($token = array_pop($tokens)) {
            $buffer[] = $token;
            if ($token === ")" && $open_parenthesis === 0) {
                // Final parenthesis of the define call.
                break;
            } else if ($token === "(" || $token === "[" || $token === "{") {
                ++$open_parenthesis;
            } elseif ($token === ")" || $token === "]" || $token === "}") {
                --$open_parenthesis;
            } elseif ($token === "," && $open_parenthesis === 0) {
                // This define call has more than 2 arguments! The third one is the
                // boolean value indicating $is_case_insensitive. Let's continue capturing
                // to $third_arg_buffer.
                $is_second_argument = false;
            }
            if ($is_second_argument) {
                $value_buffer[] = $token;
            } else {
                $third_arg_buffer[] = $token;
            }
        }

        // Capture until the semicolon
        //     define("WP_DEBUG", true)  ;
        //                             ^^^
        while ($token = array_pop($tokens)) {
            $buffer[] = $token;
            if ($token === ";") {
                break;
            }
        }

        // Decide whether $name_buffer is a constant name or an expression
        $name_token = null;
        $name_token_index = $token;
        $name_is_literal = true;
        foreach ($name_buffer as $k => $token) {
            if (is_array($token)) {
                if ($token[0] === T_WHITESPACE || $token[0] === T_COMMENT || $token[0] === T_DOC_COMMENT) {
                    continue;
                } else if ($token[0] === T_STRING || $token[0] === T_CONSTANT_ENCAPSED_STRING) {
                    $name_token = $token;
                    $name_token_index = $k;
                } else {
                    $name_is_literal = false;
                    break;
                }
            } else if ($token !== "(" && $token !== ")") {
                $name_is_literal = false;
                break;
            }
        }

        // We can't handle expressions as constant names. Let's wrap that define
        // call in an if(!defined()) statement, just in case it collides with
        // a constant name.
        if (!$name_is_literal) {
            // Ensure the defined expression is not already accounted for
            foreach ($defined_expressions as $defined_expression) {
                if ($defined_expression === stringify_tokens(skip_whitespace($name_buffer))) {
                    $output = array_merge($output, $buffer);
                    continue 2;
                }
            }
            $output = array_merge(
                $output,
                ["if(!defined("],
                $name_buffer,
                [")) {\\n     "],
                ['define('],
                $name_buffer,
                [','],
                $value_buffer,
                $third_arg_buffer,
                [");"],
                ["\\n}\\n"]
            );
            continue;
        }

        // Yay, we have a literal constant name in the buffer now. Let's
        // get its value:
        $name = eval('return ' . $name_token[1] . ';');

        // If the constant name is not in the list of constants we're looking,
        // we can ignore it.
        if (!array_key_exists($name, $constants)) {
            $output = array_merge($output, $buffer);
            continue;
        }

        // We now have a define() call that defines a constant we're looking for.
        // Let's rewrite its value to the one 
        $output = array_merge(
            $output,
            ['define('],
            $name_buffer,
            [','],
            [var_export($constants[$name], true)],
            $third_arg_buffer,
            [");"]
        );

        // Remove the constant from the list so we can process any remaining
        // constants later.
        unset($constants[$name]);
    } while (count($tokens));

    // Add any constants that weren't found in the file
    if (count($constants)) {
        $prepend = [
            "<?php \\n"
        ];
        foreach ($constants as $name => $value) {
            $prepend = array_merge(
                $prepend,
                [
                    "define(",
                    var_export($name, true),
                    ',',
                    var_export($value, true),
                    ");\\n"
                ]
            );
        }
        $prepend[] = "?>";
        $output = array_merge(
            $prepend,
            $output
        );
    }

    // Translate the output tokens back into a string
    return stringify_tokens($output);
}

function stringify_tokens($tokens) {
    $output = '';
    foreach ($tokens as $token) {
        if (is_array($token)) {
            $output .= $token[1];
        } else {
            $output .= $token;
        }
    }
    return $output;
}

function skip_whitespace($tokens) {
    $output = [];
    foreach ($tokens as $token) {
        if (is_array($token) && ($token[0] === T_WHITESPACE || $token[0] === T_COMMENT || $token[0] === T_DOC_COMMENT)) {
            continue;
        }
        $output[] = $token;
    }
    return $output;
}
`,Js=async(e,{consts:r,method:s="define-before-run"})=>{switch(s){case"define-before-run":await mo(e,r);break;case"rewrite-wp-config":{const n=await e.documentRoot,p=ge(n,"/wp-config.php"),i=await e.readFileAsText(p),t=await go(e,i,r);await e.writeFile(p,t);break}default:throw new Error(`Invalid method: ${s}`)}};async function mo(e,r){for(const s in r)await e.defineConstant(s,r[s])}async function go(e,r,s){await e.writeFile("/tmp/code.php",r);const n=ss({consts:s});return await e.run({code:`${yo}
	$wp_config_path = '/tmp/code.php';
	$wp_config = file_get_contents($wp_config_path);
	$new_wp_config = rewrite_wp_config_to_define_constants($wp_config, ${n.consts});
	file_put_contents($wp_config_path, $new_wp_config);
	`}),await e.readFileAsText("/tmp/code.php")}const On=async(e,{options:r})=>{const s=await e.documentRoot;await e.run({code:`<?php
		include ${Fe(s)} . '/wp-load.php';
		$site_options = ${Fe(r)};
		foreach($site_options as $name => $value) {
			update_option($name, $value);
		}
		echo "Success";
		`})},wo=async(e,{meta:r,userId:s})=>{const n=await e.documentRoot;await e.run({code:`<?php
		include ${Fe(n)} . '/wp-load.php';
		$meta = ${Fe(r)};
		foreach($meta as $name => $value) {
			update_user_meta(${Fe(s)}, $name, $value);
		}
		`})},ei="/tmp/wp-cli.phar",bo={resource:"url",url:"https://playground.wordpress.net/wp-cli.phar"},xn=async(e,r=ei)=>{if(!await e.fileExists(r))throw new Error(`wp-cli.phar not found at ${r}.
			You can enable wp-cli support by adding "wp-cli" to the list of extra libraries in your blueprint as follows:
			{
				"extraLibraries": [ "wp-cli" ]
			}
			Read more about it in the documentation.
			https://wordpress.github.io/wordpress-playground/blueprints/data-format#extra-libraries`)},Tn=async(e,{command:r,wpCliPath:s=ei})=>{await xn(e,s);let n;if(typeof r=="string"?(r=r.trim(),n=_o(r)):n=r,n.shift()!=="wp")throw new Error('The first argument must be "wp".');const i=await e.documentRoot;await e.writeFile("/tmp/stdout",""),await e.writeFile("/tmp/stderr",""),await e.writeFile(ge(i,"run-cli.php"),`<?php
		// Set up the environment to emulate a shell script
		// call.

		// Set SHELL_PIPE to 0 to ensure WP-CLI formats
		// the output as ASCII tables.
		// @see https://github.com/wp-cli/wp-cli/issues/1102
		putenv( 'SHELL_PIPE=0' );

		// Set the argv global.
		$GLOBALS['argv'] = array_merge([
		  "/tmp/wp-cli.phar",
		  "--path=${i}"
		], ${Fe(n)});

		// Provide stdin, stdout, stderr streams outside of
		// the CLI SAPI.
		define('STDIN', fopen('php://stdin', 'rb'));
		define('STDOUT', fopen('php://stdout', 'wb'));
		define('STDERR', fopen('php://stderr', 'wb'));

		require( ${Fe(s)} );
		`);const t=await e.run({scriptPath:ge(i,"run-cli.php")});if(t.errors)throw new Error(t.errors);return t};function _o(e){let n=0,p="";const i=[];let t="";for(let o=0;o<e.length;o++){const y=e[o];n===0?y==='"'||y==="'"?(n=1,p=y):y.match(/\s/)?(t&&i.push(t),t=""):t+=y:n===1&&(y==="\\"?(o++,t+=e[o]):y===p?(n=0,p=""):t+=y)}return t&&i.push(t),i}const vo=async(e,{wpCliPath:r})=>{await xn(e,r),await Js(e,{consts:{WP_ALLOW_MULTISITE:1}});const s=new URL(await e.absoluteUrl);if(s.port!==""){let i=`The current host is ${s.host}, but WordPress multisites do not support custom ports.`;throw s.hostname==="localhost"&&(i+=" For development, you can set up a playground.test domain using the instructions at https://wordpress.github.io/wordpress-playground/contributing/code."),new Error(i)}const n=s.pathname.replace(/\/$/,"")+"/",p=`${s.protocol}//${s.hostname}${n}`;await On(e,{options:{siteurl:p,home:p}}),await Tn(e,{command:"wp core multisite-convert"})},Po=async(e,{fromPath:r,toPath:s})=>{await e.writeFile(s,await e.readFileAsBuffer(r))},ko=async(e,{fromPath:r,toPath:s})=>{await e.mv(r,s)},Eo=async(e,{path:r})=>{await e.mkdir(r)},Oo=async(e,{path:r})=>{await e.rmdir(r)},$n=async(e,{path:r,data:s})=>{s instanceof File&&(s=new Uint8Array(await s.arrayBuffer())),r.startsWith("/wordpress/wp-content/mu-plugins")&&!await e.fileExists("/wordpress/wp-content/mu-plugins")&&await e.mkdir("/wordpress/wp-content/mu-plugins"),await e.writeFile(r,s)},Vt={0:"No error occurred. System call completed successfully.",1:"Argument list too long.",2:"Permission denied.",3:"Address in use.",4:"Address not available.",5:"Address family not supported.",6:"Resource unavailable, or operation would block.",7:"Connection already in progress.",8:"Bad file descriptor.",9:"Bad message.",10:"Device or resource busy.",11:"Operation canceled.",12:"No child processes.",13:"Connection aborted.",14:"Connection refused.",15:"Connection reset.",16:"Resource deadlock would occur.",17:"Destination address required.",18:"Mathematics argument out of domain of function.",19:"Reserved.",20:"File exists.",21:"Bad address.",22:"File too large.",23:"Host is unreachable.",24:"Identifier removed.",25:"Illegal byte sequence.",26:"Operation in progress.",27:"Interrupted function.",28:"Invalid argument.",29:"I/O error.",30:"Socket is connected.",31:"There is a directory under that path.",32:"Too many levels of symbolic links.",33:"File descriptor value too large.",34:"Too many links.",35:"Message too large.",36:"Reserved.",37:"Filename too long.",38:"Network is down.",39:"Connection aborted by network.",40:"Network unreachable.",41:"Too many files open in system.",42:"No buffer space available.",43:"No such device.",44:"There is no such file or directory OR the parent directory does not exist.",45:"Executable file format error.",46:"No locks available.",47:"Reserved.",48:"Not enough space.",49:"No message of the desired type.",50:"Protocol not available.",51:"No space left on device.",52:"Function not supported.",53:"The socket is not connected.",54:"Not a directory or a symbolic link to a directory.",55:"Directory not empty.",56:"State not recoverable.",57:"Not a socket.",58:"Not supported, or operation not supported on socket.",59:"Inappropriate I/O control operation.",60:"No such device or address.",61:"Value too large to be stored in data type.",62:"Previous owner died.",63:"Operation not permitted.",64:"Broken pipe.",65:"Protocol error.",66:"Protocol not supported.",67:"Protocol wrong type for socket.",68:"Result too large.",69:"Read-only file system.",70:"Invalid seek.",71:"No such process.",72:"Reserved.",73:"Connection timed out.",74:"Text file busy.",75:"Cross-device link.",76:"Extension: Capabilities insufficient."};function xo(e){const r=typeof e=="object"?e?.errno:null;if(r in Vt)return Vt[r]}function Ye(e=""){return function(s,n,p){const i=p.value;p.value=function(...t){try{return i.apply(this,t)}catch(o){const y=typeof o=="object"?o?.errno:null;if(y in Vt){const c=Vt[y],h=typeof t[1]=="string"?t[1]:null,b=h!==null?e.replaceAll("{path}",h):e;throw new Error(`${b}: ${c}`,{cause:o})}throw o}}}}var To=Object.defineProperty,$o=Object.getOwnPropertyDescriptor,Ke=(e,r,s,n)=>{for(var p=n>1?void 0:n?$o(r,s):r,i=e.length-1,t;i>=0;i--)(t=e[i])&&(p=(n?t(r,s,p):t(p))||p);return n&&p&&To(r,s,p),p};const Xe=class je{static readFileAsText(r,s){return new TextDecoder().decode(je.readFileAsBuffer(r,s))}static readFileAsBuffer(r,s){return r.readFile(s)}static writeFile(r,s,n){r.writeFile(s,n)}static unlink(r,s){r.unlink(s)}static mv(r,s,n){try{const p=r.lookupPath(s).node.mount,i=je.fileExists(r,n)?r.lookupPath(n).node.mount:r.lookupPath(mt(n)).node.mount;p.mountpoint!==i.mountpoint?(je.copyRecursive(r,s,n),je.isDir(r,s)?je.rmdir(r,s,{recursive:!0}):r.unlink(s)):r.rename(s,n)}catch(p){const i=xo(p);throw i?new Error(`Could not move ${s} to ${n}: ${i}`,{cause:p}):p}}static rmdir(r,s,n={recursive:!0}){n?.recursive&&je.listFiles(r,s).forEach(p=>{const i=`${s}/${p}`;je.isDir(r,i)?je.rmdir(r,i,n):je.unlink(r,i)}),r.rmdir(s)}static listFiles(r,s,n={prependPath:!1}){if(!je.fileExists(r,s))return[];try{const p=r.readdir(s).filter(i=>i!=="."&&i!=="..");if(n.prependPath){const i=s.replace(/\/$/,"");return p.map(t=>`${i}/${t}`)}return p}catch(p){return Se.error(p,{path:s}),[]}}static isDir(r,s){return je.fileExists(r,s)?r.isDir(r.lookupPath(s,{follow:!0}).node.mode):!1}static isFile(r,s){return je.fileExists(r,s)?r.isFile(r.lookupPath(s,{follow:!0}).node.mode):!1}static symlink(r,s,n){return r.symlink(s,n)}static isSymlink(r,s){return je.fileExists(r,s)?r.isLink(r.lookupPath(s).node.mode):!1}static readlink(r,s){return r.readlink(s)}static realpath(r,s){return r.lookupPath(s,{follow:!0}).path}static fileExists(r,s){try{return r.lookupPath(s),!0}catch{return!1}}static mkdir(r,s){r.mkdirTree(s)}static copyRecursive(r,s,n){const p=r.lookupPath(s).node;if(r.isDir(p.mode)){r.mkdirTree(n);const i=r.readdir(s).filter(t=>t!=="."&&t!=="..");for(const t of i)je.copyRecursive(r,ge(s,t),ge(n,t))}else r.writeFile(n,r.readFile(s))}};Ke([Ye('Could not read "{path}"')],Xe,"readFileAsText",1);Ke([Ye('Could not read "{path}"')],Xe,"readFileAsBuffer",1);Ke([Ye('Could not write to "{path}"')],Xe,"writeFile",1);Ke([Ye('Could not unlink "{path}"')],Xe,"unlink",1);Ke([Ye('Could not remove directory "{path}"')],Xe,"rmdir",1);Ke([Ye('Could not list files in "{path}"')],Xe,"listFiles",1);Ke([Ye('Could not stat "{path}"')],Xe,"isDir",1);Ke([Ye('Could not stat "{path}"')],Xe,"isFile",1);Ke([Ye('Could not stat "{path}"')],Xe,"realpath",1);Ke([Ye('Could not stat "{path}"')],Xe,"fileExists",1);Ke([Ye('Could not create directory "{path}"')],Xe,"mkdir",1);Ke([Ye('Could not copy files from "{path}"')],Xe,"copyRecursive",1);const Ao={500:"Internal Server Error",502:"Bad Gateway",404:"Not Found",403:"Forbidden",401:"Unauthorized",400:"Bad Request",301:"Moved Permanently",302:"Found",307:"Temporary Redirect",308:"Permanent Redirect",204:"No Content",201:"Created",200:"OK"};class Yt{constructor(r,s,n,p="",i=0){this.httpStatusCode=r,this.headers=s,this.bytes=n,this.exitCode=i,this.errors=p}static forHttpCode(r,s=""){return new Yt(r,{},new TextEncoder().encode(s||Ao[r]||""))}static fromRawData(r){return new Yt(r.httpStatusCode,r.headers,r.bytes,r.errors,r.exitCode)}toRawData(){return{headers:this.headers,bytes:this.bytes,errors:this.errors,exitCode:this.exitCode,httpStatusCode:this.httpStatusCode}}get json(){return JSON.parse(this.text)}get text(){return new TextDecoder().decode(this.bytes)}}(function(){return typeof process<"u"&&process.release?.name==="node"?"NODE":typeof window<"u"?"WEB":typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?"WORKER":"NODE"})();ReadableStream.prototype[Symbol.asyncIterator]||(ReadableStream.prototype[Symbol.asyncIterator]=async function*(){const e=this.getReader();try{for(;;){const{done:r,value:s}=await e.read();if(r)return;yield s}}finally{e.releaseLock()}},ReadableStream.prototype.iterate=ReadableStream.prototype[Symbol.asyncIterator]);const ri=["8.3","8.2","8.1","8.0","7.4","7.3","7.2","7.1","7.0"],So=ri[0],Nu=ri;async function is(e,r,s,{rmRoot:n=!1}={}){n&&await e.isDir(r)&&await e.rmdir(r,{recursive:!0});for(const[p,i]of Object.entries(s)){const t=ge(r,p);await e.fileExists(mt(t))||await e.mkdir(mt(t)),i instanceof Uint8Array||typeof i=="string"?await e.writeFile(t,i):await is(e,t,i)}}const Ro=async(e,{writeToPath:r,filesTree:s})=>{await is(e,r,s.files)},An=async(e,{siteUrl:r})=>{await Js(e,{consts:{WP_HOME:r,WP_SITEURL:r}})},Fo=async(e,{file:r},s)=>{s?.tracker?.setCaption("Importing content"),await $n(e,{path:"/tmp/import.wxr",data:r});const n=await e.documentRoot;await e.run({code:`<?php
		require ${Fe(n)} . '/wp-load.php';
		require ${Fe(n)} . '/wp-admin/includes/admin.php';
  
		kses_remove_filters();
		$admin_id = get_users(array('role' => 'Administrator') )[0]->ID;
        wp_set_current_user( $admin_id );
		$importer = new WXR_Importer( array(
			'fetch_attachments' => true,
			'default_author' => $admin_id
		) );
		$logger = new WP_Importer_Logger_CLI();
		$importer->set_logger( $logger );

		// Slashes from the imported content are lost if we don't call wp_slash here.
		add_action( 'wp_insert_post_data', function( $data ) {
			return wp_slash($data);
		});

		$result = $importer->import( '/tmp/import.wxr' );
		`})},Sn=async(e,{themeSlug:r=""},s)=>{s?.tracker?.setCaption("Importing theme starter content");const n=await e.documentRoot;await e.run({code:`<?php

		/**
		 * Ensure that the customizer loads as an admin user.
		 *
		 * For compatibility with themes, this MUST be run prior to theme inclusion, which is why this is a plugins_loaded filter instead
		 * of running _wp_customize_include() manually after load.
		 */
		function importThemeStarterContent_plugins_loaded() {
			// Set as the admin user, this ensures we can customize the site.
			wp_set_current_user(
				get_users( [ 'role' => 'Administrator' ] )[0]
			);

			// Force the site to be fresh, although it should already be.
			add_filter( 'pre_option_fresh_site', '__return_true' );

			/*
			 * Simulate this request as the customizer loading with the current theme in preview mode.
			 *
			 * See _wp_customize_include()
			 */
			$_REQUEST['wp_customize']    = 'on';
			$_REQUEST['customize_theme'] = ${Fe(r)} ?: get_stylesheet();

			/*
			 * Claim this is a ajax request saving settings, to avoid the preview filters being applied.
			 */
			$_REQUEST['action'] = 'customize_save';
			add_filter( 'wp_doing_ajax', '__return_true' );

			$_GET = $_REQUEST;
		}
		playground_add_filter( 'plugins_loaded', 'importThemeStarterContent_plugins_loaded', 0 );

		require ${Fe(n)} . '/wp-load.php';

		// Return early if there's no starter content.
		if ( ! get_theme_starter_content() ) {
			return;
		}

		// Import the Starter Content.
		$wp_customize->import_theme_starter_content();

		// Publish the changeset, which publishes the starter content.
		wp_publish_post( $wp_customize->changeset_post_id() );
		`})},ms="/tmp/file.zip",Rn=async(e,r,s,n=!0)=>{if(r instanceof File){const i=r;r=ms,await e.writeFile(r,new Uint8Array(await i.arrayBuffer()))}const p=ss({zipPath:r,extractToPath:s,overwriteFiles:n});await e.run({code:`<?php
        function unzip($zipPath, $extractTo, $overwriteFiles = true)
        {
            if (!is_dir($extractTo)) {
                mkdir($extractTo, 0777, true);
            }
            $zip = new ZipArchive;
            $res = $zip->open($zipPath);
            if ($res === TRUE) {
				for ($i = 0; $i < $zip->numFiles; $i++) {
					$filename = $zip->getNameIndex($i);
					$fileinfo = pathinfo($filename);
					$extractFilePath = rtrim($extractTo, '/') . '/' . $filename;
					// Check if file exists and $overwriteFiles is false
					if (!file_exists($extractFilePath) || $overwriteFiles) {
						// Extract file
						$zip->extractTo($extractTo, $filename);
					}
				}
				$zip->close();
				chmod($extractTo, 0777);
            } else {
                throw new Exception("Could not unzip file");
            }
        }
        unzip(${p.zipPath}, ${p.extractToPath}, ${p.overwriteFiles});
        `}),await e.fileExists(ms)&&await e.unlink(ms)},ti=async(e,{zipFile:r,zipPath:s,extractToPath:n})=>{if(s)Se.warn('The "zipPath" option of the unzip() Blueprint step is deprecated and will be removed. Use "zipFile" instead.');else if(!r)throw new Error("Either zipPath or zipFile must be provided");await Rn(e,r||s,n)},Bo=async(e,{wordPressFilesZip:r,pathInZip:s=""})=>{const n=await e.documentRoot;let p=ge("/tmp","import");await e.mkdir(p),await ti(e,{zipFile:r,extractToPath:p}),p=ge(p,s);const i=ge(p,"wp-content"),t=ge(n,"wp-content");for(const h of bn){const b=ge(i,h);await wi(e,b);const w=ge(t,h);await e.fileExists(w)&&(await e.mkdir(mt(b)),await e.mv(w,b))}const o=ge(p,"wp-content","database");await e.fileExists(o)||await e.mv(ge(n,"wp-content","database"),o);const y=await e.listFiles(p);for(const h of y)await wi(e,ge(n,h)),await e.mv(ge(p,h),ge(n,h));await e.rmdir(p),await An(e,{siteUrl:await e.absoluteUrl});const c=Fe(ge(n,"wp-admin","upgrade.php"));await e.run({code:`<?php
            $_GET['step'] = 'upgrade_db';
            require ${c};
            `})};async function wi(e,r){await e.fileExists(r)&&(await e.isDir(r)?await e.rmdir(r):await e.unlink(r))}async function jo(e){const r=await e.request({url:"/wp-admin/export.php?download=true&content=all"});return new File([r.bytes],"export.xml")}async function Fn(e,{targetPath:r,zipFile:s,ifAlreadyInstalled:n="overwrite",targetFolderName:p=""}){const t=s.name.replace(/\.zip$/,""),o=ge(await e.documentRoot,"wp-content"),y=ge(o,vn()),c=ge(y,"assets",t);await e.fileExists(c)&&await e.rmdir(y,{recursive:!0}),await e.mkdir(y);try{await ti(e,{zipFile:s,extractToPath:c});let h=await e.listFiles(c,{prependPath:!0});h=h.filter(k=>!k.endsWith("/__MACOSX"));const b=h.length===1&&await e.isDir(h[0]);let w,_="";b?(_=h[0],w=h[0].split("/").pop()):(_=c,w=t),p&&p.length&&(w=p);const F=`${r}/${w}`;if(await e.fileExists(F)){if(!await e.isDir(F))throw new Error(`Cannot install asset ${w} to ${F} because a file with the same name already exists. Note it's a file, not a directory! Is this by mistake?`);if(n==="overwrite")await e.rmdir(F,{recursive:!0});else{if(n==="skip")return{assetFolderPath:F,assetFolderName:w};throw new Error(`Cannot install asset ${w} to ${r} because it already exists and the ifAlreadyInstalled option was set to ${n}`)}}return await e.mv(_,F),{assetFolderPath:F,assetFolderName:w}}finally{await e.rmdir(y,{recursive:!0})}}function ns(e){const r=e.split(".").shift().replace(/-/g," ");return r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()}const Io=async(e,{pluginData:r,pluginZipFile:s,ifAlreadyInstalled:n,options:p={}},i)=>{s&&(r=s,Se.warn('The "pluginZipFile" option is deprecated. Use "pluginData" instead.'));const t="targetFolderName"in p?p.targetFolderName:"";let o="",y="";if(r instanceof File){const h=r.name.split("/").pop()||"plugin.zip";y=ns(h),i?.tracker.setCaption(`Installing the ${y} plugin`);const b=await Fn(e,{ifAlreadyInstalled:n,zipFile:r,targetPath:`${await e.documentRoot}/wp-content/plugins`,targetFolderName:t});o=b.assetFolderPath,y=b.assetFolderName}else if(r){y=r.name,i?.tracker.setCaption(`Installing the ${y} plugin`);const h=ge(await e.documentRoot,"wp-content","plugins",t||r.name);await is(e,h,r.files,{rmRoot:!0}),o=h}("activate"in p?p.activate:!0)&&await Pn(e,{pluginPath:o,pluginName:y},i)},Lo=async(e,{themeData:r,themeZipFile:s,ifAlreadyInstalled:n,options:p={}},i)=>{s&&(r=s,Se.warn('The "themeZipFile" option is deprecated. Use "themeData" instead.'));const t="targetFolderName"in p?p.targetFolderName:"";let o="",y="";if(r instanceof File){const b=r.name.split("/").pop()||"theme.zip";y=ns(b),i?.tracker.setCaption(`Installing the ${y} theme`),o=(await Fn(e,{ifAlreadyInstalled:n,zipFile:r,targetPath:`${await e.documentRoot}/wp-content/themes`,targetFolderName:t})).assetFolderName}else{y=r.name,o=t||y,i?.tracker.setCaption(`Installing the ${y} theme`);const b=ge(await e.documentRoot,"wp-content","themes",o);await is(e,b,r.files,{rmRoot:!0})}("activate"in p?p.activate:!0)&&await kn(e,{themeFolderName:o},i),("importStarterContent"in p?p.importStarterContent:!1)&&await Sn(e,{themeSlug:o},i)},No=async(e,{username:r="admin"}={},s)=>{s?.tracker.setCaption(s?.initialCaption||"Logging in"),e.defineConstant("PLAYGROUND_AUTO_LOGIN_AS_USER",r)},Co=async(e,r,s)=>{s?.tracker?.setCaption("Resetting WordPress data");const n=await e.documentRoot;await e.run({env:{DOCROOT:n},code:`<?php
		require getenv('DOCROOT') . '/wp-load.php';

		$GLOBALS['@pdo']->query('DELETE FROM wp_posts WHERE id > 0');
		$GLOBALS['@pdo']->query("UPDATE SQLITE_SEQUENCE SET SEQ=0 WHERE NAME='wp_posts'");
		
		$GLOBALS['@pdo']->query('DELETE FROM wp_postmeta WHERE post_id > 1');
		$GLOBALS['@pdo']->query("UPDATE SQLITE_SEQUENCE SET SEQ=20 WHERE NAME='wp_postmeta'");

		$GLOBALS['@pdo']->query('DELETE FROM wp_comments');
		$GLOBALS['@pdo']->query("UPDATE SQLITE_SEQUENCE SET SEQ=0 WHERE NAME='wp_comments'");

		$GLOBALS['@pdo']->query('DELETE FROM wp_commentmeta');
		$GLOBALS['@pdo']->query("UPDATE SQLITE_SEQUENCE SET SEQ=0 WHERE NAME='wp_commentmeta'");
		`})},Do=async(e,{options:r})=>{await e.request({url:"/wp-admin/install.php?step=2",method:"POST",body:{language:"en",prefix:"wp_",weblog_title:"My WordPress Website",user_name:r.adminPassword||"admin",admin_password:r.adminPassword||"password",admin_password2:r.adminPassword||"password",Submit:"Install WordPress",pw_weak:"1",admin_email:"admin@localhost.com"}})},qo=async(e,{selfContained:r=!1}={})=>{const s="/tmp/wordpress-playground.zip",n=await e.documentRoot,p=ge(n,"wp-content");let i=bn;r&&(i=i.filter(y=>!y.startsWith("themes/twenty")).filter(y=>y!=="mu-plugins/sqlite-database-integration"));const t=ss({zipPath:s,wpContentPath:p,documentRoot:n,exceptPaths:i.map(y=>ge(n,"wp-content",y)),additionalPaths:r?{[ge(n,"wp-config.php")]:"wp-config.php"}:{}});await zo(e,`zipDir(${t.wpContentPath}, ${t.zipPath}, array(
			'exclude_paths' => ${t.exceptPaths},
			'zip_root'      => ${t.documentRoot},
			'additional_paths' => ${t.additionalPaths}
		));`);const o=await e.readFileAsBuffer(s);return e.unlink(s),o},Uo=`<?php

function zipDir($root, $output, $options = array())
{
    $root = rtrim($root, '/');
    $additionalPaths = array_key_exists('additional_paths', $options) ? $options['additional_paths'] : array();
    $excludePaths = array_key_exists('exclude_paths', $options) ? $options['exclude_paths'] : array();
    $zip_root = array_key_exists('zip_root', $options) ? $options['zip_root'] : $root;

    $zip = new ZipArchive;
    $res = $zip->open($output, ZipArchive::CREATE);
    if ($res === TRUE) {
        $directories = array(
            $root . '/'
        );
        while (sizeof($directories)) {
            $current_dir = array_pop($directories);

            if ($handle = opendir($current_dir)) {
                while (false !== ($entry = readdir($handle))) {
                    if ($entry == '.' || $entry == '..') {
                        continue;
                    }

                    $entry = join_paths($current_dir, $entry);
                    if (in_array($entry, $excludePaths)) {
                        continue;
                    }

                    if (is_dir($entry)) {
                        $directory_path = $entry . '/';
                        array_push($directories, $directory_path);
                    } else if (is_file($entry)) {
                        $zip->addFile($entry, substr($entry, strlen($zip_root)));
                    }
                }
                closedir($handle);
            }
        }
        foreach ($additionalPaths as $disk_path => $zip_path) {
            $zip->addFile($disk_path, $zip_path);
        }
        $zip->close();
        chmod($output, 0777);
    }
}

function join_paths()
{
    $paths = array();

    foreach (func_get_args() as $arg) {
        if ($arg !== '') {
            $paths[] = $arg;
        }
    }

    return preg_replace('#/+#', '/', join('/', $paths));
}
`;async function zo(e,r){return await e.run({code:Uo+r})}const Mo=async(e,{language:r},s)=>{s?.tracker.setCaption(s?.initialCaption||"Translating"),await e.defineConstant("WPLANG",r);const n=await e.documentRoot,i=[{url:`https://downloads.wordpress.org/translation/core/${(await e.run({code:`<?php
			require '${n}/wp-includes/version.php';
			echo $wp_version;
		`})).text}/${r}.zip`,type:"core"}],o=(await e.run({code:`<?php
		require_once('${n}/wp-load.php');
		require_once('${n}/wp-admin/includes/plugin.php');
		echo json_encode(
			array_values(
				array_map(
					function($plugin) {
						return [
							'slug'    => $plugin['TextDomain'],
							'version' => $plugin['Version']
						];
					},
					array_filter(
						get_plugins(),
						function($plugin) {
							return !empty($plugin['TextDomain']);
						}
					)
				)
			)
		);`})).json;for(const{slug:h,version:b}of o)i.push({url:`https://downloads.wordpress.org/translation/plugin/${h}/${b}/${r}.zip`,type:"plugin"});const c=(await e.run({code:`<?php
		require_once('${n}/wp-load.php');
		require_once('${n}/wp-admin/includes/theme.php');
		echo json_encode(
			array_values(
				array_map(
					function($theme) {
						return [
							'slug'    => $theme->get('TextDomain'),
							'version' => $theme->get('Version')
						];
					},
					wp_get_themes()
				)
			)
		);`})).json;for(const{slug:h,version:b}of c)i.push({url:`https://downloads.wordpress.org/translation/theme/${h}/${b}/${r}.zip`,type:"theme"});await e.isDir(`${n}/wp-content/languages/plugins`)||await e.mkdir(`${n}/wp-content/languages/plugins`),await e.isDir(`${n}/wp-content/languages/themes`)||await e.mkdir(`${n}/wp-content/languages/themes`);for(const{url:h,type:b}of i)try{const w=await fetch(h);if(!w.ok)throw new Error(`Failed to download translations for ${b}: ${w.statusText}`);let _=`${n}/wp-content/languages`;b==="plugin"?_+="/plugins":b==="theme"&&(_+="/themes"),await Rn(e,new File([await w.blob()],`${r}-${b}.zip`),_)}catch(w){if(b==="core")throw new Error(`Failed to download translations for WordPress. Please check if the language code ${r} is correct. You can find all available languages and translations on https://translate.wordpress.org/.`);Se.warn(`Error downloading translations for ${b}: ${w}`)}},Ho=Object.freeze(Object.defineProperty({__proto__:null,activatePlugin:Pn,activateTheme:kn,cp:Po,defineSiteUrl:An,defineWpConfigConsts:Js,enableMultisite:vo,exportWXR:jo,importThemeStarterContent:Sn,importWordPressFiles:Bo,importWxr:Fo,installPlugin:Io,installTheme:Lo,login:No,mkdir:Eo,mv:ko,request:ho,resetData:Co,rm:En,rmdir:Oo,runPHP:lo,runPHPWithOptions:uo,runSql:co,runWpInstallationWizard:Do,setSiteLanguage:Mo,setSiteOptions:On,unzip:ti,updateUserMeta:wo,wpCLI:Tn,writeFile:$n,writeFiles:Ro,zipWpContent:qo},Symbol.toStringTag,{value:"Module"})),Wo=5*1024*1024;function Zo(e,r){const s=e.headers.get("content-length")||"",n=parseInt(s,10)||Wo;function p(i,t){r(new CustomEvent("progress",{detail:{loaded:i,total:t}}))}return new Response(new ReadableStream({async start(i){if(!e.body){i.close();return}const t=e.body.getReader();let o=0;for(;;)try{const{done:y,value:c}=await t.read();if(c&&(o+=c.byteLength),y){p(o,o),i.close();break}else p(o,n),i.enqueue(c)}catch(y){Se.error({e:y}),i.error(y);break}}}),{status:e.status,statusText:e.statusText,headers:e.headers})}const gs=1e-5;class as extends EventTarget{constructor({weight:r=1,caption:s="",fillTime:n=4}={}){super(),this._selfWeight=1,this._selfDone=!1,this._selfProgress=0,this._selfCaption="",this._isFilling=!1,this._subTrackers=[],this._weight=r,this._selfCaption=s,this._fillTime=n}stage(r,s=""){if(r||(r=this._selfWeight),this._selfWeight-r<-gs)throw new Error(`Cannot add a stage with weight ${r} as the total weight of registered stages would exceed 1.`);this._selfWeight-=r;const n=new as({caption:s,weight:r,fillTime:this._fillTime});return this._subTrackers.push(n),n.addEventListener("progress",()=>this.notifyProgress()),n.addEventListener("done",()=>{this.done&&this.notifyDone()}),n}fillSlowly({stopBeforeFinishing:r=!0}={}){if(this._isFilling)return;this._isFilling=!0;const s=100,n=this._fillTime/s;this._fillInterval=setInterval(()=>{this.set(this._selfProgress+1),r&&this._selfProgress>=99&&clearInterval(this._fillInterval)},n)}set(r){this._selfProgress=Math.min(r,100),this.notifyProgress(),this._selfProgress+gs>=100&&this.finish()}finish(){this._fillInterval&&clearInterval(this._fillInterval),this._selfDone=!0,this._selfProgress=100,this._isFilling=!1,this._fillInterval=void 0,this.notifyProgress(),this.notifyDone()}get caption(){for(let r=this._subTrackers.length-1;r>=0;r--)if(!this._subTrackers[r].done){const s=this._subTrackers[r].caption;if(s)return s}return this._selfCaption}setCaption(r){this._selfCaption=r,this.notifyProgress()}get done(){return this.progress+gs>=100}get progress(){if(this._selfDone)return 100;const r=this._subTrackers.reduce((s,n)=>s+n.progress*n.weight,this._selfProgress*this._selfWeight);return Math.round(r*1e4)/1e4}get weight(){return this._weight}get observer(){return this._progressObserver||(this._progressObserver=r=>{this.set(r)}),this._progressObserver}get loadingListener(){return this._loadingListener||(this._loadingListener=r=>{this.set(r.detail.loaded/r.detail.total*100)}),this._loadingListener}pipe(r){r.setProgress({progress:this.progress,caption:this.caption}),this.addEventListener("progress",s=>{r.setProgress({progress:s.detail.progress,caption:s.detail.caption})}),this.addEventListener("done",()=>{r.setLoaded()})}addEventListener(r,s){super.addEventListener(r,s)}removeEventListener(r,s){super.removeEventListener(r,s)}notifyProgress(){const r=this;this.dispatchEvent(new CustomEvent("progress",{detail:{get progress(){return r.progress},get caption(){return r.caption}}}))}notifyDone(){this.dispatchEvent(new CustomEvent("done"))}}function Go(e){let r=[e];return{next(){return Promise.resolve({done:r.length===0,value:r.pop()})},return(){return r=[],{}},[Symbol.asyncIterator](){return this}}}function Bn(e){return e[Symbol.asyncIterator]?e[Symbol.asyncIterator]():e[Symbol.iterator]?e[Symbol.iterator]():e.next?e:Go(e)}class jn{constructor(r){if(typeof Buffer>"u")throw new Error("Missing Buffer dependency");this.stream=Bn(r),this.buffer=null,this.cursor=0,this.undoCursor=0,this.started=!1,this._ended=!1,this._discardedBytes=0}eof(){return this._ended&&this.cursor===this.buffer.length}tell(){return this._discardedBytes+this.cursor}async byte(){if(!this.eof()&&(this.started||await this._init(),!(this.cursor===this.buffer.length&&(await this._loadnext(),this._ended))))return this._moveCursor(1),this.buffer[this.undoCursor]}async chunk(){if(!this.eof()&&(this.started||await this._init(),!(this.cursor===this.buffer.length&&(await this._loadnext(),this._ended))))return this._moveCursor(this.buffer.length),this.buffer.slice(this.undoCursor,this.cursor)}async read(r){if(!this.eof())return this.started||await this._init(),this.cursor+r>this.buffer.length&&(this._trim(),await this._accumulate(r)),this._moveCursor(r),this.buffer.slice(this.undoCursor,this.cursor)}async skip(r){this.eof()||(this.started||await this._init(),this.cursor+r>this.buffer.length&&(this._trim(),await this._accumulate(r)),this._moveCursor(r))}async undo(){this.cursor=this.undoCursor}async _next(){this.started=!0;let{done:r,value:s}=await this.stream.next();return r&&(this._ended=!0,!s)?Buffer.alloc(0):(s&&(s=Buffer.from(s)),s)}_trim(){this.buffer=this.buffer.slice(this.undoCursor),this.cursor-=this.undoCursor,this._discardedBytes+=this.undoCursor,this.undoCursor=0}_moveCursor(r){this.undoCursor=this.cursor,this.cursor+=r,this.cursor>this.buffer.length&&(this.cursor=this.buffer.length)}async _accumulate(r){if(this._ended)return;const s=[this.buffer];for(;this.cursor+r>Vo(s);){const n=await this._next();if(this._ended)break;s.push(n)}this.buffer=Buffer.concat(s)}async _loadnext(){this._discardedBytes+=this.buffer.length,this.undoCursor=0,this.cursor=0,this.buffer=await this._next()}async _init(){this.buffer=await this._next()}}function Vo(e){return e.reduce((r,s)=>r+s.length,0)}function Yo(e,r){const s=r.toString(16);return"0".repeat(e-s.length)+s}class $e{static flush(){return Buffer.from("0000","utf8")}static delim(){return Buffer.from("0001","utf8")}static encode(r){typeof r=="string"&&(r=Buffer.from(r));const s=r.length+4,n=Yo(4,s);return Buffer.concat([Buffer.from(n,"utf8"),r])}static streamReader(r){const s=new jn(r);return async function(){try{let p=await s.read(4);if(p==null)return!0;if(p=parseInt(p.toString("utf8"),16),p===0||p===1)return null;const i=await s.read(p-4);return i??!0}catch(p){return r.error=p,!0}}}}class tt extends Error{constructor(r){super(r),this.caller=""}toJSON(){return{code:this.code,data:this.data,caller:this.caller,message:this.message,stack:this.stack}}fromJSON(r){const s=new tt(r.message);return s.code=r.code,s.data=r.data,s.caller=r.caller,s.stack=r.stack,s}get isIsomorphicGitError(){return!0}}class _e extends tt{constructor(r){super(`An internal error caused this command to fail. Please file a bug report at https://github.com/isomorphic-git/isomorphic-git/issues with this error message: ${r}`),this.code=this.name=_e.code,this.data={message:r}}}_e.code="InternalError";class os extends tt{constructor(r){super(`The filepath "${r}" contains unsafe character sequences`),this.code=this.name=os.code,this.data={filepath:r}}}os.code="UnsafeFilepathError";function In(e,r){return-(e<r)||+(e>r)}function Ko(e,r){return In(e.path,r.path)}function Xo(e,r){return In(bi(e),bi(r))}function bi(e){return e.mode==="040000"?e.path+"/":e.path}function Ln(e){switch(e){case"040000":return"tree";case"100644":return"blob";case"100755":return"blob";case"120000":return"blob";case"160000":return"commit"}throw new _e(`Unexpected GitTree entry mode: ${e}`)}function Qo(e){const r=[];let s=0;for(;s<e.length;){const n=e.indexOf(32,s);if(n===-1)throw new _e(`GitTree: Error parsing buffer at byte location ${s}: Could not find the next space character.`);const p=e.indexOf(0,s);if(p===-1)throw new _e(`GitTree: Error parsing buffer at byte location ${s}: Could not find the next null character.`);let i=e.slice(s,n).toString("utf8");i==="40000"&&(i="040000");const t=Ln(i),o=e.slice(n+1,p).toString("utf8");if(o.includes("\\")||o.includes("/"))throw new os(o);const y=e.slice(p+1,p+21).toString("hex");s=p+21,r.push({mode:i,path:o,oid:y,type:t})}return r}function Jo(e){if(typeof e=="number"&&(e=e.toString(8)),e.match(/^0?4.*/))return"040000";if(e.match(/^1006.*/))return"100644";if(e.match(/^1007.*/))return"100755";if(e.match(/^120.*/))return"120000";if(e.match(/^160.*/))return"160000";throw new _e(`Could not understand file mode: ${e}`)}function ep(e){return!e.oid&&e.sha&&(e.oid=e.sha),e.mode=Jo(e.mode),e.type||(e.type=Ln(e.mode)),e}class si{constructor(r){if(Buffer.isBuffer(r))this._entries=Qo(r);else if(Array.isArray(r))this._entries=r.map(ep);else throw new _e("invalid type passed to GitTree constructor");this._entries.sort(Ko)}static from(r){return new si(r)}render(){return this._entries.map(r=>`${r.mode} ${r.type} ${r.oid}    ${r.path}`).join(`
`)}toObject(){const r=[...this._entries];return r.sort(Xo),Buffer.concat(r.map(s=>{const n=Buffer.from(s.mode.replace(/^0/,"")),p=Buffer.from(" "),i=Buffer.from(s.path,"utf8"),t=Buffer.from([0]),o=Buffer.from(s.oid,"hex");return Buffer.concat([n,p,i,t,o])}))}entries(){return this._entries}*[Symbol.iterator](){for(const r of this._entries)yield r}}function qs({name:e,email:r,timestamp:s,timezoneOffset:n}){return n=rp(n),`${e} <${r}> ${s} ${n}`}function rp(e){const r=tp(sp(e));e=Math.abs(e);const s=Math.floor(e/60);e-=s*60;let n=String(s),p=String(e);return n.length<2&&(n="0"+n),p.length<2&&(p="0"+p),(r===-1?"-":"+")+n+p}function tp(e){return Math.sign(e)||(Object.is(e,-0)?-1:1)}function sp(e){return e===0?e:-e}function yr(e){return e=e.replace(/\r/g,""),e=e.replace(/^\n+/,""),e=e.replace(/\n+$/,"")+`
`,e}function Kt(e){const[,r,s,n,p]=e.match(/^(.*) <(.*)> (.*) (.*)$/);return{name:r,email:s,timestamp:Number(n),timezoneOffset:ip(p)}}function ip(e){let[,r,s,n]=e.match(/(\+|-)(\d\d)(\d\d)/);return n=(r==="+"?1:-1)*(Number(s)*60+Number(n)),np(n)}function np(e){return e===0?e:-e}class lt{constructor(r){if(typeof r=="string")this._tag=r;else if(Buffer.isBuffer(r))this._tag=r.toString("utf8");else if(typeof r=="object")this._tag=lt.render(r);else throw new _e("invalid type passed to GitAnnotatedTag constructor")}static from(r){return new lt(r)}static render(r){return`object ${r.object}
type ${r.type}
tag ${r.tag}
tagger ${qs(r.tagger)}

${r.message}
${r.gpgsig?r.gpgsig:""}`}justHeaders(){return this._tag.slice(0,this._tag.indexOf(`

`))}message(){const r=this.withoutSignature();return r.slice(r.indexOf(`

`)+2)}parse(){return Object.assign(this.headers(),{message:this.message(),gpgsig:this.gpgsig()})}render(){return this._tag}headers(){const r=this.justHeaders().split(`
`),s=[];for(const p of r)p[0]===" "?s[s.length-1]+=`
`+p.slice(1):s.push(p);const n={};for(const p of s){const i=p.slice(0,p.indexOf(" ")),t=p.slice(p.indexOf(" ")+1);Array.isArray(n[i])?n[i].push(t):n[i]=t}return n.tagger&&(n.tagger=Kt(n.tagger)),n.committer&&(n.committer=Kt(n.committer)),n}withoutSignature(){const r=yr(this._tag);return r.indexOf(`
-----BEGIN PGP SIGNATURE-----`)===-1?r:r.slice(0,r.lastIndexOf(`
-----BEGIN PGP SIGNATURE-----`))}gpgsig(){if(this._tag.indexOf(`
-----BEGIN PGP SIGNATURE-----`)===-1)return;const r=this._tag.slice(this._tag.indexOf("-----BEGIN PGP SIGNATURE-----"),this._tag.indexOf("-----END PGP SIGNATURE-----")+27);return yr(r)}payload(){return this.withoutSignature()+`
`}toObject(){return Buffer.from(this._tag,"utf8")}static async sign(r,s,n){const p=r.payload();let{signature:i}=await s({payload:p,secretKey:n});i=yr(i);const t=p+i;return lt.from(t)}}function ws(e){return e.trim().split(`
`).map(r=>" "+r).join(`
`)+`
`}function ap(e){return e.split(`
`).map(r=>r.replace(/^ /,"")).join(`
`)}class qe{constructor(r){if(typeof r=="string")this._commit=r;else if(Buffer.isBuffer(r))this._commit=r.toString("utf8");else if(typeof r=="object")this._commit=qe.render(r);else throw new _e("invalid type passed to GitCommit constructor")}static fromPayloadSignature({payload:r,signature:s}){const n=qe.justHeaders(r),p=qe.justMessage(r),i=yr(n+`
gpgsig`+ws(s)+`
`+p);return new qe(i)}static from(r){return new qe(r)}toObject(){return Buffer.from(this._commit,"utf8")}headers(){return this.parseHeaders()}message(){return qe.justMessage(this._commit)}parse(){return Object.assign({message:this.message()},this.headers())}static justMessage(r){return yr(r.slice(r.indexOf(`

`)+2))}static justHeaders(r){return r.slice(0,r.indexOf(`

`))}parseHeaders(){const r=qe.justHeaders(this._commit).split(`
`),s=[];for(const p of r)p[0]===" "?s[s.length-1]+=`
`+p.slice(1):s.push(p);const n={parent:[]};for(const p of s){const i=p.slice(0,p.indexOf(" ")),t=p.slice(p.indexOf(" ")+1);Array.isArray(n[i])?n[i].push(t):n[i]=t}return n.author&&(n.author=Kt(n.author)),n.committer&&(n.committer=Kt(n.committer)),n}static renderHeaders(r){let s="";if(r.tree?s+=`tree ${r.tree}
`:s+=`tree 4b825dc642cb6eb9a060e54bf8d69288fbee4904
`,r.parent){if(r.parent.length===void 0)throw new _e("commit 'parent' property should be an array");for(const i of r.parent)s+=`parent ${i}
`}const n=r.author;s+=`author ${qs(n)}
`;const p=r.committer||r.author;return s+=`committer ${qs(p)}
`,r.gpgsig&&(s+="gpgsig"+ws(r.gpgsig)),s}static render(r){return qe.renderHeaders(r)+`
`+yr(r.message)}render(){return this._commit}withoutSignature(){const r=yr(this._commit);if(r.indexOf(`
gpgsig`)===-1)return r;const s=r.slice(0,r.indexOf(`
gpgsig`)),n=r.slice(r.indexOf(`-----END PGP SIGNATURE-----
`)+28);return yr(s+`
`+n)}isolateSignature(){const r=this._commit.slice(this._commit.indexOf("-----BEGIN PGP SIGNATURE-----"),this._commit.indexOf("-----END PGP SIGNATURE-----")+27);return ap(r)}static async sign(r,s,n){const p=r.withoutSignature(),i=qe.justMessage(r._commit);let{signature:t}=await s({payload:p,secretKey:n});t=yr(t);const y=qe.justHeaders(r._commit)+`
gpgsig`+ws(t)+`
`+i;return qe.from(y)}}var Nn={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */(function(e){(function(r){r(typeof DO_NOT_EXPORT_CRC>"u"?e:{})})(function(r){r.version="1.2.2";function s(){for(var $=0,T=new Array(256),E=0;E!=256;++E)$=E,$=$&1?-306674912^$>>>1:$>>>1,$=$&1?-306674912^$>>>1:$>>>1,$=$&1?-306674912^$>>>1:$>>>1,$=$&1?-306674912^$>>>1:$>>>1,$=$&1?-306674912^$>>>1:$>>>1,$=$&1?-306674912^$>>>1:$>>>1,$=$&1?-306674912^$>>>1:$>>>1,$=$&1?-306674912^$>>>1:$>>>1,T[E]=$;return typeof Int32Array<"u"?new Int32Array(T):T}var n=s();function p($){var T=0,E=0,O=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)L[O]=$[O];for(O=0;O!=256;++O)for(E=$[O],T=256+O;T<4096;T+=256)E=L[T]=E>>>8^$[E&255];var I=[];for(O=1;O!=16;++O)I[O-1]=typeof Int32Array<"u"?L.subarray(O*256,O*256+256):L.slice(O*256,O*256+256);return I}var i=p(n),t=i[0],o=i[1],y=i[2],c=i[3],h=i[4],b=i[5],w=i[6],_=i[7],F=i[8],k=i[9],D=i[10],C=i[11],M=i[12],B=i[13],U=i[14];function N($,T){for(var E=T^-1,O=0,L=$.length;O<L;)E=E>>>8^n[(E^$.charCodeAt(O++))&255];return~E}function A($,T){for(var E=T^-1,O=$.length-15,L=0;L<O;)E=U[$[L++]^E&255]^B[$[L++]^E>>8&255]^M[$[L++]^E>>16&255]^C[$[L++]^E>>>24]^D[$[L++]]^k[$[L++]]^F[$[L++]]^_[$[L++]]^w[$[L++]]^b[$[L++]]^h[$[L++]]^c[$[L++]]^y[$[L++]]^o[$[L++]]^t[$[L++]]^n[$[L++]];for(O+=15;L<O;)E=E>>>8^n[(E^$[L++])&255];return~E}function q($,T){for(var E=T^-1,O=0,L=$.length,I=0,R=0;O<L;)I=$.charCodeAt(O++),I<128?E=E>>>8^n[(E^I)&255]:I<2048?(E=E>>>8^n[(E^(192|I>>6&31))&255],E=E>>>8^n[(E^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,R=$.charCodeAt(O++)&1023,E=E>>>8^n[(E^(240|I>>8&7))&255],E=E>>>8^n[(E^(128|I>>2&63))&255],E=E>>>8^n[(E^(128|R>>6&15|(I&3)<<4))&255],E=E>>>8^n[(E^(128|R&63))&255]):(E=E>>>8^n[(E^(224|I>>12&15))&255],E=E>>>8^n[(E^(128|I>>6&63))&255],E=E>>>8^n[(E^(128|I&63))&255]);return~E}r.table=n,r.bstr=N,r.buf=A,r.str=q})})(Nn);const op=Qs(Nn);class pp{static wrap({type:r,object:s}){return Buffer.concat([Buffer.from(`${r} ${s.byteLength.toString()}\0`),Buffer.from(s)])}static unwrap(r){const s=r.indexOf(32),n=r.indexOf(0),p=r.slice(0,s).toString("utf8"),i=r.slice(s+1,n).toString("utf8"),t=r.length-(n+1);if(parseInt(i)!==t)throw new _e(`Length mismatch: expected ${i} bytes but got ${t} instead.`);return{type:p,object:Buffer.from(r.slice(n+1))}}}class Ar{constructor(r){this.buffer=r,this._start=0}eof(){return this._start>=this.buffer.length}tell(){return this._start}seek(r){this._start=r}slice(r){const s=this.buffer.slice(this._start,this._start+r);return this._start+=r,s}toString(r,s){const n=this.buffer.toString(r,this._start,this._start+s);return this._start+=s,n}write(r,s,n){const p=this.buffer.write(r,this._start,s,n);return this._start+=s,p}copy(r,s,n){const p=r.copy(this.buffer,this._start,s,n);return this._start+=p,p}readUInt8(){const r=this.buffer.readUInt8(this._start);return this._start+=1,r}writeUInt8(r){const s=this.buffer.writeUInt8(r,this._start);return this._start+=1,s}readUInt16BE(){const r=this.buffer.readUInt16BE(this._start);return this._start+=2,r}writeUInt16BE(r){const s=this.buffer.writeUInt16BE(r,this._start);return this._start+=2,s}readUInt32BE(){const r=this.buffer.readUInt32BE(this._start);return this._start+=4,r}writeUInt32BE(r){const s=this.buffer.writeUInt32BE(r,this._start);return this._start+=4,s}}function fp(e,r){const s=new Ar(e),n=_i(s);if(n!==r.byteLength)throw new _e(`applyDelta expected source buffer to be ${n} bytes but the provided buffer was ${r.length} bytes`);const p=_i(s);let i;const t=Pi(s,r);if(t.byteLength===p)i=t;else{i=Buffer.alloc(p);const o=new Ar(i);for(o.copy(t);!s.eof();)o.copy(Pi(s,r));const y=o.tell();if(p!==y)throw new _e(`applyDelta expected target buffer to be ${p} bytes but the resulting buffer was ${y} bytes`)}return i}function _i(e){let r=0,s=0,n=null;do n=e.readUInt8(),r|=(n&127)<<s,s+=7;while(n&128);return r}function vi(e,r,s){let n=0,p=0;for(;s--;)r&1&&(n|=e.readUInt8()<<p),r>>=1,p+=8;return n}function Pi(e,r){const s=e.readUInt8(),n=128,p=15,i=112;if(s&n){const t=vi(e,s&p,4);let o=vi(e,(s&i)>>4,3);return o===0&&(o=65536),r.slice(t,t+o)}else return e.slice(s)}var wr={};(function(e){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function s(i,t){return Object.prototype.hasOwnProperty.call(i,t)}e.assign=function(i){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var o=t.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var y in o)s(o,y)&&(i[y]=o[y])}}return i},e.shrinkBuf=function(i,t){return i.length===t?i:i.subarray?i.subarray(0,t):(i.length=t,i)};var n={arraySet:function(i,t,o,y,c){if(t.subarray&&i.subarray){i.set(t.subarray(o,o+y),c);return}for(var h=0;h<y;h++)i[c+h]=t[o+h]},flattenChunks:function(i){var t,o,y,c,h,b;for(y=0,t=0,o=i.length;t<o;t++)y+=i[t].length;for(b=new Uint8Array(y),c=0,t=0,o=i.length;t<o;t++)h=i[t],b.set(h,c),c+=h.length;return b}},p={arraySet:function(i,t,o,y,c){for(var h=0;h<y;h++)i[c+h]=t[o+h]},flattenChunks:function(i){return[].concat.apply([],i)}};e.setTyped=function(i){i?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,p))},e.setTyped(r)})(wr);var Ot={},ur={},st={},lp=wr,up=4,ki=0,Ei=1,cp=2;function it(e){for(var r=e.length;--r>=0;)e[r]=0}var dp=0,Cn=1,hp=2,yp=3,mp=258,ii=29,xt=256,gt=xt+1+ii,Jr=30,ni=19,Dn=2*gt+1,Rr=15,bs=16,gp=7,ai=256,qn=16,Un=17,zn=18,Us=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],qt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],wp=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Mn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],bp=512,mr=new Array((gt+2)*2);it(mr);var ut=new Array(Jr*2);it(ut);var wt=new Array(bp);it(wt);var bt=new Array(mp-yp+1);it(bt);var oi=new Array(ii);it(oi);var Xt=new Array(Jr);it(Xt);function _s(e,r,s,n,p){this.static_tree=e,this.extra_bits=r,this.extra_base=s,this.elems=n,this.max_length=p,this.has_stree=e&&e.length}var Hn,Wn,Zn;function vs(e,r){this.dyn_tree=e,this.max_code=0,this.stat_desc=r}function Gn(e){return e<256?wt[e]:wt[256+(e>>>7)]}function _t(e,r){e.pending_buf[e.pending++]=r&255,e.pending_buf[e.pending++]=r>>>8&255}function Ne(e,r,s){e.bi_valid>bs-s?(e.bi_buf|=r<<e.bi_valid&65535,_t(e,e.bi_buf),e.bi_buf=r>>bs-e.bi_valid,e.bi_valid+=s-bs):(e.bi_buf|=r<<e.bi_valid&65535,e.bi_valid+=s)}function pr(e,r,s){Ne(e,s[r*2],s[r*2+1])}function Vn(e,r){var s=0;do s|=e&1,e>>>=1,s<<=1;while(--r>0);return s>>>1}function _p(e){e.bi_valid===16?(_t(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function vp(e,r){var s=r.dyn_tree,n=r.max_code,p=r.stat_desc.static_tree,i=r.stat_desc.has_stree,t=r.stat_desc.extra_bits,o=r.stat_desc.extra_base,y=r.stat_desc.max_length,c,h,b,w,_,F,k=0;for(w=0;w<=Rr;w++)e.bl_count[w]=0;for(s[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<Dn;c++)h=e.heap[c],w=s[s[h*2+1]*2+1]+1,w>y&&(w=y,k++),s[h*2+1]=w,!(h>n)&&(e.bl_count[w]++,_=0,h>=o&&(_=t[h-o]),F=s[h*2],e.opt_len+=F*(w+_),i&&(e.static_len+=F*(p[h*2+1]+_)));if(k!==0){do{for(w=y-1;e.bl_count[w]===0;)w--;e.bl_count[w]--,e.bl_count[w+1]+=2,e.bl_count[y]--,k-=2}while(k>0);for(w=y;w!==0;w--)for(h=e.bl_count[w];h!==0;)b=e.heap[--c],!(b>n)&&(s[b*2+1]!==w&&(e.opt_len+=(w-s[b*2+1])*s[b*2],s[b*2+1]=w),h--)}}function Yn(e,r,s){var n=new Array(Rr+1),p=0,i,t;for(i=1;i<=Rr;i++)n[i]=p=p+s[i-1]<<1;for(t=0;t<=r;t++){var o=e[t*2+1];o!==0&&(e[t*2]=Vn(n[o]++,o))}}function Pp(){var e,r,s,n,p,i=new Array(Rr+1);for(s=0,n=0;n<ii-1;n++)for(oi[n]=s,e=0;e<1<<Us[n];e++)bt[s++]=n;for(bt[s-1]=n,p=0,n=0;n<16;n++)for(Xt[n]=p,e=0;e<1<<qt[n];e++)wt[p++]=n;for(p>>=7;n<Jr;n++)for(Xt[n]=p<<7,e=0;e<1<<qt[n]-7;e++)wt[256+p++]=n;for(r=0;r<=Rr;r++)i[r]=0;for(e=0;e<=143;)mr[e*2+1]=8,e++,i[8]++;for(;e<=255;)mr[e*2+1]=9,e++,i[9]++;for(;e<=279;)mr[e*2+1]=7,e++,i[7]++;for(;e<=287;)mr[e*2+1]=8,e++,i[8]++;for(Yn(mr,gt+1,i),e=0;e<Jr;e++)ut[e*2+1]=5,ut[e*2]=Vn(e,5);Hn=new _s(mr,Us,xt+1,gt,Rr),Wn=new _s(ut,qt,0,Jr,Rr),Zn=new _s(new Array(0),wp,0,ni,gp)}function Kn(e){var r;for(r=0;r<gt;r++)e.dyn_ltree[r*2]=0;for(r=0;r<Jr;r++)e.dyn_dtree[r*2]=0;for(r=0;r<ni;r++)e.bl_tree[r*2]=0;e.dyn_ltree[ai*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Xn(e){e.bi_valid>8?_t(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function kp(e,r,s,n){Xn(e),n&&(_t(e,s),_t(e,~s)),lp.arraySet(e.pending_buf,e.window,r,s,e.pending),e.pending+=s}function Oi(e,r,s,n){var p=r*2,i=s*2;return e[p]<e[i]||e[p]===e[i]&&n[r]<=n[s]}function Ps(e,r,s){for(var n=e.heap[s],p=s<<1;p<=e.heap_len&&(p<e.heap_len&&Oi(r,e.heap[p+1],e.heap[p],e.depth)&&p++,!Oi(r,n,e.heap[p],e.depth));)e.heap[s]=e.heap[p],s=p,p<<=1;e.heap[s]=n}function xi(e,r,s){var n,p,i=0,t,o;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+i*2]<<8|e.pending_buf[e.d_buf+i*2+1],p=e.pending_buf[e.l_buf+i],i++,n===0?pr(e,p,r):(t=bt[p],pr(e,t+xt+1,r),o=Us[t],o!==0&&(p-=oi[t],Ne(e,p,o)),n--,t=Gn(n),pr(e,t,s),o=qt[t],o!==0&&(n-=Xt[t],Ne(e,n,o)));while(i<e.last_lit);pr(e,ai,r)}function zs(e,r){var s=r.dyn_tree,n=r.stat_desc.static_tree,p=r.stat_desc.has_stree,i=r.stat_desc.elems,t,o,y=-1,c;for(e.heap_len=0,e.heap_max=Dn,t=0;t<i;t++)s[t*2]!==0?(e.heap[++e.heap_len]=y=t,e.depth[t]=0):s[t*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=y<2?++y:0,s[c*2]=1,e.depth[c]=0,e.opt_len--,p&&(e.static_len-=n[c*2+1]);for(r.max_code=y,t=e.heap_len>>1;t>=1;t--)Ps(e,s,t);c=i;do t=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ps(e,s,1),o=e.heap[1],e.heap[--e.heap_max]=t,e.heap[--e.heap_max]=o,s[c*2]=s[t*2]+s[o*2],e.depth[c]=(e.depth[t]>=e.depth[o]?e.depth[t]:e.depth[o])+1,s[t*2+1]=s[o*2+1]=c,e.heap[1]=c++,Ps(e,s,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],vp(e,r),Yn(s,y,e.bl_count)}function Ti(e,r,s){var n,p=-1,i,t=r[0*2+1],o=0,y=7,c=4;for(t===0&&(y=138,c=3),r[(s+1)*2+1]=65535,n=0;n<=s;n++)i=t,t=r[(n+1)*2+1],!(++o<y&&i===t)&&(o<c?e.bl_tree[i*2]+=o:i!==0?(i!==p&&e.bl_tree[i*2]++,e.bl_tree[qn*2]++):o<=10?e.bl_tree[Un*2]++:e.bl_tree[zn*2]++,o=0,p=i,t===0?(y=138,c=3):i===t?(y=6,c=3):(y=7,c=4))}function $i(e,r,s){var n,p=-1,i,t=r[0*2+1],o=0,y=7,c=4;for(t===0&&(y=138,c=3),n=0;n<=s;n++)if(i=t,t=r[(n+1)*2+1],!(++o<y&&i===t)){if(o<c)do pr(e,i,e.bl_tree);while(--o!==0);else i!==0?(i!==p&&(pr(e,i,e.bl_tree),o--),pr(e,qn,e.bl_tree),Ne(e,o-3,2)):o<=10?(pr(e,Un,e.bl_tree),Ne(e,o-3,3)):(pr(e,zn,e.bl_tree),Ne(e,o-11,7));o=0,p=i,t===0?(y=138,c=3):i===t?(y=6,c=3):(y=7,c=4)}}function Ep(e){var r;for(Ti(e,e.dyn_ltree,e.l_desc.max_code),Ti(e,e.dyn_dtree,e.d_desc.max_code),zs(e,e.bl_desc),r=ni-1;r>=3&&e.bl_tree[Mn[r]*2+1]===0;r--);return e.opt_len+=3*(r+1)+5+5+4,r}function Op(e,r,s,n){var p;for(Ne(e,r-257,5),Ne(e,s-1,5),Ne(e,n-4,4),p=0;p<n;p++)Ne(e,e.bl_tree[Mn[p]*2+1],3);$i(e,e.dyn_ltree,r-1),$i(e,e.dyn_dtree,s-1)}function xp(e){var r=4093624447,s;for(s=0;s<=31;s++,r>>>=1)if(r&1&&e.dyn_ltree[s*2]!==0)return ki;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Ei;for(s=32;s<xt;s++)if(e.dyn_ltree[s*2]!==0)return Ei;return ki}var Ai=!1;function Tp(e){Ai||(Pp(),Ai=!0),e.l_desc=new vs(e.dyn_ltree,Hn),e.d_desc=new vs(e.dyn_dtree,Wn),e.bl_desc=new vs(e.bl_tree,Zn),e.bi_buf=0,e.bi_valid=0,Kn(e)}function Qn(e,r,s,n){Ne(e,(dp<<1)+(n?1:0),3),kp(e,r,s,!0)}function $p(e){Ne(e,Cn<<1,3),pr(e,ai,mr),_p(e)}function Ap(e,r,s,n){var p,i,t=0;e.level>0?(e.strm.data_type===cp&&(e.strm.data_type=xp(e)),zs(e,e.l_desc),zs(e,e.d_desc),t=Ep(e),p=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=p&&(p=i)):p=i=s+5,s+4<=p&&r!==-1?Qn(e,r,s,n):e.strategy===up||i===p?(Ne(e,(Cn<<1)+(n?1:0),3),xi(e,mr,ut)):(Ne(e,(hp<<1)+(n?1:0),3),Op(e,e.l_desc.max_code+1,e.d_desc.max_code+1,t+1),xi(e,e.dyn_ltree,e.dyn_dtree)),Kn(e),n&&Xn(e)}function Sp(e,r,s){return e.pending_buf[e.d_buf+e.last_lit*2]=r>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=r&255,e.pending_buf[e.l_buf+e.last_lit]=s&255,e.last_lit++,r===0?e.dyn_ltree[s*2]++:(e.matches++,r--,e.dyn_ltree[(bt[s]+xt+1)*2]++,e.dyn_dtree[Gn(r)*2]++),e.last_lit===e.lit_bufsize-1}st._tr_init=Tp;st._tr_stored_block=Qn;st._tr_flush_block=Ap;st._tr_tally=Sp;st._tr_align=$p;function Rp(e,r,s,n){for(var p=e&65535|0,i=e>>>16&65535|0,t=0;s!==0;){t=s>2e3?2e3:s,s-=t;do p=p+r[n++]|0,i=i+p|0;while(--t);p%=65521,i%=65521}return p|i<<16|0}var Jn=Rp;function Fp(){for(var e,r=[],s=0;s<256;s++){e=s;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;r[s]=e}return r}var Bp=Fp();function jp(e,r,s,n){var p=Bp,i=n+s;e^=-1;for(var t=n;t<i;t++)e=e>>>8^p[(e^r[t])&255];return e^-1}var ea=jp,pi={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ie=wr,Ze=st,ra=Jn,Pr=ea,Ip=pi,qr=0,Lp=1,Np=3,Tr=4,Si=5,fr=0,Ri=1,Ge=-2,Cp=-3,ks=-5,Dp=-1,qp=1,jt=2,Up=3,zp=4,Mp=0,Hp=2,ps=8,Wp=9,Zp=15,Gp=8,Vp=29,Yp=256,Ms=Yp+1+Vp,Kp=30,Xp=19,Qp=2*Ms+1,Jp=15,oe=3,Or=258,er=Or+oe+1,ef=32,fs=42,Hs=69,Ut=73,zt=91,Mt=103,Fr=113,ft=666,xe=1,Tt=2,Ir=3,nt=4,rf=3;function xr(e,r){return e.msg=Ip[r],r}function Fi(e){return(e<<1)-(e>4?9:0)}function Er(e){for(var r=e.length;--r>=0;)e[r]=0}function kr(e){var r=e.state,s=r.pending;s>e.avail_out&&(s=e.avail_out),s!==0&&(Ie.arraySet(e.output,r.pending_buf,r.pending_out,s,e.next_out),e.next_out+=s,r.pending_out+=s,e.total_out+=s,e.avail_out-=s,r.pending-=s,r.pending===0&&(r.pending_out=0))}function Re(e,r){Ze._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,r),e.block_start=e.strstart,kr(e.strm)}function fe(e,r){e.pending_buf[e.pending++]=r}function pt(e,r){e.pending_buf[e.pending++]=r>>>8&255,e.pending_buf[e.pending++]=r&255}function tf(e,r,s,n){var p=e.avail_in;return p>n&&(p=n),p===0?0:(e.avail_in-=p,Ie.arraySet(r,e.input,e.next_in,p,s),e.state.wrap===1?e.adler=ra(e.adler,r,p,s):e.state.wrap===2&&(e.adler=Pr(e.adler,r,p,s)),e.next_in+=p,e.total_in+=p,p)}function ta(e,r){var s=e.max_chain_length,n=e.strstart,p,i,t=e.prev_length,o=e.nice_match,y=e.strstart>e.w_size-er?e.strstart-(e.w_size-er):0,c=e.window,h=e.w_mask,b=e.prev,w=e.strstart+Or,_=c[n+t-1],F=c[n+t];e.prev_length>=e.good_match&&(s>>=2),o>e.lookahead&&(o=e.lookahead);do if(p=r,!(c[p+t]!==F||c[p+t-1]!==_||c[p]!==c[n]||c[++p]!==c[n+1])){n+=2,p++;do;while(c[++n]===c[++p]&&c[++n]===c[++p]&&c[++n]===c[++p]&&c[++n]===c[++p]&&c[++n]===c[++p]&&c[++n]===c[++p]&&c[++n]===c[++p]&&c[++n]===c[++p]&&n<w);if(i=Or-(w-n),n=w-Or,i>t){if(e.match_start=r,t=i,i>=o)break;_=c[n+t-1],F=c[n+t]}}while((r=b[r&h])>y&&--s!==0);return t<=e.lookahead?t:e.lookahead}function Lr(e){var r=e.w_size,s,n,p,i,t;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=r+(r-er)){Ie.arraySet(e.window,e.window,r,r,0),e.match_start-=r,e.strstart-=r,e.block_start-=r,n=e.hash_size,s=n;do p=e.head[--s],e.head[s]=p>=r?p-r:0;while(--n);n=r,s=n;do p=e.prev[--s],e.prev[s]=p>=r?p-r:0;while(--n);i+=r}if(e.strm.avail_in===0)break;if(n=tf(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=oe)for(t=e.strstart-e.insert,e.ins_h=e.window[t],e.ins_h=(e.ins_h<<e.hash_shift^e.window[t+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[t+oe-1])&e.hash_mask,e.prev[t&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=t,t++,e.insert--,!(e.lookahead+e.insert<oe)););}while(e.lookahead<er&&e.strm.avail_in!==0)}function sf(e,r){var s=65535;for(s>e.pending_buf_size-5&&(s=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Lr(e),e.lookahead===0&&r===qr)return xe;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+s;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,Re(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-er&&(Re(e,!1),e.strm.avail_out===0))return xe}return e.insert=0,r===Tr?(Re(e,!0),e.strm.avail_out===0?Ir:nt):(e.strstart>e.block_start&&(Re(e,!1),e.strm.avail_out===0),xe)}function Es(e,r){for(var s,n;;){if(e.lookahead<er){if(Lr(e),e.lookahead<er&&r===qr)return xe;if(e.lookahead===0)break}if(s=0,e.lookahead>=oe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+oe-1])&e.hash_mask,s=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),s!==0&&e.strstart-s<=e.w_size-er&&(e.match_length=ta(e,s)),e.match_length>=oe)if(n=Ze._tr_tally(e,e.strstart-e.match_start,e.match_length-oe),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=oe){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+oe-1])&e.hash_mask,s=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=Ze._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Re(e,!1),e.strm.avail_out===0))return xe}return e.insert=e.strstart<oe-1?e.strstart:oe-1,r===Tr?(Re(e,!0),e.strm.avail_out===0?Ir:nt):e.last_lit&&(Re(e,!1),e.strm.avail_out===0)?xe:Tt}function Gr(e,r){for(var s,n,p;;){if(e.lookahead<er){if(Lr(e),e.lookahead<er&&r===qr)return xe;if(e.lookahead===0)break}if(s=0,e.lookahead>=oe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+oe-1])&e.hash_mask,s=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=oe-1,s!==0&&e.prev_length<e.max_lazy_match&&e.strstart-s<=e.w_size-er&&(e.match_length=ta(e,s),e.match_length<=5&&(e.strategy===qp||e.match_length===oe&&e.strstart-e.match_start>4096)&&(e.match_length=oe-1)),e.prev_length>=oe&&e.match_length<=e.prev_length){p=e.strstart+e.lookahead-oe,n=Ze._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-oe),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=p&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+oe-1])&e.hash_mask,s=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=oe-1,e.strstart++,n&&(Re(e,!1),e.strm.avail_out===0))return xe}else if(e.match_available){if(n=Ze._tr_tally(e,0,e.window[e.strstart-1]),n&&Re(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return xe}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Ze._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<oe-1?e.strstart:oe-1,r===Tr?(Re(e,!0),e.strm.avail_out===0?Ir:nt):e.last_lit&&(Re(e,!1),e.strm.avail_out===0)?xe:Tt}function nf(e,r){for(var s,n,p,i,t=e.window;;){if(e.lookahead<=Or){if(Lr(e),e.lookahead<=Or&&r===qr)return xe;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=oe&&e.strstart>0&&(p=e.strstart-1,n=t[p],n===t[++p]&&n===t[++p]&&n===t[++p])){i=e.strstart+Or;do;while(n===t[++p]&&n===t[++p]&&n===t[++p]&&n===t[++p]&&n===t[++p]&&n===t[++p]&&n===t[++p]&&n===t[++p]&&p<i);e.match_length=Or-(i-p),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=oe?(s=Ze._tr_tally(e,1,e.match_length-oe),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(s=Ze._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),s&&(Re(e,!1),e.strm.avail_out===0))return xe}return e.insert=0,r===Tr?(Re(e,!0),e.strm.avail_out===0?Ir:nt):e.last_lit&&(Re(e,!1),e.strm.avail_out===0)?xe:Tt}function af(e,r){for(var s;;){if(e.lookahead===0&&(Lr(e),e.lookahead===0)){if(r===qr)return xe;break}if(e.match_length=0,s=Ze._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,s&&(Re(e,!1),e.strm.avail_out===0))return xe}return e.insert=0,r===Tr?(Re(e,!0),e.strm.avail_out===0?Ir:nt):e.last_lit&&(Re(e,!1),e.strm.avail_out===0)?xe:Tt}function nr(e,r,s,n,p){this.good_length=e,this.max_lazy=r,this.nice_length=s,this.max_chain=n,this.func=p}var Xr;Xr=[new nr(0,0,0,0,sf),new nr(4,4,8,4,Es),new nr(4,5,16,8,Es),new nr(4,6,32,32,Es),new nr(4,4,16,16,Gr),new nr(8,16,32,32,Gr),new nr(8,16,128,128,Gr),new nr(8,32,128,256,Gr),new nr(32,128,258,1024,Gr),new nr(32,258,258,4096,Gr)];function of(e){e.window_size=2*e.w_size,Er(e.head),e.max_lazy_match=Xr[e.level].max_lazy,e.good_match=Xr[e.level].good_length,e.nice_match=Xr[e.level].nice_length,e.max_chain_length=Xr[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=oe-1,e.match_available=0,e.ins_h=0}function pf(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ps,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Ie.Buf16(Qp*2),this.dyn_dtree=new Ie.Buf16((2*Kp+1)*2),this.bl_tree=new Ie.Buf16((2*Xp+1)*2),Er(this.dyn_ltree),Er(this.dyn_dtree),Er(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Ie.Buf16(Jp+1),this.heap=new Ie.Buf16(2*Ms+1),Er(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Ie.Buf16(2*Ms+1),Er(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function sa(e){var r;return!e||!e.state?xr(e,Ge):(e.total_in=e.total_out=0,e.data_type=Hp,r=e.state,r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap?fs:Fr,e.adler=r.wrap===2?0:1,r.last_flush=qr,Ze._tr_init(r),fr)}function ia(e){var r=sa(e);return r===fr&&of(e.state),r}function ff(e,r){return!e||!e.state||e.state.wrap!==2?Ge:(e.state.gzhead=r,fr)}function na(e,r,s,n,p,i){if(!e)return Ge;var t=1;if(r===Dp&&(r=6),n<0?(t=0,n=-n):n>15&&(t=2,n-=16),p<1||p>Wp||s!==ps||n<8||n>15||r<0||r>9||i<0||i>zp)return xr(e,Ge);n===8&&(n=9);var o=new pf;return e.state=o,o.strm=e,o.wrap=t,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=p+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+oe-1)/oe),o.window=new Ie.Buf8(o.w_size*2),o.head=new Ie.Buf16(o.hash_size),o.prev=new Ie.Buf16(o.w_size),o.lit_bufsize=1<<p+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Ie.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=(1+2)*o.lit_bufsize,o.level=r,o.strategy=i,o.method=s,ia(e)}function lf(e,r){return na(e,r,ps,Zp,Gp,Mp)}function uf(e,r){var s,n,p,i;if(!e||!e.state||r>Si||r<0)return e?xr(e,Ge):Ge;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===ft&&r!==Tr)return xr(e,e.avail_out===0?ks:Ge);if(n.strm=e,s=n.last_flush,n.last_flush=r,n.status===fs)if(n.wrap===2)e.adler=0,fe(n,31),fe(n,139),fe(n,8),n.gzhead?(fe(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),fe(n,n.gzhead.time&255),fe(n,n.gzhead.time>>8&255),fe(n,n.gzhead.time>>16&255),fe(n,n.gzhead.time>>24&255),fe(n,n.level===9?2:n.strategy>=jt||n.level<2?4:0),fe(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(fe(n,n.gzhead.extra.length&255),fe(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Pr(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Hs):(fe(n,0),fe(n,0),fe(n,0),fe(n,0),fe(n,0),fe(n,n.level===9?2:n.strategy>=jt||n.level<2?4:0),fe(n,rf),n.status=Fr);else{var t=ps+(n.w_bits-8<<4)<<8,o=-1;n.strategy>=jt||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,t|=o<<6,n.strstart!==0&&(t|=ef),t+=31-t%31,n.status=Fr,pt(n,t),n.strstart!==0&&(pt(n,e.adler>>>16),pt(n,e.adler&65535)),e.adler=1}if(n.status===Hs)if(n.gzhead.extra){for(p=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>p&&(e.adler=Pr(e.adler,n.pending_buf,n.pending-p,p)),kr(e),p=n.pending,n.pending===n.pending_buf_size));)fe(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>p&&(e.adler=Pr(e.adler,n.pending_buf,n.pending-p,p)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=Ut)}else n.status=Ut;if(n.status===Ut)if(n.gzhead.name){p=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>p&&(e.adler=Pr(e.adler,n.pending_buf,n.pending-p,p)),kr(e),p=n.pending,n.pending===n.pending_buf_size)){i=1;break}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,fe(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>p&&(e.adler=Pr(e.adler,n.pending_buf,n.pending-p,p)),i===0&&(n.gzindex=0,n.status=zt)}else n.status=zt;if(n.status===zt)if(n.gzhead.comment){p=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>p&&(e.adler=Pr(e.adler,n.pending_buf,n.pending-p,p)),kr(e),p=n.pending,n.pending===n.pending_buf_size)){i=1;break}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,fe(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>p&&(e.adler=Pr(e.adler,n.pending_buf,n.pending-p,p)),i===0&&(n.status=Mt)}else n.status=Mt;if(n.status===Mt&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&kr(e),n.pending+2<=n.pending_buf_size&&(fe(n,e.adler&255),fe(n,e.adler>>8&255),e.adler=0,n.status=Fr)):n.status=Fr),n.pending!==0){if(kr(e),e.avail_out===0)return n.last_flush=-1,fr}else if(e.avail_in===0&&Fi(r)<=Fi(s)&&r!==Tr)return xr(e,ks);if(n.status===ft&&e.avail_in!==0)return xr(e,ks);if(e.avail_in!==0||n.lookahead!==0||r!==qr&&n.status!==ft){var y=n.strategy===jt?af(n,r):n.strategy===Up?nf(n,r):Xr[n.level].func(n,r);if((y===Ir||y===nt)&&(n.status=ft),y===xe||y===Ir)return e.avail_out===0&&(n.last_flush=-1),fr;if(y===Tt&&(r===Lp?Ze._tr_align(n):r!==Si&&(Ze._tr_stored_block(n,0,0,!1),r===Np&&(Er(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),kr(e),e.avail_out===0))return n.last_flush=-1,fr}return r!==Tr?fr:n.wrap<=0?Ri:(n.wrap===2?(fe(n,e.adler&255),fe(n,e.adler>>8&255),fe(n,e.adler>>16&255),fe(n,e.adler>>24&255),fe(n,e.total_in&255),fe(n,e.total_in>>8&255),fe(n,e.total_in>>16&255),fe(n,e.total_in>>24&255)):(pt(n,e.adler>>>16),pt(n,e.adler&65535)),kr(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?fr:Ri)}function cf(e){var r;return!e||!e.state?Ge:(r=e.state.status,r!==fs&&r!==Hs&&r!==Ut&&r!==zt&&r!==Mt&&r!==Fr&&r!==ft?xr(e,Ge):(e.state=null,r===Fr?xr(e,Cp):fr))}function df(e,r){var s=r.length,n,p,i,t,o,y,c,h;if(!e||!e.state||(n=e.state,t=n.wrap,t===2||t===1&&n.status!==fs||n.lookahead))return Ge;for(t===1&&(e.adler=ra(e.adler,r,s,0)),n.wrap=0,s>=n.w_size&&(t===0&&(Er(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new Ie.Buf8(n.w_size),Ie.arraySet(h,r,s-n.w_size,n.w_size,0),r=h,s=n.w_size),o=e.avail_in,y=e.next_in,c=e.input,e.avail_in=s,e.next_in=0,e.input=r,Lr(n);n.lookahead>=oe;){p=n.strstart,i=n.lookahead-(oe-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[p+oe-1])&n.hash_mask,n.prev[p&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=p,p++;while(--i);n.strstart=p,n.lookahead=oe-1,Lr(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=oe-1,n.match_available=0,e.next_in=y,e.input=c,e.avail_in=o,n.wrap=t,fr}ur.deflateInit=lf;ur.deflateInit2=na;ur.deflateReset=ia;ur.deflateResetKeep=sa;ur.deflateSetHeader=ff;ur.deflate=uf;ur.deflateEnd=cf;ur.deflateSetDictionary=df;ur.deflateInfo="pako deflate (from Nodeca project)";var Ur={},ls=wr,aa=!0,oa=!0;try{String.fromCharCode.apply(null,[0])}catch{aa=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{oa=!1}var vt=new ls.Buf8(256);for(var vr=0;vr<256;vr++)vt[vr]=vr>=252?6:vr>=248?5:vr>=240?4:vr>=224?3:vr>=192?2:1;vt[254]=vt[254]=1;Ur.string2buf=function(e){var r,s,n,p,i,t=e.length,o=0;for(p=0;p<t;p++)s=e.charCodeAt(p),(s&64512)===55296&&p+1<t&&(n=e.charCodeAt(p+1),(n&64512)===56320&&(s=65536+(s-55296<<10)+(n-56320),p++)),o+=s<128?1:s<2048?2:s<65536?3:4;for(r=new ls.Buf8(o),i=0,p=0;i<o;p++)s=e.charCodeAt(p),(s&64512)===55296&&p+1<t&&(n=e.charCodeAt(p+1),(n&64512)===56320&&(s=65536+(s-55296<<10)+(n-56320),p++)),s<128?r[i++]=s:s<2048?(r[i++]=192|s>>>6,r[i++]=128|s&63):s<65536?(r[i++]=224|s>>>12,r[i++]=128|s>>>6&63,r[i++]=128|s&63):(r[i++]=240|s>>>18,r[i++]=128|s>>>12&63,r[i++]=128|s>>>6&63,r[i++]=128|s&63);return r};function pa(e,r){if(r<65534&&(e.subarray&&oa||!e.subarray&&aa))return String.fromCharCode.apply(null,ls.shrinkBuf(e,r));for(var s="",n=0;n<r;n++)s+=String.fromCharCode(e[n]);return s}Ur.buf2binstring=function(e){return pa(e,e.length)};Ur.binstring2buf=function(e){for(var r=new ls.Buf8(e.length),s=0,n=r.length;s<n;s++)r[s]=e.charCodeAt(s);return r};Ur.buf2string=function(e,r){var s,n,p,i,t=r||e.length,o=new Array(t*2);for(n=0,s=0;s<t;){if(p=e[s++],p<128){o[n++]=p;continue}if(i=vt[p],i>4){o[n++]=65533,s+=i-1;continue}for(p&=i===2?31:i===3?15:7;i>1&&s<t;)p=p<<6|e[s++]&63,i--;if(i>1){o[n++]=65533;continue}p<65536?o[n++]=p:(p-=65536,o[n++]=55296|p>>10&1023,o[n++]=56320|p&1023)}return pa(o,n)};Ur.utf8border=function(e,r){var s;for(r=r||e.length,r>e.length&&(r=e.length),s=r-1;s>=0&&(e[s]&192)===128;)s--;return s<0||s===0?r:s+vt[e[s]]>r?s:r};function hf(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fa=hf,ct=ur,dt=wr,Ws=Ur,Zs=pi,yf=fa,la=Object.prototype.toString,mf=0,Os=4,et=0,Bi=1,ji=2,gf=-1,wf=0,bf=8;function Nr(e){if(!(this instanceof Nr))return new Nr(e);this.options=dt.assign({level:gf,method:bf,chunkSize:16384,windowBits:15,memLevel:8,strategy:wf,to:""},e||{});var r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yf,this.strm.avail_out=0;var s=ct.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(s!==et)throw new Error(Zs[s]);if(r.header&&ct.deflateSetHeader(this.strm,r.header),r.dictionary){var n;if(typeof r.dictionary=="string"?n=Ws.string2buf(r.dictionary):la.call(r.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(r.dictionary):n=r.dictionary,s=ct.deflateSetDictionary(this.strm,n),s!==et)throw new Error(Zs[s]);this._dict_set=!0}}Nr.prototype.push=function(e,r){var s=this.strm,n=this.options.chunkSize,p,i;if(this.ended)return!1;i=r===~~r?r:r===!0?Os:mf,typeof e=="string"?s.input=Ws.string2buf(e):la.call(e)==="[object ArrayBuffer]"?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(s.avail_out===0&&(s.output=new dt.Buf8(n),s.next_out=0,s.avail_out=n),p=ct.deflate(s,i),p!==Bi&&p!==et)return this.onEnd(p),this.ended=!0,!1;(s.avail_out===0||s.avail_in===0&&(i===Os||i===ji))&&(this.options.to==="string"?this.onData(Ws.buf2binstring(dt.shrinkBuf(s.output,s.next_out))):this.onData(dt.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||s.avail_out===0)&&p!==Bi);return i===Os?(p=ct.deflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===et):(i===ji&&(this.onEnd(et),s.avail_out=0),!0)};Nr.prototype.onData=function(e){this.chunks.push(e)};Nr.prototype.onEnd=function(e){e===et&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=dt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function fi(e,r){var s=new Nr(r);if(s.push(e,!0),s.err)throw s.msg||Zs[s.err];return s.result}function _f(e,r){return r=r||{},r.raw=!0,fi(e,r)}function vf(e,r){return r=r||{},r.gzip=!0,fi(e,r)}Ot.Deflate=Nr;Ot.deflate=fi;Ot.deflateRaw=_f;Ot.gzip=vf;var $t={},rr={},It=30,Pf=12,kf=function(r,s){var n,p,i,t,o,y,c,h,b,w,_,F,k,D,C,M,B,U,N,A,q,$,T,E,O;n=r.state,p=r.next_in,E=r.input,i=p+(r.avail_in-5),t=r.next_out,O=r.output,o=t-(s-r.avail_out),y=t+(r.avail_out-257),c=n.dmax,h=n.wsize,b=n.whave,w=n.wnext,_=n.window,F=n.hold,k=n.bits,D=n.lencode,C=n.distcode,M=(1<<n.lenbits)-1,B=(1<<n.distbits)-1;e:do{k<15&&(F+=E[p++]<<k,k+=8,F+=E[p++]<<k,k+=8),U=D[F&M];r:for(;;){if(N=U>>>24,F>>>=N,k-=N,N=U>>>16&255,N===0)O[t++]=U&65535;else if(N&16){A=U&65535,N&=15,N&&(k<N&&(F+=E[p++]<<k,k+=8),A+=F&(1<<N)-1,F>>>=N,k-=N),k<15&&(F+=E[p++]<<k,k+=8,F+=E[p++]<<k,k+=8),U=C[F&B];t:for(;;){if(N=U>>>24,F>>>=N,k-=N,N=U>>>16&255,N&16){if(q=U&65535,N&=15,k<N&&(F+=E[p++]<<k,k+=8,k<N&&(F+=E[p++]<<k,k+=8)),q+=F&(1<<N)-1,q>c){r.msg="invalid distance too far back",n.mode=It;break e}if(F>>>=N,k-=N,N=t-o,q>N){if(N=q-N,N>b&&n.sane){r.msg="invalid distance too far back",n.mode=It;break e}if($=0,T=_,w===0){if($+=h-N,N<A){A-=N;do O[t++]=_[$++];while(--N);$=t-q,T=O}}else if(w<N){if($+=h+w-N,N-=w,N<A){A-=N;do O[t++]=_[$++];while(--N);if($=0,w<A){N=w,A-=N;do O[t++]=_[$++];while(--N);$=t-q,T=O}}}else if($+=w-N,N<A){A-=N;do O[t++]=_[$++];while(--N);$=t-q,T=O}for(;A>2;)O[t++]=T[$++],O[t++]=T[$++],O[t++]=T[$++],A-=3;A&&(O[t++]=T[$++],A>1&&(O[t++]=T[$++]))}else{$=t-q;do O[t++]=O[$++],O[t++]=O[$++],O[t++]=O[$++],A-=3;while(A>2);A&&(O[t++]=O[$++],A>1&&(O[t++]=O[$++]))}}else if(N&64){r.msg="invalid distance code",n.mode=It;break e}else{U=C[(U&65535)+(F&(1<<N)-1)];continue t}break}}else if(N&64)if(N&32){n.mode=Pf;break e}else{r.msg="invalid literal/length code",n.mode=It;break e}else{U=D[(U&65535)+(F&(1<<N)-1)];continue r}break}}while(p<i&&t<y);A=k>>3,p-=A,k-=A<<3,F&=(1<<k)-1,r.next_in=p,r.next_out=t,r.avail_in=p<i?5+(i-p):5-(p-i),r.avail_out=t<y?257+(y-t):257-(t-y),n.hold=F,n.bits=k},Ii=wr,Vr=15,Li=852,Ni=592,Ci=0,xs=1,Di=2,Ef=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Of=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],xf=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Tf=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],$f=function(r,s,n,p,i,t,o,y){var c=y.bits,h=0,b=0,w=0,_=0,F=0,k=0,D=0,C=0,M=0,B=0,U,N,A,q,$,T=null,E=0,O,L=new Ii.Buf16(Vr+1),I=new Ii.Buf16(Vr+1),R=null,Y=0,Z,W,K;for(h=0;h<=Vr;h++)L[h]=0;for(b=0;b<p;b++)L[s[n+b]]++;for(F=c,_=Vr;_>=1&&L[_]===0;_--);if(F>_&&(F=_),_===0)return i[t++]=1<<24|64<<16|0,i[t++]=1<<24|64<<16|0,y.bits=1,0;for(w=1;w<_&&L[w]===0;w++);for(F<w&&(F=w),C=1,h=1;h<=Vr;h++)if(C<<=1,C-=L[h],C<0)return-1;if(C>0&&(r===Ci||_!==1))return-1;for(I[1]=0,h=1;h<Vr;h++)I[h+1]=I[h]+L[h];for(b=0;b<p;b++)s[n+b]!==0&&(o[I[s[n+b]]++]=b);if(r===Ci?(T=R=o,O=19):r===xs?(T=Ef,E-=257,R=Of,Y-=257,O=256):(T=xf,R=Tf,O=-1),B=0,b=0,h=w,$=t,k=F,D=0,A=-1,M=1<<F,q=M-1,r===xs&&M>Li||r===Di&&M>Ni)return 1;for(;;){Z=h-D,o[b]<O?(W=0,K=o[b]):o[b]>O?(W=R[Y+o[b]],K=T[E+o[b]]):(W=32+64,K=0),U=1<<h-D,N=1<<k,w=N;do N-=U,i[$+(B>>D)+N]=Z<<24|W<<16|K|0;while(N!==0);for(U=1<<h-1;B&U;)U>>=1;if(U!==0?(B&=U-1,B+=U):B=0,b++,--L[h]===0){if(h===_)break;h=s[n+o[b]]}if(h>F&&(B&q)!==A){for(D===0&&(D=F),$+=w,k=h-D,C=1<<k;k+D<_&&(C-=L[k+D],!(C<=0));)k++,C<<=1;if(M+=1<<k,r===xs&&M>Li||r===Di&&M>Ni)return 1;A=B&q,i[A]=F<<24|k<<16|$-t|0}}return B!==0&&(i[$+B]=h-D<<24|64<<16|0),y.bits=F,0},ze=wr,Gs=Jn,ar=ea,Af=kf,ht=$f,Sf=0,ua=1,ca=2,qi=4,Rf=5,Lt=6,Cr=0,Ff=1,Bf=2,Ve=-2,da=-3,ha=-4,jf=-5,Ui=8,ya=1,zi=2,Mi=3,Hi=4,Wi=5,Zi=6,Gi=7,Vi=8,Yi=9,Ki=10,Qt=11,hr=12,Ts=13,Xi=14,$s=15,Qi=16,Ji=17,en=18,rn=19,Nt=20,Ct=21,tn=22,sn=23,nn=24,an=25,on=26,As=27,pn=28,fn=29,be=30,ma=31,If=32,Lf=852,Nf=592,Cf=15,Df=Cf;function ln(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function qf(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ze.Buf16(320),this.work=new ze.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ga(e){var r;return!e||!e.state?Ve:(r=e.state,e.total_in=e.total_out=r.total=0,e.msg="",r.wrap&&(e.adler=r.wrap&1),r.mode=ya,r.last=0,r.havedict=0,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new ze.Buf32(Lf),r.distcode=r.distdyn=new ze.Buf32(Nf),r.sane=1,r.back=-1,Cr)}function wa(e){var r;return!e||!e.state?Ve:(r=e.state,r.wsize=0,r.whave=0,r.wnext=0,ga(e))}function ba(e,r){var s,n;return!e||!e.state||(n=e.state,r<0?(s=0,r=-r):(s=(r>>4)+1,r<48&&(r&=15)),r&&(r<8||r>15))?Ve:(n.window!==null&&n.wbits!==r&&(n.window=null),n.wrap=s,n.wbits=r,wa(e))}function _a(e,r){var s,n;return e?(n=new qf,e.state=n,n.window=null,s=ba(e,r),s!==Cr&&(e.state=null),s):Ve}function Uf(e){return _a(e,Df)}var un=!0,Ss,Rs;function zf(e){if(un){var r;for(Ss=new ze.Buf32(512),Rs=new ze.Buf32(32),r=0;r<144;)e.lens[r++]=8;for(;r<256;)e.lens[r++]=9;for(;r<280;)e.lens[r++]=7;for(;r<288;)e.lens[r++]=8;for(ht(ua,e.lens,0,288,Ss,0,e.work,{bits:9}),r=0;r<32;)e.lens[r++]=5;ht(ca,e.lens,0,32,Rs,0,e.work,{bits:5}),un=!1}e.lencode=Ss,e.lenbits=9,e.distcode=Rs,e.distbits=5}function va(e,r,s,n){var p,i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new ze.Buf8(i.wsize)),n>=i.wsize?(ze.arraySet(i.window,r,s-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(p=i.wsize-i.wnext,p>n&&(p=n),ze.arraySet(i.window,r,s-n,p,i.wnext),n-=p,n?(ze.arraySet(i.window,r,s-n,n,0),i.wnext=n,i.whave=i.wsize):(i.wnext+=p,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=p))),0}function Mf(e,r){var s,n,p,i,t,o,y,c,h,b,w,_,F,k,D=0,C,M,B,U,N,A,q,$,T=new ze.Buf8(4),E,O,L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Ve;s=e.state,s.mode===hr&&(s.mode=Ts),t=e.next_out,p=e.output,y=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,c=s.hold,h=s.bits,b=o,w=y,$=Cr;e:for(;;)switch(s.mode){case ya:if(s.wrap===0){s.mode=Ts;break}for(;h<16;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}if(s.wrap&2&&c===35615){s.check=0,T[0]=c&255,T[1]=c>>>8&255,s.check=ar(s.check,T,2,0),c=0,h=0,s.mode=zi;break}if(s.flags=0,s.head&&(s.head.done=!1),!(s.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",s.mode=be;break}if((c&15)!==Ui){e.msg="unknown compression method",s.mode=be;break}if(c>>>=4,h-=4,q=(c&15)+8,s.wbits===0)s.wbits=q;else if(q>s.wbits){e.msg="invalid window size",s.mode=be;break}s.dmax=1<<q,e.adler=s.check=1,s.mode=c&512?Ki:hr,c=0,h=0;break;case zi:for(;h<16;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}if(s.flags=c,(s.flags&255)!==Ui){e.msg="unknown compression method",s.mode=be;break}if(s.flags&57344){e.msg="unknown header flags set",s.mode=be;break}s.head&&(s.head.text=c>>8&1),s.flags&512&&(T[0]=c&255,T[1]=c>>>8&255,s.check=ar(s.check,T,2,0)),c=0,h=0,s.mode=Mi;case Mi:for(;h<32;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}s.head&&(s.head.time=c),s.flags&512&&(T[0]=c&255,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,s.check=ar(s.check,T,4,0)),c=0,h=0,s.mode=Hi;case Hi:for(;h<16;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}s.head&&(s.head.xflags=c&255,s.head.os=c>>8),s.flags&512&&(T[0]=c&255,T[1]=c>>>8&255,s.check=ar(s.check,T,2,0)),c=0,h=0,s.mode=Wi;case Wi:if(s.flags&1024){for(;h<16;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}s.length=c,s.head&&(s.head.extra_len=c),s.flags&512&&(T[0]=c&255,T[1]=c>>>8&255,s.check=ar(s.check,T,2,0)),c=0,h=0}else s.head&&(s.head.extra=null);s.mode=Zi;case Zi:if(s.flags&1024&&(_=s.length,_>o&&(_=o),_&&(s.head&&(q=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Array(s.head.extra_len)),ze.arraySet(s.head.extra,n,i,_,q)),s.flags&512&&(s.check=ar(s.check,n,_,i)),o-=_,i+=_,s.length-=_),s.length))break e;s.length=0,s.mode=Gi;case Gi:if(s.flags&2048){if(o===0)break e;_=0;do q=n[i+_++],s.head&&q&&s.length<65536&&(s.head.name+=String.fromCharCode(q));while(q&&_<o);if(s.flags&512&&(s.check=ar(s.check,n,_,i)),o-=_,i+=_,q)break e}else s.head&&(s.head.name=null);s.length=0,s.mode=Vi;case Vi:if(s.flags&4096){if(o===0)break e;_=0;do q=n[i+_++],s.head&&q&&s.length<65536&&(s.head.comment+=String.fromCharCode(q));while(q&&_<o);if(s.flags&512&&(s.check=ar(s.check,n,_,i)),o-=_,i+=_,q)break e}else s.head&&(s.head.comment=null);s.mode=Yi;case Yi:if(s.flags&512){for(;h<16;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}if(c!==(s.check&65535)){e.msg="header crc mismatch",s.mode=be;break}c=0,h=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),e.adler=s.check=0,s.mode=hr;break;case Ki:for(;h<32;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}e.adler=s.check=ln(c),c=0,h=0,s.mode=Qt;case Qt:if(s.havedict===0)return e.next_out=t,e.avail_out=y,e.next_in=i,e.avail_in=o,s.hold=c,s.bits=h,Bf;e.adler=s.check=1,s.mode=hr;case hr:if(r===Rf||r===Lt)break e;case Ts:if(s.last){c>>>=h&7,h-=h&7,s.mode=As;break}for(;h<3;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}switch(s.last=c&1,c>>>=1,h-=1,c&3){case 0:s.mode=Xi;break;case 1:if(zf(s),s.mode=Nt,r===Lt){c>>>=2,h-=2;break e}break;case 2:s.mode=Ji;break;case 3:e.msg="invalid block type",s.mode=be}c>>>=2,h-=2;break;case Xi:for(c>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",s.mode=be;break}if(s.length=c&65535,c=0,h=0,s.mode=$s,r===Lt)break e;case $s:s.mode=Qi;case Qi:if(_=s.length,_){if(_>o&&(_=o),_>y&&(_=y),_===0)break e;ze.arraySet(p,n,i,_,t),o-=_,i+=_,y-=_,t+=_,s.length-=_;break}s.mode=hr;break;case Ji:for(;h<14;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}if(s.nlen=(c&31)+257,c>>>=5,h-=5,s.ndist=(c&31)+1,c>>>=5,h-=5,s.ncode=(c&15)+4,c>>>=4,h-=4,s.nlen>286||s.ndist>30){e.msg="too many length or distance symbols",s.mode=be;break}s.have=0,s.mode=en;case en:for(;s.have<s.ncode;){for(;h<3;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}s.lens[L[s.have++]]=c&7,c>>>=3,h-=3}for(;s.have<19;)s.lens[L[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,E={bits:s.lenbits},$=ht(Sf,s.lens,0,19,s.lencode,0,s.work,E),s.lenbits=E.bits,$){e.msg="invalid code lengths set",s.mode=be;break}s.have=0,s.mode=rn;case rn:for(;s.have<s.nlen+s.ndist;){for(;D=s.lencode[c&(1<<s.lenbits)-1],C=D>>>24,M=D>>>16&255,B=D&65535,!(C<=h);){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}if(B<16)c>>>=C,h-=C,s.lens[s.have++]=B;else{if(B===16){for(O=C+2;h<O;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}if(c>>>=C,h-=C,s.have===0){e.msg="invalid bit length repeat",s.mode=be;break}q=s.lens[s.have-1],_=3+(c&3),c>>>=2,h-=2}else if(B===17){for(O=C+3;h<O;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}c>>>=C,h-=C,q=0,_=3+(c&7),c>>>=3,h-=3}else{for(O=C+7;h<O;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}c>>>=C,h-=C,q=0,_=11+(c&127),c>>>=7,h-=7}if(s.have+_>s.nlen+s.ndist){e.msg="invalid bit length repeat",s.mode=be;break}for(;_--;)s.lens[s.have++]=q}}if(s.mode===be)break;if(s.lens[256]===0){e.msg="invalid code -- missing end-of-block",s.mode=be;break}if(s.lenbits=9,E={bits:s.lenbits},$=ht(ua,s.lens,0,s.nlen,s.lencode,0,s.work,E),s.lenbits=E.bits,$){e.msg="invalid literal/lengths set",s.mode=be;break}if(s.distbits=6,s.distcode=s.distdyn,E={bits:s.distbits},$=ht(ca,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,E),s.distbits=E.bits,$){e.msg="invalid distances set",s.mode=be;break}if(s.mode=Nt,r===Lt)break e;case Nt:s.mode=Ct;case Ct:if(o>=6&&y>=258){e.next_out=t,e.avail_out=y,e.next_in=i,e.avail_in=o,s.hold=c,s.bits=h,Af(e,w),t=e.next_out,p=e.output,y=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,c=s.hold,h=s.bits,s.mode===hr&&(s.back=-1);break}for(s.back=0;D=s.lencode[c&(1<<s.lenbits)-1],C=D>>>24,M=D>>>16&255,B=D&65535,!(C<=h);){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}if(M&&!(M&240)){for(U=C,N=M,A=B;D=s.lencode[A+((c&(1<<U+N)-1)>>U)],C=D>>>24,M=D>>>16&255,B=D&65535,!(U+C<=h);){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}c>>>=U,h-=U,s.back+=U}if(c>>>=C,h-=C,s.back+=C,s.length=B,M===0){s.mode=on;break}if(M&32){s.back=-1,s.mode=hr;break}if(M&64){e.msg="invalid literal/length code",s.mode=be;break}s.extra=M&15,s.mode=tn;case tn:if(s.extra){for(O=s.extra;h<O;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}s.length+=c&(1<<s.extra)-1,c>>>=s.extra,h-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=sn;case sn:for(;D=s.distcode[c&(1<<s.distbits)-1],C=D>>>24,M=D>>>16&255,B=D&65535,!(C<=h);){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}if(!(M&240)){for(U=C,N=M,A=B;D=s.distcode[A+((c&(1<<U+N)-1)>>U)],C=D>>>24,M=D>>>16&255,B=D&65535,!(U+C<=h);){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}c>>>=U,h-=U,s.back+=U}if(c>>>=C,h-=C,s.back+=C,M&64){e.msg="invalid distance code",s.mode=be;break}s.offset=B,s.extra=M&15,s.mode=nn;case nn:if(s.extra){for(O=s.extra;h<O;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}s.offset+=c&(1<<s.extra)-1,c>>>=s.extra,h-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){e.msg="invalid distance too far back",s.mode=be;break}s.mode=an;case an:if(y===0)break e;if(_=w-y,s.offset>_){if(_=s.offset-_,_>s.whave&&s.sane){e.msg="invalid distance too far back",s.mode=be;break}_>s.wnext?(_-=s.wnext,F=s.wsize-_):F=s.wnext-_,_>s.length&&(_=s.length),k=s.window}else k=p,F=t-s.offset,_=s.length;_>y&&(_=y),y-=_,s.length-=_;do p[t++]=k[F++];while(--_);s.length===0&&(s.mode=Ct);break;case on:if(y===0)break e;p[t++]=s.length,y--,s.mode=Ct;break;case As:if(s.wrap){for(;h<32;){if(o===0)break e;o--,c|=n[i++]<<h,h+=8}if(w-=y,e.total_out+=w,s.total+=w,w&&(e.adler=s.check=s.flags?ar(s.check,p,w,t-w):Gs(s.check,p,w,t-w)),w=y,(s.flags?c:ln(c))!==s.check){e.msg="incorrect data check",s.mode=be;break}c=0,h=0}s.mode=pn;case pn:if(s.wrap&&s.flags){for(;h<32;){if(o===0)break e;o--,c+=n[i++]<<h,h+=8}if(c!==(s.total&4294967295)){e.msg="incorrect length check",s.mode=be;break}c=0,h=0}s.mode=fn;case fn:$=Ff;break e;case be:$=da;break e;case ma:return ha;case If:default:return Ve}return e.next_out=t,e.avail_out=y,e.next_in=i,e.avail_in=o,s.hold=c,s.bits=h,(s.wsize||w!==e.avail_out&&s.mode<be&&(s.mode<As||r!==qi))&&va(e,e.output,e.next_out,w-e.avail_out),b-=e.avail_in,w-=e.avail_out,e.total_in+=b,e.total_out+=w,s.total+=w,s.wrap&&w&&(e.adler=s.check=s.flags?ar(s.check,p,w,e.next_out-w):Gs(s.check,p,w,e.next_out-w)),e.data_type=s.bits+(s.last?64:0)+(s.mode===hr?128:0)+(s.mode===Nt||s.mode===$s?256:0),(b===0&&w===0||r===qi)&&$===Cr&&($=jf),$}function Hf(e){if(!e||!e.state)return Ve;var r=e.state;return r.window&&(r.window=null),e.state=null,Cr}function Wf(e,r){var s;return!e||!e.state||(s=e.state,!(s.wrap&2))?Ve:(s.head=r,r.done=!1,Cr)}function Zf(e,r){var s=r.length,n,p,i;return!e||!e.state||(n=e.state,n.wrap!==0&&n.mode!==Qt)?Ve:n.mode===Qt&&(p=1,p=Gs(p,r,s,0),p!==n.check)?da:(i=va(e,r,s,s),i?(n.mode=ma,ha):(n.havedict=1,Cr))}rr.inflateReset=wa;rr.inflateReset2=ba;rr.inflateResetKeep=ga;rr.inflateInit=Uf;rr.inflateInit2=_a;rr.inflate=Mf;rr.inflateEnd=Hf;rr.inflateGetHeader=Wf;rr.inflateSetDictionary=Zf;rr.inflateInfo="pako inflate (from Nodeca project)";var Pa={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function Gf(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Vf=Gf,rt=rr,yt=wr,Ht=Ur,ke=Pa,Vs=pi,Yf=fa,Kf=Vf,ka=Object.prototype.toString;function Dr(e){if(!(this instanceof Dr))return new Dr(e);this.options=yt.assign({chunkSize:16384,windowBits:0,to:""},e||{});var r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(e&&e.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15||(r.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Yf,this.strm.avail_out=0;var s=rt.inflateInit2(this.strm,r.windowBits);if(s!==ke.Z_OK)throw new Error(Vs[s]);if(this.header=new Kf,rt.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=Ht.string2buf(r.dictionary):ka.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(s=rt.inflateSetDictionary(this.strm,r.dictionary),s!==ke.Z_OK)))throw new Error(Vs[s])}Dr.prototype.push=function(e,r){var s=this.strm,n=this.options.chunkSize,p=this.options.dictionary,i,t,o,y,c,h=!1;if(this.ended)return!1;t=r===~~r?r:r===!0?ke.Z_FINISH:ke.Z_NO_FLUSH,typeof e=="string"?s.input=Ht.binstring2buf(e):ka.call(e)==="[object ArrayBuffer]"?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(s.avail_out===0&&(s.output=new yt.Buf8(n),s.next_out=0,s.avail_out=n),i=rt.inflate(s,ke.Z_NO_FLUSH),i===ke.Z_NEED_DICT&&p&&(i=rt.inflateSetDictionary(this.strm,p)),i===ke.Z_BUF_ERROR&&h===!0&&(i=ke.Z_OK,h=!1),i!==ke.Z_STREAM_END&&i!==ke.Z_OK)return this.onEnd(i),this.ended=!0,!1;s.next_out&&(s.avail_out===0||i===ke.Z_STREAM_END||s.avail_in===0&&(t===ke.Z_FINISH||t===ke.Z_SYNC_FLUSH))&&(this.options.to==="string"?(o=Ht.utf8border(s.output,s.next_out),y=s.next_out-o,c=Ht.buf2string(s.output,o),s.next_out=y,s.avail_out=n-y,y&&yt.arraySet(s.output,s.output,o,y,0),this.onData(c)):this.onData(yt.shrinkBuf(s.output,s.next_out))),s.avail_in===0&&s.avail_out===0&&(h=!0)}while((s.avail_in>0||s.avail_out===0)&&i!==ke.Z_STREAM_END);return i===ke.Z_STREAM_END&&(t=ke.Z_FINISH),t===ke.Z_FINISH?(i=rt.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===ke.Z_OK):(t===ke.Z_SYNC_FLUSH&&(this.onEnd(ke.Z_OK),s.avail_out=0),!0)};Dr.prototype.onData=function(e){this.chunks.push(e)};Dr.prototype.onEnd=function(e){e===ke.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=yt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function li(e,r){var s=new Dr(r);if(s.push(e,!0),s.err)throw s.msg||Vs[s.err];return s.result}function Xf(e,r){return r=r||{},r.raw=!0,li(e,r)}$t.Inflate=Dr;$t.inflate=li;$t.inflateRaw=Xf;$t.ungzip=li;var Qf=wr.assign,Jf=Ot,el=$t,rl=Pa,Ea={};Qf(Ea,Jf,el,rl);var tl=Ea;const Oa=Qs(tl);async function sl(e,r){const s=new jn(e);let n=await s.read(4);if(n=n.toString("utf8"),n!=="PACK")throw new _e(`Invalid PACK header '${n}'`);let p=await s.read(4);if(p=p.readUInt32BE(0),p!==2)throw new _e(`Invalid packfile version: ${p}`);let i=await s.read(4);if(i=i.readUInt32BE(0),!(i<1))for(;!s.eof()&&i--;){const t=s.tell(),{type:o,length:y,ofs:c,reference:h}=await il(s),b=new Oa.Inflate;for(;!b.result;){const w=await s.chunk();if(!w)break;if(b.push(w,!1),b.err)throw new _e(`Pako error: ${b.msg}`);if(b.result){if(b.result.length!==y)throw new _e("Inflated object size is different from that stated in packfile.");await s.undo(),await s.read(w.length-b.strm.avail_in);const _=s.tell();await r({data:b.result,type:o,num:i,offset:t,end:_,reference:h,ofs:c})}}}}async function il(e){let r=await e.byte();const s=r>>4&7;let n=r&15;if(r&128){let t=4;do r=await e.byte(),n|=(r&127)<<t,t+=7;while(r&128)}let p,i;if(s===6){let t=0;p=0;const o=[];do r=await e.byte(),p|=(r&127)<<t,t+=7,o.push(r);while(r&128);i=Buffer.from(o)}return s===7&&(i=await e.read(20)),{type:s,length:n,ofs:p,reference:i}}let nl=!1;async function al(e){return nl?ol(e):Oa.inflate(e)}async function ol(e){const r=new DecompressionStream("deflate"),s=new Blob([e]).stream().pipeThrough(r);return new Uint8Array(await new Response(s).arrayBuffer())}var Ys={exports:{}};typeof Object.create=="function"?Ys.exports=function(r,s){s&&(r.super_=s,r.prototype=Object.create(s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:Ys.exports=function(r,s){if(s){r.super_=s;var n=function(){};n.prototype=s.prototype,r.prototype=new n,r.prototype.constructor=r}};var pl=Ys.exports,Ks={exports:{}},gr={},us={};us.byteLength=ul;us.toByteArray=dl;us.fromByteArray=ml;var lr=[],We=[],fl=typeof Uint8Array<"u"?Uint8Array:Array,Fs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Yr=0,ll=Fs.length;Yr<ll;++Yr)lr[Yr]=Fs[Yr],We[Fs.charCodeAt(Yr)]=Yr;We["-".charCodeAt(0)]=62;We["_".charCodeAt(0)]=63;function xa(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=e.indexOf("=");s===-1&&(s=r);var n=s===r?0:4-s%4;return[s,n]}function ul(e){var r=xa(e),s=r[0],n=r[1];return(s+n)*3/4-n}function cl(e,r,s){return(r+s)*3/4-s}function dl(e){var r,s=xa(e),n=s[0],p=s[1],i=new fl(cl(e,n,p)),t=0,o=p>0?n-4:n,y;for(y=0;y<o;y+=4)r=We[e.charCodeAt(y)]<<18|We[e.charCodeAt(y+1)]<<12|We[e.charCodeAt(y+2)]<<6|We[e.charCodeAt(y+3)],i[t++]=r>>16&255,i[t++]=r>>8&255,i[t++]=r&255;return p===2&&(r=We[e.charCodeAt(y)]<<2|We[e.charCodeAt(y+1)]>>4,i[t++]=r&255),p===1&&(r=We[e.charCodeAt(y)]<<10|We[e.charCodeAt(y+1)]<<4|We[e.charCodeAt(y+2)]>>2,i[t++]=r>>8&255,i[t++]=r&255),i}function hl(e){return lr[e>>18&63]+lr[e>>12&63]+lr[e>>6&63]+lr[e&63]}function yl(e,r,s){for(var n,p=[],i=r;i<s;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),p.push(hl(n));return p.join("")}function ml(e){for(var r,s=e.length,n=s%3,p=[],i=16383,t=0,o=s-n;t<o;t+=i)p.push(yl(e,t,t+i>o?o:t+i));return n===1?(r=e[s-1],p.push(lr[r>>2]+lr[r<<4&63]+"==")):n===2&&(r=(e[s-2]<<8)+e[s-1],p.push(lr[r>>10]+lr[r>>4&63]+lr[r<<2&63]+"=")),p.join("")}var ui={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ui.read=function(e,r,s,n,p){var i,t,o=p*8-n-1,y=(1<<o)-1,c=y>>1,h=-7,b=s?p-1:0,w=s?-1:1,_=e[r+b];for(b+=w,i=_&(1<<-h)-1,_>>=-h,h+=o;h>0;i=i*256+e[r+b],b+=w,h-=8);for(t=i&(1<<-h)-1,i>>=-h,h+=n;h>0;t=t*256+e[r+b],b+=w,h-=8);if(i===0)i=1-c;else{if(i===y)return t?NaN:(_?-1:1)*(1/0);t=t+Math.pow(2,n),i=i-c}return(_?-1:1)*t*Math.pow(2,i-n)};ui.write=function(e,r,s,n,p,i){var t,o,y,c=i*8-p-1,h=(1<<c)-1,b=h>>1,w=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=n?0:i-1,F=n?1:-1,k=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(o=isNaN(r)?1:0,t=h):(t=Math.floor(Math.log(r)/Math.LN2),r*(y=Math.pow(2,-t))<1&&(t--,y*=2),t+b>=1?r+=w/y:r+=w*Math.pow(2,1-b),r*y>=2&&(t++,y/=2),t+b>=h?(o=0,t=h):t+b>=1?(o=(r*y-1)*Math.pow(2,p),t=t+b):(o=r*Math.pow(2,b-1)*Math.pow(2,p),t=0));p>=8;e[s+_]=o&255,_+=F,o/=256,p-=8);for(t=t<<p|o,c+=p;c>0;e[s+_]=t&255,_+=F,t/=256,c-=8);e[s+_-F]|=k*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const r=us,s=ui,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=M,e.INSPECT_MAX_BYTES=50;const p=2147483647;e.kMaxLength=p,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const u=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(u,f),u.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function t(u){if(u>p)throw new RangeError('The value "'+u+'" is invalid for option "size"');const f=new Uint8Array(u);return Object.setPrototypeOf(f,o.prototype),f}function o(u,f,l){if(typeof u=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(u)}return y(u,f,l)}o.poolSize=8192;function y(u,f,l){if(typeof u=="string")return w(u,f);if(ArrayBuffer.isView(u))return F(u);if(u==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);if(Be(u,ArrayBuffer)||u&&Be(u.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be(u,SharedArrayBuffer)||u&&Be(u.buffer,SharedArrayBuffer)))return k(u,f,l);if(typeof u=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const g=u.valueOf&&u.valueOf();if(g!=null&&g!==u)return o.from(g,f,l);const v=D(u);if(v)return v;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof u[Symbol.toPrimitive]=="function")return o.from(u[Symbol.toPrimitive]("string"),f,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u)}o.from=function(u,f,l){return y(u,f,l)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(u){if(typeof u!="number")throw new TypeError('"size" argument must be of type number');if(u<0)throw new RangeError('The value "'+u+'" is invalid for option "size"')}function h(u,f,l){return c(u),u<=0?t(u):f!==void 0?typeof l=="string"?t(u).fill(f,l):t(u).fill(f):t(u)}o.alloc=function(u,f,l){return h(u,f,l)};function b(u){return c(u),t(u<0?0:C(u)|0)}o.allocUnsafe=function(u){return b(u)},o.allocUnsafeSlow=function(u){return b(u)};function w(u,f){if((typeof f!="string"||f==="")&&(f="utf8"),!o.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const l=B(u,f)|0;let g=t(l);const v=g.write(u,f);return v!==l&&(g=g.slice(0,v)),g}function _(u){const f=u.length<0?0:C(u.length)|0,l=t(f);for(let g=0;g<f;g+=1)l[g]=u[g]&255;return l}function F(u){if(Be(u,Uint8Array)){const f=new Uint8Array(u);return k(f.buffer,f.byteOffset,f.byteLength)}return _(u)}function k(u,f,l){if(f<0||u.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(u.byteLength<f+(l||0))throw new RangeError('"length" is outside of buffer bounds');let g;return f===void 0&&l===void 0?g=new Uint8Array(u):l===void 0?g=new Uint8Array(u,f):g=new Uint8Array(u,f,l),Object.setPrototypeOf(g,o.prototype),g}function D(u){if(o.isBuffer(u)){const f=C(u.length)|0,l=t(f);return l.length===0||u.copy(l,0,0,f),l}if(u.length!==void 0)return typeof u.length!="number"||Ae(u.length)?t(0):_(u);if(u.type==="Buffer"&&Array.isArray(u.data))return _(u.data)}function C(u){if(u>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return u|0}function M(u){return+u!=u&&(u=0),o.alloc(+u)}o.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==o.prototype},o.compare=function(f,l){if(Be(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),Be(l,Uint8Array)&&(l=o.from(l,l.offset,l.byteLength)),!o.isBuffer(f)||!o.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===l)return 0;let g=f.length,v=l.length;for(let x=0,j=Math.min(g,v);x<j;++x)if(f[x]!==l[x]){g=f[x],v=l[x];break}return g<v?-1:v<g?1:0},o.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(f,l){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return o.alloc(0);let g;if(l===void 0)for(l=0,g=0;g<f.length;++g)l+=f[g].length;const v=o.allocUnsafe(l);let x=0;for(g=0;g<f.length;++g){let j=f[g];if(Be(j,Uint8Array))x+j.length>v.length?(o.isBuffer(j)||(j=o.from(j)),j.copy(v,x)):Uint8Array.prototype.set.call(v,j,x);else if(o.isBuffer(j))j.copy(v,x);else throw new TypeError('"list" argument must be an Array of Buffers');x+=j.length}return v};function B(u,f){if(o.isBuffer(u))return u.length;if(ArrayBuffer.isView(u)||Be(u,ArrayBuffer))return u.byteLength;if(typeof u!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof u);const l=u.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&l===0)return 0;let v=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return _r(u).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return $r(u).length;default:if(v)return g?-1:_r(u).length;f=(""+f).toLowerCase(),v=!0}}o.byteLength=B;function U(u,f,l){let g=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,f>>>=0,l<=f))return"";for(u||(u="utf8");;)switch(u){case"hex":return G(this,f,l);case"utf8":case"utf-8":return R(this,f,l);case"ascii":return W(this,f,l);case"latin1":case"binary":return K(this,f,l);case"base64":return I(this,f,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,f,l);default:if(g)throw new TypeError("Unknown encoding: "+u);u=(u+"").toLowerCase(),g=!0}}o.prototype._isBuffer=!0;function N(u,f,l){const g=u[f];u[f]=u[l],u[l]=g}o.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<f;l+=2)N(this,l,l+1);return this},o.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<f;l+=4)N(this,l,l+3),N(this,l+1,l+2);return this},o.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<f;l+=8)N(this,l,l+7),N(this,l+1,l+6),N(this,l+2,l+5),N(this,l+3,l+4);return this},o.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?R(this,0,f):U.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(f){if(!o.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:o.compare(this,f)===0},o.prototype.inspect=function(){let f="";const l=e.INSPECT_MAX_BYTES;return f=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(f+=" ... "),"<Buffer "+f+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(f,l,g,v,x){if(Be(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),!o.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(l===void 0&&(l=0),g===void 0&&(g=f?f.length:0),v===void 0&&(v=0),x===void 0&&(x=this.length),l<0||g>f.length||v<0||x>this.length)throw new RangeError("out of range index");if(v>=x&&l>=g)return 0;if(v>=x)return-1;if(l>=g)return 1;if(l>>>=0,g>>>=0,v>>>=0,x>>>=0,this===f)return 0;let j=x-v,J=g-l;const ye=Math.min(j,J),de=this.slice(v,x),he=f.slice(l,g);for(let ae=0;ae<ye;++ae)if(de[ae]!==he[ae]){j=de[ae],J=he[ae];break}return j<J?-1:J<j?1:0};function A(u,f,l,g,v){if(u.length===0)return-1;if(typeof l=="string"?(g=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,Ae(l)&&(l=v?0:u.length-1),l<0&&(l=u.length+l),l>=u.length){if(v)return-1;l=u.length-1}else if(l<0)if(v)l=0;else return-1;if(typeof f=="string"&&(f=o.from(f,g)),o.isBuffer(f))return f.length===0?-1:q(u,f,l,g,v);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?v?Uint8Array.prototype.indexOf.call(u,f,l):Uint8Array.prototype.lastIndexOf.call(u,f,l):q(u,[f],l,g,v);throw new TypeError("val must be string, number or Buffer")}function q(u,f,l,g,v){let x=1,j=u.length,J=f.length;if(g!==void 0&&(g=String(g).toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(u.length<2||f.length<2)return-1;x=2,j/=2,J/=2,l/=2}function ye(he,ae){return x===1?he[ae]:he.readUInt16BE(ae*x)}let de;if(v){let he=-1;for(de=l;de<j;de++)if(ye(u,de)===ye(f,he===-1?0:de-he)){if(he===-1&&(he=de),de-he+1===J)return he*x}else he!==-1&&(de-=de-he),he=-1}else for(l+J>j&&(l=j-J),de=l;de>=0;de--){let he=!0;for(let ae=0;ae<J;ae++)if(ye(u,de+ae)!==ye(f,ae)){he=!1;break}if(he)return de}return-1}o.prototype.includes=function(f,l,g){return this.indexOf(f,l,g)!==-1},o.prototype.indexOf=function(f,l,g){return A(this,f,l,g,!0)},o.prototype.lastIndexOf=function(f,l,g){return A(this,f,l,g,!1)};function $(u,f,l,g){l=Number(l)||0;const v=u.length-l;g?(g=Number(g),g>v&&(g=v)):g=v;const x=f.length;g>x/2&&(g=x/2);let j;for(j=0;j<g;++j){const J=parseInt(f.substr(j*2,2),16);if(Ae(J))return j;u[l+j]=J}return j}function T(u,f,l,g){return Me(_r(f,u.length-l),u,l,g)}function E(u,f,l,g){return Me(Hr(f),u,l,g)}function O(u,f,l,g){return Me($r(f),u,l,g)}function L(u,f,l,g){return Me(dr(f,u.length-l),u,l,g)}o.prototype.write=function(f,l,g,v){if(l===void 0)v="utf8",g=this.length,l=0;else if(g===void 0&&typeof l=="string")v=l,g=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(g)?(g=g>>>0,v===void 0&&(v="utf8")):(v=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const x=this.length-l;if((g===void 0||g>x)&&(g=x),f.length>0&&(g<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");v||(v="utf8");let j=!1;for(;;)switch(v){case"hex":return $(this,f,l,g);case"utf8":case"utf-8":return T(this,f,l,g);case"ascii":case"latin1":case"binary":return E(this,f,l,g);case"base64":return O(this,f,l,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,f,l,g);default:if(j)throw new TypeError("Unknown encoding: "+v);v=(""+v).toLowerCase(),j=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(u,f,l){return f===0&&l===u.length?r.fromByteArray(u):r.fromByteArray(u.slice(f,l))}function R(u,f,l){l=Math.min(u.length,l);const g=[];let v=f;for(;v<l;){const x=u[v];let j=null,J=x>239?4:x>223?3:x>191?2:1;if(v+J<=l){let ye,de,he,ae;switch(J){case 1:x<128&&(j=x);break;case 2:ye=u[v+1],(ye&192)===128&&(ae=(x&31)<<6|ye&63,ae>127&&(j=ae));break;case 3:ye=u[v+1],de=u[v+2],(ye&192)===128&&(de&192)===128&&(ae=(x&15)<<12|(ye&63)<<6|de&63,ae>2047&&(ae<55296||ae>57343)&&(j=ae));break;case 4:ye=u[v+1],de=u[v+2],he=u[v+3],(ye&192)===128&&(de&192)===128&&(he&192)===128&&(ae=(x&15)<<18|(ye&63)<<12|(de&63)<<6|he&63,ae>65535&&ae<1114112&&(j=ae))}}j===null?(j=65533,J=1):j>65535&&(j-=65536,g.push(j>>>10&1023|55296),j=56320|j&1023),g.push(j),v+=J}return Z(g)}const Y=4096;function Z(u){const f=u.length;if(f<=Y)return String.fromCharCode.apply(String,u);let l="",g=0;for(;g<f;)l+=String.fromCharCode.apply(String,u.slice(g,g+=Y));return l}function W(u,f,l){let g="";l=Math.min(u.length,l);for(let v=f;v<l;++v)g+=String.fromCharCode(u[v]&127);return g}function K(u,f,l){let g="";l=Math.min(u.length,l);for(let v=f;v<l;++v)g+=String.fromCharCode(u[v]);return g}function G(u,f,l){const g=u.length;(!f||f<0)&&(f=0),(!l||l<0||l>g)&&(l=g);let v="";for(let x=f;x<l;++x)v+=Wr[u[x]];return v}function se(u,f,l){const g=u.slice(f,l);let v="";for(let x=0;x<g.length-1;x+=2)v+=String.fromCharCode(g[x]+g[x+1]*256);return v}o.prototype.slice=function(f,l){const g=this.length;f=~~f,l=l===void 0?g:~~l,f<0?(f+=g,f<0&&(f=0)):f>g&&(f=g),l<0?(l+=g,l<0&&(l=0)):l>g&&(l=g),l<f&&(l=f);const v=this.subarray(f,l);return Object.setPrototypeOf(v,o.prototype),v};function ee(u,f,l){if(u%1!==0||u<0)throw new RangeError("offset is not uint");if(u+f>l)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(f,l,g){f=f>>>0,l=l>>>0,g||ee(f,l,this.length);let v=this[f],x=1,j=0;for(;++j<l&&(x*=256);)v+=this[f+j]*x;return v},o.prototype.readUintBE=o.prototype.readUIntBE=function(f,l,g){f=f>>>0,l=l>>>0,g||ee(f,l,this.length);let v=this[f+--l],x=1;for(;l>0&&(x*=256);)v+=this[f+--l]*x;return v},o.prototype.readUint8=o.prototype.readUInt8=function(f,l){return f=f>>>0,l||ee(f,1,this.length),this[f]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(f,l){return f=f>>>0,l||ee(f,2,this.length),this[f]|this[f+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(f,l){return f=f>>>0,l||ee(f,2,this.length),this[f]<<8|this[f+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(f,l){return f=f>>>0,l||ee(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(f,l){return f=f>>>0,l||ee(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},o.prototype.readBigUInt64LE=Ee(function(f){f=f>>>0,Qe(f,"offset");const l=this[f],g=this[f+7];(l===void 0||g===void 0)&&Ce(f,this.length-8);const v=l+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,x=this[++f]+this[++f]*2**8+this[++f]*2**16+g*2**24;return BigInt(v)+(BigInt(x)<<BigInt(32))}),o.prototype.readBigUInt64BE=Ee(function(f){f=f>>>0,Qe(f,"offset");const l=this[f],g=this[f+7];(l===void 0||g===void 0)&&Ce(f,this.length-8);const v=l*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],x=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+g;return(BigInt(v)<<BigInt(32))+BigInt(x)}),o.prototype.readIntLE=function(f,l,g){f=f>>>0,l=l>>>0,g||ee(f,l,this.length);let v=this[f],x=1,j=0;for(;++j<l&&(x*=256);)v+=this[f+j]*x;return x*=128,v>=x&&(v-=Math.pow(2,8*l)),v},o.prototype.readIntBE=function(f,l,g){f=f>>>0,l=l>>>0,g||ee(f,l,this.length);let v=l,x=1,j=this[f+--v];for(;v>0&&(x*=256);)j+=this[f+--v]*x;return x*=128,j>=x&&(j-=Math.pow(2,8*l)),j},o.prototype.readInt8=function(f,l){return f=f>>>0,l||ee(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},o.prototype.readInt16LE=function(f,l){f=f>>>0,l||ee(f,2,this.length);const g=this[f]|this[f+1]<<8;return g&32768?g|4294901760:g},o.prototype.readInt16BE=function(f,l){f=f>>>0,l||ee(f,2,this.length);const g=this[f+1]|this[f]<<8;return g&32768?g|4294901760:g},o.prototype.readInt32LE=function(f,l){return f=f>>>0,l||ee(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},o.prototype.readInt32BE=function(f,l){return f=f>>>0,l||ee(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},o.prototype.readBigInt64LE=Ee(function(f){f=f>>>0,Qe(f,"offset");const l=this[f],g=this[f+7];(l===void 0||g===void 0)&&Ce(f,this.length-8);const v=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(g<<24);return(BigInt(v)<<BigInt(32))+BigInt(l+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),o.prototype.readBigInt64BE=Ee(function(f){f=f>>>0,Qe(f,"offset");const l=this[f],g=this[f+7];(l===void 0||g===void 0)&&Ce(f,this.length-8);const v=(l<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(v)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+g)}),o.prototype.readFloatLE=function(f,l){return f=f>>>0,l||ee(f,4,this.length),s.read(this,f,!0,23,4)},o.prototype.readFloatBE=function(f,l){return f=f>>>0,l||ee(f,4,this.length),s.read(this,f,!1,23,4)},o.prototype.readDoubleLE=function(f,l){return f=f>>>0,l||ee(f,8,this.length),s.read(this,f,!0,52,8)},o.prototype.readDoubleBE=function(f,l){return f=f>>>0,l||ee(f,8,this.length),s.read(this,f,!1,52,8)};function X(u,f,l,g,v,x){if(!o.isBuffer(u))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>v||f<x)throw new RangeError('"value" argument is out of bounds');if(l+g>u.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(f,l,g,v){if(f=+f,l=l>>>0,g=g>>>0,!v){const J=Math.pow(2,8*g)-1;X(this,f,l,g,J,0)}let x=1,j=0;for(this[l]=f&255;++j<g&&(x*=256);)this[l+j]=f/x&255;return l+g},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(f,l,g,v){if(f=+f,l=l>>>0,g=g>>>0,!v){const J=Math.pow(2,8*g)-1;X(this,f,l,g,J,0)}let x=g-1,j=1;for(this[l+x]=f&255;--x>=0&&(j*=256);)this[l+x]=f/j&255;return l+g},o.prototype.writeUint8=o.prototype.writeUInt8=function(f,l,g){return f=+f,l=l>>>0,g||X(this,f,l,1,255,0),this[l]=f&255,l+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(f,l,g){return f=+f,l=l>>>0,g||X(this,f,l,2,65535,0),this[l]=f&255,this[l+1]=f>>>8,l+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(f,l,g){return f=+f,l=l>>>0,g||X(this,f,l,2,65535,0),this[l]=f>>>8,this[l+1]=f&255,l+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(f,l,g){return f=+f,l=l>>>0,g||X(this,f,l,4,4294967295,0),this[l+3]=f>>>24,this[l+2]=f>>>16,this[l+1]=f>>>8,this[l]=f&255,l+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(f,l,g){return f=+f,l=l>>>0,g||X(this,f,l,4,4294967295,0),this[l]=f>>>24,this[l+1]=f>>>16,this[l+2]=f>>>8,this[l+3]=f&255,l+4};function Q(u,f,l,g,v){sr(f,g,v,u,l,7);let x=Number(f&BigInt(4294967295));u[l++]=x,x=x>>8,u[l++]=x,x=x>>8,u[l++]=x,x=x>>8,u[l++]=x;let j=Number(f>>BigInt(32)&BigInt(4294967295));return u[l++]=j,j=j>>8,u[l++]=j,j=j>>8,u[l++]=j,j=j>>8,u[l++]=j,l}function re(u,f,l,g,v){sr(f,g,v,u,l,7);let x=Number(f&BigInt(4294967295));u[l+7]=x,x=x>>8,u[l+6]=x,x=x>>8,u[l+5]=x,x=x>>8,u[l+4]=x;let j=Number(f>>BigInt(32)&BigInt(4294967295));return u[l+3]=j,j=j>>8,u[l+2]=j,j=j>>8,u[l+1]=j,j=j>>8,u[l]=j,l+8}o.prototype.writeBigUInt64LE=Ee(function(f,l=0){return Q(this,f,l,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Ee(function(f,l=0){return re(this,f,l,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(f,l,g,v){if(f=+f,l=l>>>0,!v){const ye=Math.pow(2,8*g-1);X(this,f,l,g,ye-1,-ye)}let x=0,j=1,J=0;for(this[l]=f&255;++x<g&&(j*=256);)f<0&&J===0&&this[l+x-1]!==0&&(J=1),this[l+x]=(f/j>>0)-J&255;return l+g},o.prototype.writeIntBE=function(f,l,g,v){if(f=+f,l=l>>>0,!v){const ye=Math.pow(2,8*g-1);X(this,f,l,g,ye-1,-ye)}let x=g-1,j=1,J=0;for(this[l+x]=f&255;--x>=0&&(j*=256);)f<0&&J===0&&this[l+x+1]!==0&&(J=1),this[l+x]=(f/j>>0)-J&255;return l+g},o.prototype.writeInt8=function(f,l,g){return f=+f,l=l>>>0,g||X(this,f,l,1,127,-128),f<0&&(f=255+f+1),this[l]=f&255,l+1},o.prototype.writeInt16LE=function(f,l,g){return f=+f,l=l>>>0,g||X(this,f,l,2,32767,-32768),this[l]=f&255,this[l+1]=f>>>8,l+2},o.prototype.writeInt16BE=function(f,l,g){return f=+f,l=l>>>0,g||X(this,f,l,2,32767,-32768),this[l]=f>>>8,this[l+1]=f&255,l+2},o.prototype.writeInt32LE=function(f,l,g){return f=+f,l=l>>>0,g||X(this,f,l,4,2147483647,-2147483648),this[l]=f&255,this[l+1]=f>>>8,this[l+2]=f>>>16,this[l+3]=f>>>24,l+4},o.prototype.writeInt32BE=function(f,l,g){return f=+f,l=l>>>0,g||X(this,f,l,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[l]=f>>>24,this[l+1]=f>>>16,this[l+2]=f>>>8,this[l+3]=f&255,l+4},o.prototype.writeBigInt64LE=Ee(function(f,l=0){return Q(this,f,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Ee(function(f,l=0){return re(this,f,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ne(u,f,l,g,v,x){if(l+g>u.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function te(u,f,l,g,v){return f=+f,l=l>>>0,v||ne(u,f,l,4),s.write(u,f,l,g,23,4),l+4}o.prototype.writeFloatLE=function(f,l,g){return te(this,f,l,!0,g)},o.prototype.writeFloatBE=function(f,l,g){return te(this,f,l,!1,g)};function we(u,f,l,g,v){return f=+f,l=l>>>0,v||ne(u,f,l,8),s.write(u,f,l,g,52,8),l+8}o.prototype.writeDoubleLE=function(f,l,g){return we(this,f,l,!0,g)},o.prototype.writeDoubleBE=function(f,l,g){return we(this,f,l,!1,g)},o.prototype.copy=function(f,l,g,v){if(!o.isBuffer(f))throw new TypeError("argument should be a Buffer");if(g||(g=0),!v&&v!==0&&(v=this.length),l>=f.length&&(l=f.length),l||(l=0),v>0&&v<g&&(v=g),v===g||f.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("sourceEnd out of bounds");v>this.length&&(v=this.length),f.length-l<v-g&&(v=f.length-l+g);const x=v-g;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,g,v):Uint8Array.prototype.set.call(f,this.subarray(g,v),l),x},o.prototype.fill=function(f,l,g,v){if(typeof f=="string"){if(typeof l=="string"?(v=l,l=0,g=this.length):typeof g=="string"&&(v=g,g=this.length),v!==void 0&&typeof v!="string")throw new TypeError("encoding must be a string");if(typeof v=="string"&&!o.isEncoding(v))throw new TypeError("Unknown encoding: "+v);if(f.length===1){const j=f.charCodeAt(0);(v==="utf8"&&j<128||v==="latin1")&&(f=j)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(l<0||this.length<l||this.length<g)throw new RangeError("Out of range index");if(g<=l)return this;l=l>>>0,g=g===void 0?this.length:g>>>0,f||(f=0);let x;if(typeof f=="number")for(x=l;x<g;++x)this[x]=f;else{const j=o.isBuffer(f)?f:o.from(f,v),J=j.length;if(J===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(x=0;x<g-l;++x)this[x+l]=j[x%J]}return this};const ve={};function Le(u,f,l){ve[u]=class extends l{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${u}]`,this.stack,delete this.name}get code(){return u}set code(v){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:v,writable:!0})}toString(){return`${this.name} [${u}]: ${this.message}`}}}Le("ERR_BUFFER_OUT_OF_BOUNDS",function(u){return u?`${u} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Le("ERR_INVALID_ARG_TYPE",function(u,f){return`The "${u}" argument must be of type number. Received type ${typeof f}`},TypeError),Le("ERR_OUT_OF_RANGE",function(u,f,l){let g=`The value of "${u}" is out of range.`,v=l;return Number.isInteger(l)&&Math.abs(l)>2**32?v=tr(String(l)):typeof l=="bigint"&&(v=String(l),(l>BigInt(2)**BigInt(32)||l<-(BigInt(2)**BigInt(32)))&&(v=tr(v)),v+="n"),g+=` It must be ${f}. Received ${v}`,g},RangeError);function tr(u){let f="",l=u.length;const g=u[0]==="-"?1:0;for(;l>=g+4;l-=3)f=`_${u.slice(l-3,l)}${f}`;return`${u.slice(0,l)}${f}`}function zr(u,f,l){Qe(f,"offset"),(u[f]===void 0||u[f+l]===void 0)&&Ce(f,u.length-(l+1))}function sr(u,f,l,g,v,x){if(u>l||u<f){const j=typeof f=="bigint"?"n":"";let J;throw x>3?f===0||f===BigInt(0)?J=`>= 0${j} and < 2${j} ** ${(x+1)*8}${j}`:J=`>= -(2${j} ** ${(x+1)*8-1}${j}) and < 2 ** ${(x+1)*8-1}${j}`:J=`>= ${f}${j} and <= ${l}${j}`,new ve.ERR_OUT_OF_RANGE("value",J,u)}zr(g,v,x)}function Qe(u,f){if(typeof u!="number")throw new ve.ERR_INVALID_ARG_TYPE(f,"number",u)}function Ce(u,f,l){throw Math.floor(u)!==u?(Qe(u,l),new ve.ERR_OUT_OF_RANGE(l||"offset","an integer",u)):f<0?new ve.ERR_BUFFER_OUT_OF_BOUNDS:new ve.ERR_OUT_OF_RANGE(l||"offset",`>= ${l?1:0} and <= ${f}`,u)}const Mr=/[^+/0-9A-Za-z-_]/g;function cr(u){if(u=u.split("=")[0],u=u.trim().replace(Mr,""),u.length<2)return"";for(;u.length%4!==0;)u=u+"=";return u}function _r(u,f){f=f||1/0;let l;const g=u.length;let v=null;const x=[];for(let j=0;j<g;++j){if(l=u.charCodeAt(j),l>55295&&l<57344){if(!v){if(l>56319){(f-=3)>-1&&x.push(239,191,189);continue}else if(j+1===g){(f-=3)>-1&&x.push(239,191,189);continue}v=l;continue}if(l<56320){(f-=3)>-1&&x.push(239,191,189),v=l;continue}l=(v-55296<<10|l-56320)+65536}else v&&(f-=3)>-1&&x.push(239,191,189);if(v=null,l<128){if((f-=1)<0)break;x.push(l)}else if(l<2048){if((f-=2)<0)break;x.push(l>>6|192,l&63|128)}else if(l<65536){if((f-=3)<0)break;x.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((f-=4)<0)break;x.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return x}function Hr(u){const f=[];for(let l=0;l<u.length;++l)f.push(u.charCodeAt(l)&255);return f}function dr(u,f){let l,g,v;const x=[];for(let j=0;j<u.length&&!((f-=2)<0);++j)l=u.charCodeAt(j),g=l>>8,v=l%256,x.push(v),x.push(g);return x}function $r(u){return r.toByteArray(cr(u))}function Me(u,f,l,g){let v;for(v=0;v<g&&!(v+l>=f.length||v>=u.length);++v)f[v+l]=u[v];return v}function Be(u,f){return u instanceof f||u!=null&&u.constructor!=null&&u.constructor.name!=null&&u.constructor.name===f.name}function Ae(u){return u!==u}const Wr=function(){const u="0123456789abcdef",f=new Array(256);for(let l=0;l<16;++l){const g=l*16;for(let v=0;v<16;++v)f[g+v]=u[l]+u[v]}return f}();function Ee(u){return typeof BigInt>"u"?Zr:u}function Zr(){throw new Error("BigInt not supported")}})(gr);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,r){var s=gr,n=s.Buffer;function p(t,o){for(var y in t)o[y]=t[y]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=s:(p(s,r),r.Buffer=i);function i(t,o,y){return n(t,o,y)}i.prototype=Object.create(n.prototype),p(n,i),i.from=function(t,o,y){if(typeof t=="number")throw new TypeError("Argument must not be a number");return n(t,o,y)},i.alloc=function(t,o,y){if(typeof t!="number")throw new TypeError("Argument must be a number");var c=n(t);return o!==void 0?typeof y=="string"?c.fill(o,y):c.fill(o):c.fill(0),c},i.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return n(t)},i.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(t)}})(Ks,Ks.exports);var Ta=Ks.exports,$a=Ta.Buffer;function cs(e,r){this._block=$a.alloc(e),this._finalSize=r,this._blockSize=e,this._len=0}cs.prototype.update=function(e,r){typeof e=="string"&&(r=r||"utf8",e=$a.from(e,r));for(var s=this._block,n=this._blockSize,p=e.length,i=this._len,t=0;t<p;){for(var o=i%n,y=Math.min(p-t,n-o),c=0;c<y;c++)s[o+c]=e[t+c];i+=y,t+=y,i%n===0&&this._update(s)}return this._len+=p,this};cs.prototype.digest=function(e){var r=this._len%this._blockSize;this._block[r]=128,this._block.fill(0,r+1),r>=this._finalSize&&(this._update(this._block),this._block.fill(0));var s=this._len*8;if(s<=4294967295)this._block.writeUInt32BE(s,this._blockSize-4);else{var n=(s&4294967295)>>>0,p=(s-n)/4294967296;this._block.writeUInt32BE(p,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i};cs.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var gl=cs,wl=pl,Aa=gl,bl=Ta.Buffer,_l=[1518500249,1859775393,-1894007588,-899497514],vl=new Array(80);function At(){this.init(),this._w=vl,Aa.call(this,64,56)}wl(At,Aa);At.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Pl(e){return e<<1|e>>>31}function kl(e){return e<<5|e>>>27}function El(e){return e<<30|e>>>2}function Ol(e,r,s,n){return e===0?r&s|~r&n:e===2?r&s|r&n|s&n:r^s^n}At.prototype._update=function(e){for(var r=this._w,s=this._a|0,n=this._b|0,p=this._c|0,i=this._d|0,t=this._e|0,o=0;o<16;++o)r[o]=e.readInt32BE(o*4);for(;o<80;++o)r[o]=Pl(r[o-3]^r[o-8]^r[o-14]^r[o-16]);for(var y=0;y<80;++y){var c=~~(y/20),h=kl(s)+Ol(c,n,p,i)+t+r[y]+_l[c]|0;t=i,i=p,p=El(n),n=s,s=h}this._a=s+this._a|0,this._b=n+this._b|0,this._c=p+this._c|0,this._d=i+this._d|0,this._e=t+this._e|0};At.prototype._hash=function(){var e=bl.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var xl=At;const Tl=Qs(xl);function $l(e){let r="";for(const s of new Uint8Array(e))s<16&&(r+="0"),r+=s.toString(16);return r}let Bs=null;async function cn(e){return Bs===null&&(Bs=await Sl()),Bs?Sa(e):Al(e)}function Al(e){return new Tl().update(e).digest("hex")}async function Sa(e){const r=await crypto.subtle.digest("SHA-1",e);return $l(r)}async function Sl(){try{if(await Sa(new Uint8Array([]))==="da39a3ee5e6b4b0d3255bfef95601890afd80709")return!0}catch{}return!1}function Rl(e){const r=[];let s=0,n=0;do{s=e.readUInt8();const p=s&127;r.push(p),n=s&128}while(n);return r.reduce((p,i)=>p+1<<7|i,-1)}function Fl(e,r){let s=r,n=4,p=null;do p=e.readUInt8(),s|=(p&127)<<n,n+=7;while(p&128);return s}class Pt{constructor(r){Object.assign(this,r),this.offsetCache={}}static async fromIdx({idx:r,getExternalRefDelta:s}){const n=new Ar(r);if(n.slice(4).toString("hex")!=="ff744f63")return;const i=n.readUInt32BE();if(i!==2)throw new _e(`Unable to read version ${i} packfile IDX. (Only version 2 supported)`);if(r.byteLength>2048*1024*1024)throw new _e("To keep implementation simple, I haven't implemented the layer 5 feature needed to support packfiles > 2GB in size.");n.seek(n.tell()+4*255);const t=n.readUInt32BE(),o=[];for(let h=0;h<t;h++){const b=n.slice(20).toString("hex");o[h]=b}n.seek(n.tell()+4*t);const y=new Map;for(let h=0;h<t;h++)y.set(o[h],n.readUInt32BE());const c=n.slice(20).toString("hex");return new Pt({hashes:o,crcs:{},offsets:y,packfileSha:c,getExternalRefDelta:s})}static async fromPack({pack:r,getExternalRefDelta:s,onProgress:n}){const p={1:"commit",2:"tree",3:"blob",4:"tag",6:"ofs-delta",7:"ref-delta"},i={},t=r.slice(-20).toString("hex"),o=[],y={},c=new Map;let h=null,b=null;await sl([r],async({data:D,type:C,reference:M,offset:B,num:U})=>{h===null&&(h=U);const N=Math.floor((h-U)*100/h);N!==b&&n&&await n({phase:"Receiving objects",loaded:h-U,total:h}),b=N,C=p[C],["commit","tree","blob","tag"].includes(C)?i[B]={type:C,offset:B}:C==="ofs-delta"?i[B]={type:C,offset:B}:C==="ref-delta"&&(i[B]={type:C,offset:B})});const w=Object.keys(i).map(Number);for(const[D,C]of w.entries()){const M=D+1===w.length?r.byteLength-20:w[D+1],B=i[C],U=op.buf(r.slice(C,M))>>>0;B.end=M,B.crc=U}const _=new Pt({pack:Promise.resolve(r),packfileSha:t,crcs:y,hashes:o,offsets:c,getExternalRefDelta:s});b=null;let F=0;const k=[0,0,0,0,0,0,0,0,0,0,0,0];for(let D in i){D=Number(D);const C=Math.floor(F*100/h);C!==b&&n&&await n({phase:"Resolving deltas",loaded:F,total:h}),F++,b=C;const M=i[D];if(!M.oid)try{_.readDepth=0,_.externalReadDepth=0;const{type:B,object:U}=await _.readSlice({start:D});k[_.readDepth]+=1;const N=await cn(pp.wrap({type:B,object:U}));M.oid=N,o.push(N),c.set(N,D),y[N]=M.crc}catch{continue}}return o.sort(),_}async toBuffer(){const r=[],s=(c,h)=>{r.push(Buffer.from(c,h))};s("ff744f63","hex"),s("00000002","hex");const n=new Ar(Buffer.alloc(256*4));for(let c=0;c<256;c++){let h=0;for(const b of this.hashes)parseInt(b.slice(0,2),16)<=c&&h++;n.writeUInt32BE(h)}r.push(n.buffer);for(const c of this.hashes)s(c,"hex");const p=new Ar(Buffer.alloc(this.hashes.length*4));for(const c of this.hashes)p.writeUInt32BE(this.crcs[c]);r.push(p.buffer);const i=new Ar(Buffer.alloc(this.hashes.length*4));for(const c of this.hashes)i.writeUInt32BE(this.offsets.get(c));r.push(i.buffer),s(this.packfileSha,"hex");const t=Buffer.concat(r),o=await cn(t),y=Buffer.alloc(20);return y.write(o,"hex"),Buffer.concat([t,y])}async load({pack:r}){this.pack=r}async unload(){this.pack=null}async read({oid:r}){if(!this.offsets.get(r)){if(this.getExternalRefDelta)return this.externalReadDepth++,this.getExternalRefDelta(r);throw new _e(`Could not read object ${r} from packfile`)}const s=this.offsets.get(r);return this.readSlice({start:s})}async readSlice({start:r}){if(this.offsetCache[r])return Object.assign({},this.offsetCache[r]);this.readDepth++;const s={16:"commit",32:"tree",48:"blob",64:"tag",96:"ofs_delta",112:"ref_delta"};if(!this.pack)throw new _e("Tried to read from a GitPackIndex with no packfile loaded into memory");const n=(await this.pack).slice(r),p=new Ar(n),i=p.readUInt8(),t=i&112;let o=s[t];if(o===void 0)throw new _e("Unrecognized type: 0b"+t.toString(2));const y=i&15;let c=y;i&128&&(c=Fl(p,y));let b=null,w=null;if(o==="ofs_delta"){const F=Rl(p),k=r-F;({object:b,type:o}=await this.readSlice({start:k}))}if(o==="ref_delta"){const F=p.slice(20).toString("hex");({object:b,type:o}=await this.read({oid:F}))}const _=n.slice(p.tell());if(w=Buffer.from(await al(_)),w.byteLength!==c)throw new _e(`Packfile told us object would have length ${c} but it had length ${w.byteLength}`);return b&&(w=Buffer.from(fp(w,b))),this.readDepth>3&&(this.offsetCache[r]={type:o,object:w}),{type:o,format:"content",object:w}}}class kt extends tt{constructor(r){super(`Expected a 40-char hex object id but saw "${r}".`),this.code=this.name=kt.code,this.data={value:r}}}kt.code="InvalidOidError";class ds extends tt{constructor(r,s,n,p){super(`Object ${r} ${p?`at ${p}`:""}was anticipated to be a ${n} but it is a ${s}.`),this.code=this.name=ds.code,this.data={oid:r,actual:s,expected:n,filepath:p}}}ds.code="ObjectTypeError";async function Ra(e,r){const s=Bn(e);for(;;){const{value:n,done:p}=await s.next();if(n&&await r(n),p)break}s.return&&s.return()}async function Et(e){let r=0;const s=[];await Ra(e,i=>{s.push(i),r+=i.byteLength});const n=new Uint8Array(r);let p=0;for(const i of s)n.set(i,p),p+=i.byteLength;return n}class js{constructor(){this._queue=[]}write(r){if(this._ended)throw Error("You cannot write to a FIFO that has already been ended!");if(this._waiting){const s=this._waiting;this._waiting=null,s({value:r})}else this._queue.push(r)}end(){if(this._ended=!0,this._waiting){const r=this._waiting;this._waiting=null,r({done:!0})}}destroy(r){this.error=r,this.end()}async next(){if(this._queue.length>0)return{value:this._queue.shift()};if(this._ended)return{done:!0};if(this._waiting)throw Error("You cannot call read until the previous call to read has returned!");return new Promise(r=>{this._waiting=r})}}class Bl{static demux(r){const s=$e.streamReader(r),n=new js,p=new js,i=new js,t=async function(){const o=await s();if(o===null)return t();if(o===!0){n.end(),i.end(),r.error?p.destroy(r.error):p.end();return}switch(o[0]){case 1:{p.write(o.slice(1));break}case 2:{i.write(o.slice(1));break}case 3:{const y=o.slice(1);i.write(y),n.end(),i.end(),p.destroy(new Error(y.toString("utf8")));return}default:n.write(o)}t()};return t(),{packetlines:n,packfile:p,progress:i}}}async function Fa(e){const{packetlines:r,packfile:s,progress:n}=Bl.demux(e),p=[],i=[],t=[];let o=!1,y=!1;return new Promise((c,h)=>{Ra(r,b=>{const w=b.toString("utf8").trim();if(w.startsWith("shallow")){const _=w.slice(-41).trim();_.length!==40&&h(new kt(_)),p.push(_)}else if(w.startsWith("unshallow")){const _=w.slice(-41).trim();_.length!==40&&h(new kt(_)),i.push(_)}else if(w.startsWith("ACK")){const[,_,F]=w.split(" ");t.push({oid:_,status:F}),F||(y=!0)}else w.startsWith("NAK")?(o=!0,y=!0):(y=!0,o=!0);y&&(e.error?h(e.error):c({shallows:p,unshallows:i,acks:t,nak:o,packfile:s,progress:n}))}).finally(()=>{y||(e.error?h(e.error):c({shallows:p,unshallows:i,acks:t,nak:o,packfile:s,progress:n}))})})}typeof window<"u"&&(window.Buffer=gr.Buffer);async function jl(e,r,s){const p=(await ja(e,r))[r],i=await Ia(e,p),t=await Nl(i,p,s),o=await Cl(e,s.map(c=>t[c].oid)),y={};return await Promise.all(s.map(async c=>{y[c]=await La(o,t[c].oid)})),y}async function Il(e,r){const s=await ja(e,r);if(!(r in s))throw new Error(`Branch ${r} not found`);const n=s[r],p=await Ia(e,n),i=await Ll(p,n);return i?.object?Ba(i):[]}function Ba(e){return e.object.map(r=>{if(r.type==="blob")return{name:r.path,type:"file"};if(r.type==="tree"&&r.object)return{name:r.path,type:"folder",children:Ba(r)}}).filter(r=>!!r?.name)}async function ja(e,r){const s=gr.Buffer.from(await Et([$e.encode(`command=ls-refs
`),$e.encode(`agent=git/2.37.3
`),$e.encode(`object-format=sha1
`),$e.delim(),$e.encode(`peel
`),$e.encode(`ref-prefix ${r}
`),$e.flush()])),n=await fetch(e+"/git-upload-pack",{method:"POST",headers:{Accept:"application/x-git-upload-pack-advertisement","content-type":"application/x-git-upload-pack-request","Content-Length":`${s.length}`,"Git-Protocol":"version=2"},body:s}),p={};for await(const i of Dl(n)){const t=i.indexOf(" "),o=i.slice(0,t),y=i.slice(t+1,i.length-1);p[y]=o}return p}async function Ia(e,r){const s=gr.Buffer.from(await Et([$e.encode(`want ${r} multi_ack_detailed no-done side-band-64k thin-pack ofs-delta agent=git/2.37.3 filter 
`),$e.encode(`filter blob:none
`),$e.encode(`shallow ${r}
`),$e.encode(`deepen 1
`),$e.flush(),$e.encode(`done
`),$e.encode(`done
`)])),n=await fetch(e+"/git-upload-pack",{method:"POST",headers:{Accept:"application/x-git-upload-pack-advertisement","content-type":"application/x-git-upload-pack-request","Content-Length":`${s.length}`},body:s}),p=Na(n.body),i=await Fa(p),t=gr.Buffer.from(await Et(i.packfile)),o=await Pt.fromPack({pack:t}),y=o.read;return o.read=async function({oid:c,...h}){const b=await y.call(this,{oid:c,...h});return b.oid=c,b},o}async function Ll(e,r){const s=await e.read({oid:r});Br(s);const n=await e.read({oid:s.object.tree}),p=[n];for(;p.length>0;){const i=p.pop(),t=await e.read({oid:i.oid});if(Br(t),i.object=t.object,t.type==="tree")for(const o of t.object)o.type==="tree"&&p.push(o)}return n}async function Nl(e,r,s){const n=await e.read({oid:r});Br(n);const p=await e.read({oid:n.object.tree});Br(p);const i={};for(const t of s){let o=p;const y=t.split("/");for(const c of y){if(o.type!=="tree")throw new Error(`Path not found in the repo: ${t}`);let h=!1;for(const b of o.object)if(b.path===c){try{o=await e.read({oid:b.oid}),Br(o)}catch{o=b}h=!0;break}if(!h)throw new Error(`Path not found in the repo: ${t}`)}i[t]=o}return i}async function Cl(e,r){const s=gr.Buffer.from(await Et([...r.map(o=>$e.encode(`want ${o} multi_ack_detailed no-done side-band-64k thin-pack ofs-delta agent=git/2.37.3 
`)),$e.flush(),$e.encode(`done
`)])),n=await fetch(e+"/git-upload-pack",{method:"POST",headers:{Accept:"application/x-git-upload-pack-advertisement","content-type":"application/x-git-upload-pack-request","Content-Length":`${s.length}`},body:s}),p=Na(n.body),i=await Fa(p),t=gr.Buffer.from(await Et(i.packfile));return await Pt.fromPack({pack:t})}async function La(e,r){const s=await e.read({oid:r});if(Br(s),s.type==="blob")return s.object;const n={};for(const{path:p,oid:i,type:t}of s.object)if(t==="blob"){const o=await e.read({oid:i});Br(o),n[p]=o.object}else t==="tree"&&(n[p]=await La(e,i));return n}function Br(e){if(e.object instanceof gr.Buffer)switch(e.type){case"commit":e.object=qe.from(e.object).parse();break;case"tree":e.object=si.from(e.object).entries();break;case"blob":e.object=new Uint8Array(e.object),e.format="content";break;case"tag":e.object=lt.from(e.object).parse();break;default:throw new ds(e.oid,e.type,"blob|commit|tag|tree")}}async function*Dl(e){const r=await e.text();let s=0;for(;s<=r.length;){const n=parseInt(r.substring(s,s+4),16);if(n===0)break;yield r.substring(s+4,s+n),s+=n}}function Na(e){if(e[Symbol.asyncIterator])return e;const r=e.getReader();return{next(){return r.read()},return(){return r.releaseLock(),{}},[Symbol.asyncIterator](){return this}}}function ql(e,r){r=ts(r);const s=["",".","/"].includes(r);let n=e;if(s)r="";else{const t=r.split("/");for(const o of t){const y=n?.find(c=>c.name===o);if(y?.type==="folder")n=y.children;else return y?[y.name]:[]}}const p=[],i=[{tree:n,path:r}];for(;i.length>0;){const{tree:t,path:o}=i.pop();for(const y of t){const c=`${o}${o?"/":""}${y.name}`;y.type==="folder"?i.push({tree:y.children,path:c}):p.push(c)}}return p}const Ul=["vfs","literal","wordpress.org/themes","wordpress.org/plugins","url","git:directory"];function zl(e){return e&&typeof e=="object"&&typeof e.resource=="string"&&Ul.includes(e.resource)}class br{get progress(){return this._progress}set progress(r){this._progress=r}setPlayground(r){this.playground=r}get isAsync(){return!1}static create(r,{semaphore:s,progress:n,corsProxy:p}){let i;switch(r.resource){case"vfs":i=new Ml(r,n);break;case"literal":i=new Hl(r,n);break;case"wordpress.org/themes":i=new Yl(r,n);break;case"wordpress.org/plugins":i=new Kl(r,n);break;case"url":i=new Zl(r,n);break;case"git:directory":i=new Gl(r,n,{corsProxy:p});break;case"literal:directory":i=new Vl(r,n);break;default:throw new Error(`Invalid resource: ${r}`)}return i=new Xl(i),s&&(i=new Ql(i,s)),i}}class Ca extends br{constructor(r){super(),this.resource=r}get progress(){return this.resource.progress}set progress(r){this.resource.progress=r}get name(){return this.resource.name}get isAsync(){return this.resource.isAsync}setPlayground(r){this.resource.setPlayground(r)}}class Ml extends br{constructor(r,s){super(),this.resource=r,this._progress=s}async resolve(){const r=await this.playground.readFileAsBuffer(this.resource.path);return this.progress?.set(100),new File([r],this.name)}get name(){return this.resource.path.split("/").pop()||""}}class Hl extends br{constructor(r,s){super(),this.resource=r,this._progress=s}async resolve(){return this.progress?.set(100),new File([this.resource.contents],this.resource.name)}get name(){return this.resource.name}}class ci extends br{constructor(r){super(),this._progress=r}async resolve(){this.progress?.setCaption(this.caption);const r=this.getURL();try{let s=await fetch(r);if(!s.ok)throw new Error(`Could not download "${r}"`);if(s=await Zo(s,this.progress?.loadingListener??Wl),s.status!==200)throw new Error(`Could not download "${r}"`);return new File([await s.blob()],this.name)}catch(s){throw new Error(`Could not download "${r}".
				Check if the URL is correct and the server is reachable.
				If it is reachable, the server might be blocking the request.
				Check the browser console and network tabs for more information.

				## Does the console show the error "No 'Access-Control-Allow-Origin' header"?

				This means the server that hosts your file does not allow requests from other sites
				(cross-origin requests, or CORS).	You need to move the asset to a server that allows
				cross-origin file downloads. Learn more about CORS at
				https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS.

				If your file is on GitHub, load it from "raw.githubusercontent.com".
				Here's how to do that:

				1. Start with the original GitHub URL of the file. For example:
				https://github.com/username/repository/blob/branch/filename.
				2. Replace "github.com" with "raw.githubusercontent.com".
				3. Remove the "/blob/" part of the URL.

				The resulting URL should look like this:
				https://raw.githubusercontent.com/username/repository/branch/filename

				Error:
				${s}`)}}get caption(){return`Downloading ${this.name}`}get name(){try{return new URL(this.getURL(),"http://example.com").pathname.split("/").pop()}catch{return this.getURL()}}get isAsync(){return!0}}const Wl=()=>{};class Zl extends ci{constructor(r,s){if(super(s),this.resource=r,this.resource.url.startsWith("https://github.com/")){const n=this.resource.url.match(/^https:\/\/github\.com\/(?<owner>[^/]+)\/(?<repo>[^/]+)\/blob\/(?<branch>[^/]+)\/(?<path>.+[^/])$/);n?.groups&&(this.resource={...this.resource,url:`https://raw.githubusercontent.com/${n.groups.owner}/${n.groups.repo}/${n.groups.branch}/${n.groups.path}`})}}getURL(){return this.resource.url}get caption(){return this.resource.caption??super.caption}}class Gl extends br{constructor(r,s,n){super(),this.reference=r,this._progress=s,this.options=n}async resolve(){const r=this.options?.corsProxy?`${this.options.corsProxy}?${this.reference.url}`:this.reference.url,s=["","HEAD"].includes(this.reference.ref)?"HEAD":`refs/heads/${this.reference.ref}`,n=await Il(r,s),p=this.reference.path.replace(/^\/+/,""),i=ql(n,p);let t=await jl(r,s,i);return t=Object.fromEntries(Object.entries(t).map(([o,y])=>(o=o.substring(this.reference.path.length),o=o.replace(/^\/+/,""),[o,y]))),{name:mt(this.reference.path)||this.reference.url.replaceAll(/[^a-zA-Z0-9-.]/g,"-").replaceAll(/-+/g,"-"),files:t}}get name(){return this.reference.path.split("/").pop()}}class Vl extends br{constructor(r,s){super(),this.reference=r,this._progress=s}async resolve(){return this.reference}get name(){return this.reference.name}}class Yl extends ci{constructor(r,s){super(s),this.resource=r}get name(){return ns(this.resource.slug)}getURL(){return`https://downloads.wordpress.org/theme/${Da(this.resource.slug)}`}}class Kl extends ci{constructor(r,s){super(s),this.resource=r}get name(){return ns(this.resource.slug)}getURL(){return`https://downloads.wordpress.org/plugin/${Da(this.resource.slug)}`}}function Da(e){return!e||e.endsWith(".zip")?e:e+".latest-stable.zip"}class Xl extends Ca{async resolve(){return this.promise||(this.promise=this.resource.resolve()),this.promise}}class Ql extends Ca{constructor(r,s){super(r),this.semaphore=s}async resolve(){return this.isAsync?this.semaphore.run(()=>this.resource.resolve()):this.resource.resolve()}}const Jl={type:"object",properties:{landingPage:{type:"string",description:"The URL to navigate to after the blueprint has been run."},description:{type:"string",description:"Optional description. It doesn't do anything but is exposed as a courtesy to developers who may want to document which blueprint file does what.",deprecated:"Use meta.description instead."},meta:{type:"object",properties:{title:{type:"string",description:"A clear and concise name for your Blueprint."},description:{type:"string",description:"A brief explanation of what your Blueprint offers."},author:{type:"string",description:"A GitHub username of the author of this Blueprint."},categories:{type:"array",items:{type:"string"},description:"Relevant categories to help users find your Blueprint in the future Blueprints section on WordPress.org."}},required:["title","author"],additionalProperties:!1,description:"Optional metadata. Used by the Blueprints gallery at https://github.com/WordPress/blueprints"},preferredVersions:{type:"object",properties:{php:{anyOf:[{$ref:"#/definitions/SupportedPHPVersion"},{type:"string",const:"latest"}],description:"The preferred PHP version to use. If not specified, the latest supported version will be used"},wp:{type:"string",description:"The preferred WordPress version to use. If not specified, the latest supported version will be used"}},required:["php","wp"],additionalProperties:!1,description:"The preferred PHP and WordPress versions to use."},features:{type:"object",properties:{networking:{type:"boolean",description:"Should boot with support for network request via wp_safe_remote_get?"}},additionalProperties:!1},extraLibraries:{type:"array",items:{$ref:"#/definitions/ExtraLibrary"},description:"Extra libraries to preload into the Playground instance."},constants:{$ref:"#/definitions/PHPConstants",description:"PHP Constants to define on every request"},plugins:{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/definitions/FileReference"}]},description:"WordPress plugins to install and activate"},siteOptions:{type:"object",additionalProperties:{type:"string"},properties:{blogname:{type:"string",description:"The site title"}},description:"WordPress site options to define"},login:{anyOf:[{type:"boolean"},{type:"object",properties:{username:{type:"string"},password:{type:"string"}},required:["username","password"],additionalProperties:!1}],description:"User to log in as. If true, logs the user in as admin/password."},phpExtensionBundles:{deprecated:"No longer used. Feel free to remove it from your Blueprint."},steps:{type:"array",items:{anyOf:[{$ref:"#/definitions/StepDefinition"},{type:"string"},{not:{}},{type:"boolean",const:!1},{type:"null"}]},description:"The steps to run after every other operation in this Blueprint was executed."},$schema:{type:"string"}},additionalProperties:!1},eu={type:"string",enum:["8.3","8.2","8.1","8.0","7.4","7.3","7.2","7.1","7.0"]},ru={type:"object",additionalProperties:{type:["string","boolean","number"]}},qa=Object.prototype.hasOwnProperty;function le(e,{instancePath:r="",parentData:s,parentDataProperty:n,rootData:p=e}={}){let i=null,t=0;const o=t;let y=!1;const c=t;if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let U;if(e.resource===void 0&&(U="resource")||e.path===void 0&&(U="path")){const N={instancePath:r,schemaPath:"#/definitions/VFSReference/required",keyword:"required",params:{missingProperty:U},message:"must have required property '"+U+"'"};i===null?i=[N]:i.push(N),t++}else{const N=t;for(const A in e)if(!(A==="resource"||A==="path")){const q={instancePath:r,schemaPath:"#/definitions/VFSReference/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:A},message:"must NOT have additional properties"};i===null?i=[q]:i.push(q),t++;break}if(N===t){if(e.resource!==void 0){let A=e.resource;const q=t;if(typeof A!="string"){const $={instancePath:r+"/resource",schemaPath:"#/definitions/VFSReference/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[$]:i.push($),t++}if(A!=="vfs"){const $={instancePath:r+"/resource",schemaPath:"#/definitions/VFSReference/properties/resource/const",keyword:"const",params:{allowedValue:"vfs"},message:"must be equal to constant"};i===null?i=[$]:i.push($),t++}var b=q===t}else var b=!0;if(b)if(e.path!==void 0){const A=t;if(typeof e.path!="string"){const $={instancePath:r+"/path",schemaPath:"#/definitions/VFSReference/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[$]:i.push($),t++}var b=A===t}else var b=!0}}}else{const U={instancePath:r,schemaPath:"#/definitions/VFSReference/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[U]:i.push(U),t++}var w=c===t;if(y=y||w,!y){const U=t;if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let q;if(e.resource===void 0&&(q="resource")||e.name===void 0&&(q="name")||e.contents===void 0&&(q="contents")){const $={instancePath:r,schemaPath:"#/definitions/LiteralReference/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"};i===null?i=[$]:i.push($),t++}else{const $=t;for(const T in e)if(!(T==="resource"||T==="name"||T==="contents")){const E={instancePath:r,schemaPath:"#/definitions/LiteralReference/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:T},message:"must NOT have additional properties"};i===null?i=[E]:i.push(E),t++;break}if($===t){if(e.resource!==void 0){let T=e.resource;const E=t;if(typeof T!="string"){const O={instancePath:r+"/resource",schemaPath:"#/definitions/LiteralReference/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[O]:i.push(O),t++}if(T!=="literal"){const O={instancePath:r+"/resource",schemaPath:"#/definitions/LiteralReference/properties/resource/const",keyword:"const",params:{allowedValue:"literal"},message:"must be equal to constant"};i===null?i=[O]:i.push(O),t++}var _=E===t}else var _=!0;if(_){if(e.name!==void 0){const T=t;if(typeof e.name!="string"){const O={instancePath:r+"/name",schemaPath:"#/definitions/LiteralReference/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[O]:i.push(O),t++}var _=T===t}else var _=!0;if(_)if(e.contents!==void 0){let T=e.contents;const E=t,O=t;let L=!1;const I=t;if(typeof T!="string"){const Y={instancePath:r+"/contents",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[Y]:i.push(Y),t++}var F=I===t;if(L=L||F,!L){const Y=t;if(t===Y)if(T&&typeof T=="object"&&!Array.isArray(T)){let W;if(T.BYTES_PER_ELEMENT===void 0&&(W="BYTES_PER_ELEMENT")||T.buffer===void 0&&(W="buffer")||T.byteLength===void 0&&(W="byteLength")||T.byteOffset===void 0&&(W="byteOffset")||T.length===void 0&&(W="length")){const K={instancePath:r+"/contents",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/required",keyword:"required",params:{missingProperty:W},message:"must have required property '"+W+"'"};i===null?i=[K]:i.push(K),t++}else{const K=t;for(const G in T)if(!(G==="BYTES_PER_ELEMENT"||G==="buffer"||G==="byteLength"||G==="byteOffset"||G==="length")){let se=T[G];const ee=t;if(!(typeof se=="number"&&isFinite(se))){const X={instancePath:r+"/contents/"+G.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/additionalProperties/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[X]:i.push(X),t++}var k=ee===t;if(!k)break}if(K===t){if(T.BYTES_PER_ELEMENT!==void 0){let G=T.BYTES_PER_ELEMENT;const se=t;if(!(typeof G=="number"&&isFinite(G))){const ee={instancePath:r+"/contents/BYTES_PER_ELEMENT",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/BYTES_PER_ELEMENT/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[ee]:i.push(ee),t++}var D=se===t}else var D=!0;if(D){if(T.buffer!==void 0){let G=T.buffer;const se=t;if(t===se)if(G&&typeof G=="object"&&!Array.isArray(G)){let X;if(G.byteLength===void 0&&(X="byteLength")){const Q={instancePath:r+"/contents/buffer",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/buffer/required",keyword:"required",params:{missingProperty:X},message:"must have required property '"+X+"'"};i===null?i=[Q]:i.push(Q),t++}else{const Q=t;for(const re in G)if(re!=="byteLength"){const ne={instancePath:r+"/contents/buffer",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/buffer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:re},message:"must NOT have additional properties"};i===null?i=[ne]:i.push(ne),t++;break}if(Q===t&&G.byteLength!==void 0){let re=G.byteLength;if(!(typeof re=="number"&&isFinite(re))){const ne={instancePath:r+"/contents/buffer/byteLength",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/buffer/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[ne]:i.push(ne),t++}}}}else{const X={instancePath:r+"/contents/buffer",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/buffer/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[X]:i.push(X),t++}var D=se===t}else var D=!0;if(D){if(T.byteLength!==void 0){let G=T.byteLength;const se=t;if(!(typeof G=="number"&&isFinite(G))){const X={instancePath:r+"/contents/byteLength",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[X]:i.push(X),t++}var D=se===t}else var D=!0;if(D){if(T.byteOffset!==void 0){let G=T.byteOffset;const se=t;if(!(typeof G=="number"&&isFinite(G))){const X={instancePath:r+"/contents/byteOffset",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/byteOffset/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[X]:i.push(X),t++}var D=se===t}else var D=!0;if(D)if(T.length!==void 0){let G=T.length;const se=t;if(!(typeof G=="number"&&isFinite(G))){const X={instancePath:r+"/contents/length",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/length/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[X]:i.push(X),t++}var D=se===t}else var D=!0}}}}}}else{const W={instancePath:r+"/contents",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[W]:i.push(W),t++}var F=Y===t;L=L||F}if(L)t=O,i!==null&&(O?i.length=O:i=null);else{const Y={instancePath:r+"/contents",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};i===null?i=[Y]:i.push(Y),t++}var _=E===t}else var _=!0}}}}else{const q={instancePath:r,schemaPath:"#/definitions/LiteralReference/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[q]:i.push(q),t++}var w=U===t;if(y=y||w,!y){const q=t;if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let E;if(e.resource===void 0&&(E="resource")||e.slug===void 0&&(E="slug")){const O={instancePath:r,schemaPath:"#/definitions/CoreThemeReference/required",keyword:"required",params:{missingProperty:E},message:"must have required property '"+E+"'"};i===null?i=[O]:i.push(O),t++}else{const O=t;for(const L in e)if(!(L==="resource"||L==="slug")){const I={instancePath:r,schemaPath:"#/definitions/CoreThemeReference/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:L},message:"must NOT have additional properties"};i===null?i=[I]:i.push(I),t++;break}if(O===t){if(e.resource!==void 0){let L=e.resource;const I=t;if(typeof L!="string"){const R={instancePath:r+"/resource",schemaPath:"#/definitions/CoreThemeReference/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[R]:i.push(R),t++}if(L!=="wordpress.org/themes"){const R={instancePath:r+"/resource",schemaPath:"#/definitions/CoreThemeReference/properties/resource/const",keyword:"const",params:{allowedValue:"wordpress.org/themes"},message:"must be equal to constant"};i===null?i=[R]:i.push(R),t++}var C=I===t}else var C=!0;if(C)if(e.slug!==void 0){const L=t;if(typeof e.slug!="string"){const R={instancePath:r+"/slug",schemaPath:"#/definitions/CoreThemeReference/properties/slug/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[R]:i.push(R),t++}var C=L===t}else var C=!0}}}else{const E={instancePath:r,schemaPath:"#/definitions/CoreThemeReference/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[E]:i.push(E),t++}var w=q===t;if(y=y||w,!y){const E=t;if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let I;if(e.resource===void 0&&(I="resource")||e.slug===void 0&&(I="slug")){const R={instancePath:r,schemaPath:"#/definitions/CorePluginReference/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"};i===null?i=[R]:i.push(R),t++}else{const R=t;for(const Y in e)if(!(Y==="resource"||Y==="slug")){const Z={instancePath:r,schemaPath:"#/definitions/CorePluginReference/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Y},message:"must NOT have additional properties"};i===null?i=[Z]:i.push(Z),t++;break}if(R===t){if(e.resource!==void 0){let Y=e.resource;const Z=t;if(typeof Y!="string"){const W={instancePath:r+"/resource",schemaPath:"#/definitions/CorePluginReference/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[W]:i.push(W),t++}if(Y!=="wordpress.org/plugins"){const W={instancePath:r+"/resource",schemaPath:"#/definitions/CorePluginReference/properties/resource/const",keyword:"const",params:{allowedValue:"wordpress.org/plugins"},message:"must be equal to constant"};i===null?i=[W]:i.push(W),t++}var M=Z===t}else var M=!0;if(M)if(e.slug!==void 0){const Y=t;if(typeof e.slug!="string"){const W={instancePath:r+"/slug",schemaPath:"#/definitions/CorePluginReference/properties/slug/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[W]:i.push(W),t++}var M=Y===t}else var M=!0}}}else{const I={instancePath:r,schemaPath:"#/definitions/CorePluginReference/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[I]:i.push(I),t++}var w=E===t;if(y=y||w,!y){const I=t;if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let Z;if(e.resource===void 0&&(Z="resource")||e.url===void 0&&(Z="url")){const W={instancePath:r,schemaPath:"#/definitions/UrlReference/required",keyword:"required",params:{missingProperty:Z},message:"must have required property '"+Z+"'"};i===null?i=[W]:i.push(W),t++}else{const W=t;for(const K in e)if(!(K==="resource"||K==="url"||K==="caption")){const G={instancePath:r,schemaPath:"#/definitions/UrlReference/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties"};i===null?i=[G]:i.push(G),t++;break}if(W===t){if(e.resource!==void 0){let K=e.resource;const G=t;if(typeof K!="string"){const se={instancePath:r+"/resource",schemaPath:"#/definitions/UrlReference/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[se]:i.push(se),t++}if(K!=="url"){const se={instancePath:r+"/resource",schemaPath:"#/definitions/UrlReference/properties/resource/const",keyword:"const",params:{allowedValue:"url"},message:"must be equal to constant"};i===null?i=[se]:i.push(se),t++}var B=G===t}else var B=!0;if(B){if(e.url!==void 0){const K=t;if(typeof e.url!="string"){const se={instancePath:r+"/url",schemaPath:"#/definitions/UrlReference/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[se]:i.push(se),t++}var B=K===t}else var B=!0;if(B)if(e.caption!==void 0){const K=t;if(typeof e.caption!="string"){const se={instancePath:r+"/caption",schemaPath:"#/definitions/UrlReference/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[se]:i.push(se),t++}var B=K===t}else var B=!0}}}}else{const Z={instancePath:r,schemaPath:"#/definitions/UrlReference/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[Z]:i.push(Z),t++}var w=I===t;y=y||w}}}}if(y)t=o,i!==null&&(o?i.length=o:i=null);else{const U={instancePath:r,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[U]:i.push(U),t++,le.errors=i,!1}return le.errors=i,t===0}const Is={type:"object",discriminator:{propertyName:"step"},required:["step"],oneOf:[{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"activatePlugin"},pluginPath:{type:"string",description:"Path to the plugin directory as absolute path (/wordpress/wp-content/plugins/plugin-name); or the plugin entry file relative to the plugins directory (plugin-name/plugin-name.php)."},pluginName:{type:"string",description:"Optional. Plugin name to display in the progress bar."}},required:["pluginPath","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"activateTheme"},themeFolderName:{type:"string",description:"The name of the theme folder inside wp-content/themes/"}},required:["step","themeFolderName"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"cp"},fromPath:{type:"string",description:"Source path"},toPath:{type:"string",description:"Target path"}},required:["fromPath","step","toPath"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"defineWpConfigConsts"},consts:{type:"object",additionalProperties:{},description:"The constants to define"},method:{type:"string",enum:["rewrite-wp-config","define-before-run"],description:`The method of defining the constants in wp-config.php. Possible values are:

- rewrite-wp-config: Default. Rewrites the wp-config.php file to                      explicitly call define() with the requested                      name and value. This method alters the file                      on the disk, but it doesn't conflict with                      existing define() calls in wp-config.php.

- define-before-run: Defines the constant before running the requested                      script. It doesn't alter any files on the disk, but                      constants defined this way may conflict with existing                      define() calls in wp-config.php.`},virtualize:{type:"boolean",deprecated:`This option is noop and will be removed in a future version.
This option is only kept in here to avoid breaking Blueprint schema validation
for existing apps using this option.`}},required:["consts","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"defineSiteUrl"},siteUrl:{type:"string",description:"The URL"}},required:["siteUrl","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"enableMultisite"},wpCliPath:{type:"string",description:"wp-cli.phar path"}},required:["step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"importWxr"},file:{$ref:"#/definitions/FileReference",description:"The file to import"}},required:["file","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"importThemeStarterContent",description:"The step identifier."},themeSlug:{type:"string",description:"The name of the theme to import content from."}},required:["step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"importWordPressFiles"},wordPressFilesZip:{$ref:"#/definitions/FileReference",description:"The zip file containing the top-level WordPress files and directories."},pathInZip:{type:"string",description:"The path inside the zip file where the WordPress files are."}},required:["step","wordPressFilesZip"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},ifAlreadyInstalled:{type:"string",enum:["overwrite","skip","error"],description:"What to do if the asset already exists."},step:{type:"string",const:"installPlugin",description:"The step identifier."},pluginData:{anyOf:[{$ref:"#/definitions/FileReference"},{$ref:"#/definitions/DirectoryReference"}],description:"The plugin files to install. It can be either a plugin zip file, or a directory containing all the plugin files at its root."},pluginZipFile:{$ref:"#/definitions/FileReference",deprecated:". Use `pluginData` instead."},options:{$ref:"#/definitions/InstallPluginOptions",description:"Optional installation options."}},required:["pluginData","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},ifAlreadyInstalled:{type:"string",enum:["overwrite","skip","error"],description:"What to do if the asset already exists."},step:{type:"string",const:"installTheme",description:"The step identifier."},themeData:{anyOf:[{$ref:"#/definitions/FileReference"},{$ref:"#/definitions/DirectoryReference"}],description:"The theme files to install. It can be either a theme zip file, or a directory containing all the theme files at its root."},themeZipFile:{$ref:"#/definitions/FileReference",deprecated:". Use `themeData` instead."},options:{$ref:"#/definitions/InstallThemeOptions",description:"Optional installation options."}},required:["step","themeData"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"login"},username:{type:"string",description:"The user to log in as. Defaults to 'admin'."},password:{type:"string",deprecated:`The password field is deprecated and will be removed in a future version.
Only the username field is required for user authentication.`}},required:["step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"mkdir"},path:{type:"string",description:"The path of the directory you want to create"}},required:["path","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"mv"},fromPath:{type:"string",description:"Source path"},toPath:{type:"string",description:"Target path"}},required:["fromPath","step","toPath"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"resetData"}},required:["step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"request"},request:{$ref:"#/definitions/PHPRequest",description:"Request details (See /wordpress-playground/api/universal/interface/PHPRequest)"}},required:["request","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"rm"},path:{type:"string",description:"The path to remove"}},required:["path","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"rmdir"},path:{type:"string",description:"The path to remove"}},required:["path","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"runPHP",description:"The step identifier."},code:{type:"string",description:"The PHP code to run."}},required:["code","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"runPHPWithOptions"},options:{$ref:"#/definitions/PHPRunOptions",description:"Run options (See /wordpress-playground/api/universal/interface/PHPRunOptions/))"}},required:["options","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"runWpInstallationWizard"},options:{$ref:"#/definitions/WordPressInstallationOptions"}},required:["options","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"runSql",description:"The step identifier."},sql:{$ref:"#/definitions/FileReference",description:"The SQL to run. Each non-empty line must contain a valid SQL query."}},required:["sql","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"setSiteOptions",description:'The name of the step. Must be "setSiteOptions".'},options:{type:"object",additionalProperties:{},description:"The options to set on the site."}},required:["options","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"unzip"},zipFile:{$ref:"#/definitions/FileReference",description:"The zip file to extract"},zipPath:{type:"string",description:"The path of the zip file to extract",deprecated:"Use zipFile instead."},extractToPath:{type:"string",description:"The path to extract the zip file to"}},required:["extractToPath","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"updateUserMeta"},meta:{type:"object",additionalProperties:{},description:'An object of user meta values to set, e.g. { "first_name": "John" }'},userId:{type:"number",description:"User ID"}},required:["meta","step","userId"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"writeFile"},path:{type:"string",description:"The path of the file to write to"},data:{anyOf:[{$ref:"#/definitions/FileReference"},{type:"string"},{type:"object",properties:{BYTES_PER_ELEMENT:{type:"number"},buffer:{type:"object",properties:{byteLength:{type:"number"}},required:["byteLength"],additionalProperties:!1},byteLength:{type:"number"},byteOffset:{type:"number"},length:{type:"number"}},required:["BYTES_PER_ELEMENT","buffer","byteLength","byteOffset","length"],additionalProperties:{type:"number"}}],description:"The data to write"}},required:["data","path","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"writeFiles"},writeToPath:{type:"string",description:"The path of the file to write to"},filesTree:{$ref:"#/definitions/DirectoryReference",description:"The data to write"}},required:["filesTree","step","writeToPath"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"wp-cli",description:"The step identifier."},command:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"The WP CLI command to run."},wpCliPath:{type:"string",description:"wp-cli.phar path"}},required:["command","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"setSiteLanguage"},language:{type:"string",description:"The language to set, e.g. 'en_US'"}},required:["language","step"]}]},tu={type:"object",additionalProperties:{anyOf:[{$ref:"#/definitions/FileTree"},{type:["object","string"]}]},properties:{}},Ls={validate:jr};function jr(e,{instancePath:r="",parentData:s,parentDataProperty:n,rootData:p=e}={}){let i=null,t=0;if(t===0)if(e&&typeof e=="object"&&!Array.isArray(e))for(const c in e){let h=e[c];const b=t,w=t;let _=!1;const F=t;Ls.validate(h,{instancePath:r+"/"+c.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:e,parentDataProperty:c,rootData:p})||(i=i===null?Ls.validate.errors:i.concat(Ls.validate.errors),t=i.length);var o=F===t;if(_=_||o,!_){const k=t;if(!(h&&typeof h=="object"&&!Array.isArray(h))&&typeof h!="string"){const C={instancePath:r+"/"+c.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/additionalProperties/anyOf/1/type",keyword:"type",params:{type:tu.additionalProperties.anyOf[1].type},message:"must be object,string"};i===null?i=[C]:i.push(C),t++}var o=k===t;_=_||o}if(_)t=w,i!==null&&(w?i.length=w:i=null);else{const k={instancePath:r+"/"+c.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[k]:i.push(k),t++,jr.errors=i,!1}var y=b===t;if(!y)break}else return jr.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return jr.errors=i,t===0}function or(e,{instancePath:r="",parentData:s,parentDataProperty:n,rootData:p=e}={}){let i=null,t=0;if(t===0)if(e&&typeof e=="object"&&!Array.isArray(e)){let y;if(e.files===void 0&&(y="files")||e.name===void 0&&(y="name")||e.resource===void 0&&(y="resource"))return or.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:y},message:"must have required property '"+y+"'"}],!1;{const c=t;for(const h in e)if(!(h==="resource"||h==="files"||h==="name"))return or.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:h},message:"must NOT have additional properties"}],!1;if(c===t){if(e.resource!==void 0){let h=e.resource;const b=t;if(typeof h!="string")return or.errors=[{instancePath:r+"/resource",schemaPath:"#/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(h!=="literal:directory")return or.errors=[{instancePath:r+"/resource",schemaPath:"#/properties/resource/const",keyword:"const",params:{allowedValue:"literal:directory"},message:"must be equal to constant"}],!1;var o=b===t}else var o=!0;if(o){if(e.files!==void 0){const h=t;jr(e.files,{instancePath:r+"/files",parentData:e,parentDataProperty:"files",rootData:p})||(i=i===null?jr.errors:i.concat(jr.errors),t=i.length);var o=h===t}else var o=!0;if(o)if(e.name!==void 0){const h=t;if(typeof e.name!="string")return or.errors=[{instancePath:r+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=h===t}else var o=!0}}}}else return or.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return or.errors=i,t===0}function Je(e,{instancePath:r="",parentData:s,parentDataProperty:n,rootData:p=e}={}){let i=null,t=0;const o=t;let y=!1;const c=t;if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let _;if(e.resource===void 0&&(_="resource")||e.url===void 0&&(_="url")||e.ref===void 0&&(_="ref")||e.path===void 0&&(_="path")){const F={instancePath:r,schemaPath:"#/definitions/GitDirectoryReference/required",keyword:"required",params:{missingProperty:_},message:"must have required property '"+_+"'"};i===null?i=[F]:i.push(F),t++}else{const F=t;for(const k in e)if(!(k==="resource"||k==="url"||k==="ref"||k==="path")){const D={instancePath:r,schemaPath:"#/definitions/GitDirectoryReference/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties"};i===null?i=[D]:i.push(D),t++;break}if(F===t){if(e.resource!==void 0){let k=e.resource;const D=t;if(typeof k!="string"){const C={instancePath:r+"/resource",schemaPath:"#/definitions/GitDirectoryReference/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[C]:i.push(C),t++}if(k!=="git:directory"){const C={instancePath:r+"/resource",schemaPath:"#/definitions/GitDirectoryReference/properties/resource/const",keyword:"const",params:{allowedValue:"git:directory"},message:"must be equal to constant"};i===null?i=[C]:i.push(C),t++}var b=D===t}else var b=!0;if(b){if(e.url!==void 0){const k=t;if(typeof e.url!="string"){const C={instancePath:r+"/url",schemaPath:"#/definitions/GitDirectoryReference/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[C]:i.push(C),t++}var b=k===t}else var b=!0;if(b){if(e.ref!==void 0){const k=t;if(typeof e.ref!="string"){const C={instancePath:r+"/ref",schemaPath:"#/definitions/GitDirectoryReference/properties/ref/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[C]:i.push(C),t++}var b=k===t}else var b=!0;if(b)if(e.path!==void 0){const k=t;if(typeof e.path!="string"){const C={instancePath:r+"/path",schemaPath:"#/definitions/GitDirectoryReference/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[C]:i.push(C),t++}var b=k===t}else var b=!0}}}}}else{const _={instancePath:r,schemaPath:"#/definitions/GitDirectoryReference/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[_]:i.push(_),t++}var w=c===t;if(y=y||w,!y){const _=t;or(e,{instancePath:r,parentData:s,parentDataProperty:n,rootData:p})||(i=i===null?or.errors:i.concat(or.errors),t=i.length);var w=_===t;y=y||w}if(y)t=o,i!==null&&(o?i.length=o:i=null);else{const _={instancePath:r,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[_]:i.push(_),t++,Je.errors=i,!1}return Je.errors=i,t===0}const Ua={type:"string",enum:["GET","POST","HEAD","OPTIONS","PATCH","PUT","DELETE"]};function Ue(e,{instancePath:r="",parentData:s,parentDataProperty:n,rootData:p=e}={}){let i=null,t=0;if(t===0)if(e&&typeof e=="object"&&!Array.isArray(e)){let C;if(e.url===void 0&&(C="url"))return Ue.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"}],!1;{const M=t;for(const B in e)if(!(B==="method"||B==="url"||B==="headers"||B==="body"))return Ue.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"}],!1;if(M===t){if(e.method!==void 0){let B=e.method;const U=t;if(typeof B!="string")return Ue.errors=[{instancePath:r+"/method",schemaPath:"#/definitions/HTTPMethod/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(B==="GET"||B==="POST"||B==="HEAD"||B==="OPTIONS"||B==="PATCH"||B==="PUT"||B==="DELETE"))return Ue.errors=[{instancePath:r+"/method",schemaPath:"#/definitions/HTTPMethod/enum",keyword:"enum",params:{allowedValues:Ua.enum},message:"must be equal to one of the allowed values"}],!1;var o=U===t}else var o=!0;if(o){if(e.url!==void 0){const B=t;if(typeof e.url!="string")return Ue.errors=[{instancePath:r+"/url",schemaPath:"#/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=B===t}else var o=!0;if(o){if(e.headers!==void 0){let B=e.headers;const U=t;if(t===t)if(B&&typeof B=="object"&&!Array.isArray(B))for(const q in B){const $=t;if(typeof B[q]!="string")return Ue.errors=[{instancePath:r+"/headers/"+q.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/PHPRequestHeaders/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var y=$===t;if(!y)break}else return Ue.errors=[{instancePath:r+"/headers",schemaPath:"#/definitions/PHPRequestHeaders/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var o=U===t}else var o=!0;if(o)if(e.body!==void 0){let B=e.body;const U=t,N=t;let A=!1;const q=t;if(typeof B!="string"){const T={instancePath:r+"/body",schemaPath:"#/properties/body/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[T]:i.push(T),t++}var c=q===t;if(A=A||c,!A){const T=t;if(t===T)if(B&&typeof B=="object"&&!Array.isArray(B)){let O;if(B.BYTES_PER_ELEMENT===void 0&&(O="BYTES_PER_ELEMENT")||B.buffer===void 0&&(O="buffer")||B.byteLength===void 0&&(O="byteLength")||B.byteOffset===void 0&&(O="byteOffset")||B.length===void 0&&(O="length")){const L={instancePath:r+"/body",schemaPath:"#/properties/body/anyOf/1/required",keyword:"required",params:{missingProperty:O},message:"must have required property '"+O+"'"};i===null?i=[L]:i.push(L),t++}else{const L=t;for(const I in B)if(!(I==="BYTES_PER_ELEMENT"||I==="buffer"||I==="byteLength"||I==="byteOffset"||I==="length")){let R=B[I];const Y=t;if(!(typeof R=="number"&&isFinite(R))){const Z={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/1/additionalProperties/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[Z]:i.push(Z),t++}var h=Y===t;if(!h)break}if(L===t){if(B.BYTES_PER_ELEMENT!==void 0){let I=B.BYTES_PER_ELEMENT;const R=t;if(!(typeof I=="number"&&isFinite(I))){const Y={instancePath:r+"/body/BYTES_PER_ELEMENT",schemaPath:"#/properties/body/anyOf/1/properties/BYTES_PER_ELEMENT/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[Y]:i.push(Y),t++}var b=R===t}else var b=!0;if(b){if(B.buffer!==void 0){let I=B.buffer;const R=t;if(t===R)if(I&&typeof I=="object"&&!Array.isArray(I)){let Z;if(I.byteLength===void 0&&(Z="byteLength")){const W={instancePath:r+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/required",keyword:"required",params:{missingProperty:Z},message:"must have required property '"+Z+"'"};i===null?i=[W]:i.push(W),t++}else{const W=t;for(const K in I)if(K!=="byteLength"){const G={instancePath:r+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties"};i===null?i=[G]:i.push(G),t++;break}if(W===t&&I.byteLength!==void 0){let K=I.byteLength;if(!(typeof K=="number"&&isFinite(K))){const G={instancePath:r+"/body/buffer/byteLength",schemaPath:"#/properties/body/anyOf/1/properties/buffer/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[G]:i.push(G),t++}}}}else{const Z={instancePath:r+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[Z]:i.push(Z),t++}var b=R===t}else var b=!0;if(b){if(B.byteLength!==void 0){let I=B.byteLength;const R=t;if(!(typeof I=="number"&&isFinite(I))){const Z={instancePath:r+"/body/byteLength",schemaPath:"#/properties/body/anyOf/1/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[Z]:i.push(Z),t++}var b=R===t}else var b=!0;if(b){if(B.byteOffset!==void 0){let I=B.byteOffset;const R=t;if(!(typeof I=="number"&&isFinite(I))){const Z={instancePath:r+"/body/byteOffset",schemaPath:"#/properties/body/anyOf/1/properties/byteOffset/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[Z]:i.push(Z),t++}var b=R===t}else var b=!0;if(b)if(B.length!==void 0){let I=B.length;const R=t;if(!(typeof I=="number"&&isFinite(I))){const Z={instancePath:r+"/body/length",schemaPath:"#/properties/body/anyOf/1/properties/length/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[Z]:i.push(Z),t++}var b=R===t}else var b=!0}}}}}}else{const O={instancePath:r+"/body",schemaPath:"#/properties/body/anyOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[O]:i.push(O),t++}var c=T===t;if(A=A||c,!A){const O=t;if(t===O)if(B&&typeof B=="object"&&!Array.isArray(B))for(const I in B){let R=B[I];const Y=t,Z=t;let W=!1;const K=t;if(typeof R!="string"){const G={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[G]:i.push(G),t++}var w=K===t;if(W=W||w,!W){const G=t;if(t===G)if(R&&typeof R=="object"&&!Array.isArray(R)){let ee;if(R.BYTES_PER_ELEMENT===void 0&&(ee="BYTES_PER_ELEMENT")||R.buffer===void 0&&(ee="buffer")||R.byteLength===void 0&&(ee="byteLength")||R.byteOffset===void 0&&(ee="byteOffset")||R.length===void 0&&(ee="length")){const X={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/required",keyword:"required",params:{missingProperty:ee},message:"must have required property '"+ee+"'"};i===null?i=[X]:i.push(X),t++}else{const X=t;for(const Q in R)if(!(Q==="BYTES_PER_ELEMENT"||Q==="buffer"||Q==="byteLength"||Q==="byteOffset"||Q==="length")){let re=R[Q];const ne=t;if(!(typeof re=="number"&&isFinite(re))){const te={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+Q.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/additionalProperties/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[te]:i.push(te),t++}var _=ne===t;if(!_)break}if(X===t){if(R.BYTES_PER_ELEMENT!==void 0){let Q=R.BYTES_PER_ELEMENT;const re=t;if(!(typeof Q=="number"&&isFinite(Q))){const ne={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/BYTES_PER_ELEMENT",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/BYTES_PER_ELEMENT/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[ne]:i.push(ne),t++}var F=re===t}else var F=!0;if(F){if(R.buffer!==void 0){let Q=R.buffer;const re=t;if(t===re)if(Q&&typeof Q=="object"&&!Array.isArray(Q)){let te;if(Q.byteLength===void 0&&(te="byteLength")){const we={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/buffer",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/buffer/required",keyword:"required",params:{missingProperty:te},message:"must have required property '"+te+"'"};i===null?i=[we]:i.push(we),t++}else{const we=t;for(const ve in Q)if(ve!=="byteLength"){const Le={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/buffer",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/buffer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ve},message:"must NOT have additional properties"};i===null?i=[Le]:i.push(Le),t++;break}if(we===t&&Q.byteLength!==void 0){let ve=Q.byteLength;if(!(typeof ve=="number"&&isFinite(ve))){const Le={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/buffer/byteLength",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/buffer/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[Le]:i.push(Le),t++}}}}else{const te={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/buffer",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/buffer/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[te]:i.push(te),t++}var F=re===t}else var F=!0;if(F){if(R.byteLength!==void 0){let Q=R.byteLength;const re=t;if(!(typeof Q=="number"&&isFinite(Q))){const te={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/byteLength",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[te]:i.push(te),t++}var F=re===t}else var F=!0;if(F){if(R.byteOffset!==void 0){let Q=R.byteOffset;const re=t;if(!(typeof Q=="number"&&isFinite(Q))){const te={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/byteOffset",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/byteOffset/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[te]:i.push(te),t++}var F=re===t}else var F=!0;if(F)if(R.length!==void 0){let Q=R.length;const re=t;if(!(typeof Q=="number"&&isFinite(Q))){const te={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/length",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/length/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[te]:i.push(te),t++}var F=re===t}else var F=!0}}}}}}else{const ee={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[ee]:i.push(ee),t++}var w=G===t;if(W=W||w,!W){const ee=t;if(t===ee)if(R&&typeof R=="object"&&!Array.isArray(R)){let Q;if(R.lastModified===void 0&&(Q="lastModified")||R.name===void 0&&(Q="name")||R.size===void 0&&(Q="size")||R.type===void 0&&(Q="type")||R.webkitRelativePath===void 0&&(Q="webkitRelativePath")){const re={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/required",keyword:"required",params:{missingProperty:Q},message:"must have required property '"+Q+"'"};i===null?i=[re]:i.push(re),t++}else{const re=t;for(const ne in R)if(!(ne==="size"||ne==="type"||ne==="lastModified"||ne==="name"||ne==="webkitRelativePath")){const te={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ne},message:"must NOT have additional properties"};i===null?i=[te]:i.push(te),t++;break}if(re===t){if(R.size!==void 0){let ne=R.size;const te=t;if(!(typeof ne=="number"&&isFinite(ne))){const we={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/size",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/properties/size/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[we]:i.push(we),t++}var k=te===t}else var k=!0;if(k){if(R.type!==void 0){const ne=t;if(typeof R.type!="string"){const we={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[we]:i.push(we),t++}var k=ne===t}else var k=!0;if(k){if(R.lastModified!==void 0){let ne=R.lastModified;const te=t;if(!(typeof ne=="number"&&isFinite(ne))){const ve={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/lastModified",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/properties/lastModified/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[ve]:i.push(ve),t++}var k=te===t}else var k=!0;if(k){if(R.name!==void 0){const ne=t;if(typeof R.name!="string"){const we={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/name",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[we]:i.push(we),t++}var k=ne===t}else var k=!0;if(k)if(R.webkitRelativePath!==void 0){const ne=t;if(typeof R.webkitRelativePath!="string"){const we={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1")+"/webkitRelativePath",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/properties/webkitRelativePath/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[we]:i.push(we),t++}var k=ne===t}else var k=!0}}}}}}else{const Q={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[Q]:i.push(Q),t++}var w=ee===t;W=W||w}}if(W)t=Z,i!==null&&(Z?i.length=Z:i=null);else{const G={instancePath:r+"/body/"+I.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};i===null?i=[G]:i.push(G),t++}var D=Y===t;if(!D)break}else{const I={instancePath:r+"/body",schemaPath:"#/properties/body/anyOf/2/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[I]:i.push(I),t++}var c=O===t;A=A||c}}if(A)t=N,i!==null&&(N?i.length=N:i=null);else{const T={instancePath:r+"/body",schemaPath:"#/properties/body/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[T]:i.push(T),t++,Ue.errors=i,!1}var o=U===t}else var o=!0}}}}}else return Ue.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ue.errors=i,t===0}const su={type:"object",properties:{relativeUri:{type:"string",description:"Request path following the domain:port part."},scriptPath:{type:"string",description:"Path of the .php file to execute."},protocol:{type:"string",description:"Request protocol."},method:{$ref:"#/definitions/HTTPMethod",description:"Request method. Default: `GET`."},headers:{$ref:"#/definitions/PHPRequestHeaders",description:"Request headers."},body:{anyOf:[{type:"string"},{type:"object",properties:{BYTES_PER_ELEMENT:{type:"number"},buffer:{type:"object",properties:{byteLength:{type:"number"}},required:["byteLength"],additionalProperties:!1},byteLength:{type:"number"},byteOffset:{type:"number"},length:{type:"number"}},required:["BYTES_PER_ELEMENT","buffer","byteLength","byteOffset","length"],additionalProperties:{type:"number"}}],description:"Request body."},env:{type:"object",additionalProperties:{type:"string"},description:"Environment variables to set for this run."},$_SERVER:{type:"object",additionalProperties:{type:"string"},description:"$_SERVER entries to set for this run."},code:{type:"string",description:"The code snippet to eval instead of a php file."}},additionalProperties:!1};function Oe(e,{instancePath:r="",parentData:s,parentDataProperty:n,rootData:p=e}={}){let i=null,t=0;if(t===0)if(e&&typeof e=="object"&&!Array.isArray(e)){const F=t;for(const k in e)if(!qa.call(su.properties,k))return Oe.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties"}],!1;if(F===t){if(e.relativeUri!==void 0){const k=t;if(typeof e.relativeUri!="string")return Oe.errors=[{instancePath:r+"/relativeUri",schemaPath:"#/properties/relativeUri/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=k===t}else var o=!0;if(o){if(e.scriptPath!==void 0){const k=t;if(typeof e.scriptPath!="string")return Oe.errors=[{instancePath:r+"/scriptPath",schemaPath:"#/properties/scriptPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=k===t}else var o=!0;if(o){if(e.protocol!==void 0){const k=t;if(typeof e.protocol!="string")return Oe.errors=[{instancePath:r+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=k===t}else var o=!0;if(o){if(e.method!==void 0){let k=e.method;const D=t;if(typeof k!="string")return Oe.errors=[{instancePath:r+"/method",schemaPath:"#/definitions/HTTPMethod/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(k==="GET"||k==="POST"||k==="HEAD"||k==="OPTIONS"||k==="PATCH"||k==="PUT"||k==="DELETE"))return Oe.errors=[{instancePath:r+"/method",schemaPath:"#/definitions/HTTPMethod/enum",keyword:"enum",params:{allowedValues:Ua.enum},message:"must be equal to one of the allowed values"}],!1;var o=D===t}else var o=!0;if(o){if(e.headers!==void 0){let k=e.headers;const D=t;if(t===t)if(k&&typeof k=="object"&&!Array.isArray(k))for(const B in k){const U=t;if(typeof k[B]!="string")return Oe.errors=[{instancePath:r+"/headers/"+B.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/PHPRequestHeaders/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var y=U===t;if(!y)break}else return Oe.errors=[{instancePath:r+"/headers",schemaPath:"#/definitions/PHPRequestHeaders/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var o=D===t}else var o=!0;if(o){if(e.body!==void 0){let k=e.body;const D=t,C=t;let M=!1;const B=t;if(typeof k!="string"){const N={instancePath:r+"/body",schemaPath:"#/properties/body/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[N]:i.push(N),t++}var c=B===t;if(M=M||c,!M){const N=t;if(t===N)if(k&&typeof k=="object"&&!Array.isArray(k)){let q;if(k.BYTES_PER_ELEMENT===void 0&&(q="BYTES_PER_ELEMENT")||k.buffer===void 0&&(q="buffer")||k.byteLength===void 0&&(q="byteLength")||k.byteOffset===void 0&&(q="byteOffset")||k.length===void 0&&(q="length")){const $={instancePath:r+"/body",schemaPath:"#/properties/body/anyOf/1/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"};i===null?i=[$]:i.push($),t++}else{const $=t;for(const T in k)if(!(T==="BYTES_PER_ELEMENT"||T==="buffer"||T==="byteLength"||T==="byteOffset"||T==="length")){let E=k[T];const O=t;if(!(typeof E=="number"&&isFinite(E))){const L={instancePath:r+"/body/"+T.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/1/additionalProperties/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[L]:i.push(L),t++}var h=O===t;if(!h)break}if($===t){if(k.BYTES_PER_ELEMENT!==void 0){let T=k.BYTES_PER_ELEMENT;const E=t;if(!(typeof T=="number"&&isFinite(T))){const O={instancePath:r+"/body/BYTES_PER_ELEMENT",schemaPath:"#/properties/body/anyOf/1/properties/BYTES_PER_ELEMENT/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[O]:i.push(O),t++}var b=E===t}else var b=!0;if(b){if(k.buffer!==void 0){let T=k.buffer;const E=t;if(t===E)if(T&&typeof T=="object"&&!Array.isArray(T)){let L;if(T.byteLength===void 0&&(L="byteLength")){const I={instancePath:r+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/required",keyword:"required",params:{missingProperty:L},message:"must have required property '"+L+"'"};i===null?i=[I]:i.push(I),t++}else{const I=t;for(const R in T)if(R!=="byteLength"){const Y={instancePath:r+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:R},message:"must NOT have additional properties"};i===null?i=[Y]:i.push(Y),t++;break}if(I===t&&T.byteLength!==void 0){let R=T.byteLength;if(!(typeof R=="number"&&isFinite(R))){const Y={instancePath:r+"/body/buffer/byteLength",schemaPath:"#/properties/body/anyOf/1/properties/buffer/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[Y]:i.push(Y),t++}}}}else{const L={instancePath:r+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[L]:i.push(L),t++}var b=E===t}else var b=!0;if(b){if(k.byteLength!==void 0){let T=k.byteLength;const E=t;if(!(typeof T=="number"&&isFinite(T))){const L={instancePath:r+"/body/byteLength",schemaPath:"#/properties/body/anyOf/1/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[L]:i.push(L),t++}var b=E===t}else var b=!0;if(b){if(k.byteOffset!==void 0){let T=k.byteOffset;const E=t;if(!(typeof T=="number"&&isFinite(T))){const L={instancePath:r+"/body/byteOffset",schemaPath:"#/properties/body/anyOf/1/properties/byteOffset/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[L]:i.push(L),t++}var b=E===t}else var b=!0;if(b)if(k.length!==void 0){let T=k.length;const E=t;if(!(typeof T=="number"&&isFinite(T))){const L={instancePath:r+"/body/length",schemaPath:"#/properties/body/anyOf/1/properties/length/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[L]:i.push(L),t++}var b=E===t}else var b=!0}}}}}}else{const q={instancePath:r+"/body",schemaPath:"#/properties/body/anyOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[q]:i.push(q),t++}var c=N===t;M=M||c}if(M)t=C,i!==null&&(C?i.length=C:i=null);else{const N={instancePath:r+"/body",schemaPath:"#/properties/body/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[N]:i.push(N),t++,Oe.errors=i,!1}var o=D===t}else var o=!0;if(o){if(e.env!==void 0){let k=e.env;const D=t;if(t===D)if(k&&typeof k=="object"&&!Array.isArray(k))for(const M in k){const B=t;if(typeof k[M]!="string")return Oe.errors=[{instancePath:r+"/env/"+M.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/env/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=B===t;if(!w)break}else return Oe.errors=[{instancePath:r+"/env",schemaPath:"#/properties/env/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var o=D===t}else var o=!0;if(o){if(e.$_SERVER!==void 0){let k=e.$_SERVER;const D=t;if(t===D)if(k&&typeof k=="object"&&!Array.isArray(k))for(const M in k){const B=t;if(typeof k[M]!="string")return Oe.errors=[{instancePath:r+"/$_SERVER/"+M.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24_SERVER/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var _=B===t;if(!_)break}else return Oe.errors=[{instancePath:r+"/$_SERVER",schemaPath:"#/properties/%24_SERVER/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var o=D===t}else var o=!0;if(o)if(e.code!==void 0){const k=t;if(typeof e.code!="string")return Oe.errors=[{instancePath:r+"/code",schemaPath:"#/properties/code/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=k===t}else var o=!0}}}}}}}}}else return Oe.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Oe.errors=i,t===0}function d(e,{instancePath:r="",parentData:s,parentDataProperty:n,rootData:p=e}={}){let i=null,t=0;if(t===0)if(e&&typeof e=="object"&&!Array.isArray(e)){let hs;if(e.step===void 0&&(hs="step"))return d.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:hs},message:"must have required property '"+hs+"'"}],!1;{const pe=e.step;if(typeof pe=="string")if(pe==="activatePlugin"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.pluginPath===void 0&&(S="pluginPath")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="pluginPath"||a==="pluginName"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/0/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/0/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var o=H===t}else var o=!0;if(o)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/0/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=m===t}else var o=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/0/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var y=P===t}else var y=!0;if(y){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/0/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="activatePlugin")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/0/properties/step/const",keyword:"const",params:{allowedValue:"activatePlugin"},message:"must be equal to constant"}],!1;var y=P===t}else var y=!0;if(y){if(e.pluginPath!==void 0){const a=t;if(typeof e.pluginPath!="string")return d.errors=[{instancePath:r+"/pluginPath",schemaPath:"#/oneOf/0/properties/pluginPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var y=a===t}else var y=!0;if(y)if(e.pluginName!==void 0){const a=t;if(typeof e.pluginName!="string")return d.errors=[{instancePath:r+"/pluginName",schemaPath:"#/oneOf/0/properties/pluginName/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var y=a===t}else var y=!0}}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="activateTheme"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.step===void 0&&(S="step")||e.themeFolderName===void 0&&(S="themeFolderName"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="themeFolderName"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/1/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/1/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var c=H===t}else var c=!0;if(c)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/1/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=m===t}else var c=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/1/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var h=P===t}else var h=!0;if(h){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/1/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="activateTheme")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/1/properties/step/const",keyword:"const",params:{allowedValue:"activateTheme"},message:"must be equal to constant"}],!1;var h=P===t}else var h=!0;if(h)if(e.themeFolderName!==void 0){const a=t;if(typeof e.themeFolderName!="string")return d.errors=[{instancePath:r+"/themeFolderName",schemaPath:"#/oneOf/1/properties/themeFolderName/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var h=a===t}else var h=!0}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="cp"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.fromPath===void 0&&(S="fromPath")||e.step===void 0&&(S="step")||e.toPath===void 0&&(S="toPath"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="fromPath"||a==="toPath"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/2/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/2/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/2/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var b=H===t}else var b=!0;if(b)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/2/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=m===t}else var b=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/2/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var w=P===t}else var w=!0;if(w){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/2/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="cp")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/2/properties/step/const",keyword:"const",params:{allowedValue:"cp"},message:"must be equal to constant"}],!1;var w=P===t}else var w=!0;if(w){if(e.fromPath!==void 0){const a=t;if(typeof e.fromPath!="string")return d.errors=[{instancePath:r+"/fromPath",schemaPath:"#/oneOf/2/properties/fromPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=a===t}else var w=!0;if(w)if(e.toPath!==void 0){const a=t;if(typeof e.toPath!="string")return d.errors=[{instancePath:r+"/toPath",schemaPath:"#/oneOf/2/properties/toPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var w=a===t}else var w=!0}}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/2/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="defineWpConfigConsts"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.consts===void 0&&(S="consts")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="consts"||a==="method"||a==="virtualize"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/3/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/3/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/3/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var _=H===t}else var _=!0;if(_)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/3/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var _=m===t}else var _=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/3/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var F=P===t}else var F=!0;if(F){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/3/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="defineWpConfigConsts")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/3/properties/step/const",keyword:"const",params:{allowedValue:"defineWpConfigConsts"},message:"must be equal to constant"}],!1;var F=P===t}else var F=!0;if(F){if(e.consts!==void 0){let a=e.consts;const P=t;if(t===P&&!(a&&typeof a=="object"&&!Array.isArray(a)))return d.errors=[{instancePath:r+"/consts",schemaPath:"#/oneOf/3/properties/consts/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var F=P===t}else var F=!0;if(F){if(e.method!==void 0){let a=e.method;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/method",schemaPath:"#/oneOf/3/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(a==="rewrite-wp-config"||a==="define-before-run"))return d.errors=[{instancePath:r+"/method",schemaPath:"#/oneOf/3/properties/method/enum",keyword:"enum",params:{allowedValues:Is.oneOf[3].properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var F=P===t}else var F=!0;if(F)if(e.virtualize!==void 0){const a=t;if(typeof e.virtualize!="boolean")return d.errors=[{instancePath:r+"/virtualize",schemaPath:"#/oneOf/3/properties/virtualize/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var F=a===t}else var F=!0}}}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/3/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="defineSiteUrl"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.siteUrl===void 0&&(S="siteUrl")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/4/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="siteUrl"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/4/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/4/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/4/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var k=H===t}else var k=!0;if(k)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/4/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=m===t}else var k=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/4/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var D=P===t}else var D=!0;if(D){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/4/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="defineSiteUrl")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/4/properties/step/const",keyword:"const",params:{allowedValue:"defineSiteUrl"},message:"must be equal to constant"}],!1;var D=P===t}else var D=!0;if(D)if(e.siteUrl!==void 0){const a=t;if(typeof e.siteUrl!="string")return d.errors=[{instancePath:r+"/siteUrl",schemaPath:"#/oneOf/4/properties/siteUrl/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var D=a===t}else var D=!0}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/4/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="enableMultisite"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/5/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="wpCliPath"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/5/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/5/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/5/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var C=H===t}else var C=!0;if(C)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/5/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=m===t}else var C=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/5/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var M=P===t}else var M=!0;if(M){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/5/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="enableMultisite")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/5/properties/step/const",keyword:"const",params:{allowedValue:"enableMultisite"},message:"must be equal to constant"}],!1;var M=P===t}else var M=!0;if(M)if(e.wpCliPath!==void 0){const a=t;if(typeof e.wpCliPath!="string")return d.errors=[{instancePath:r+"/wpCliPath",schemaPath:"#/oneOf/5/properties/wpCliPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=a===t}else var M=!0}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/5/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="importWxr"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.file===void 0&&(S="file")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/6/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="file"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/6/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/6/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/6/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var B=H===t}else var B=!0;if(B)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/6/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=m===t}else var B=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/6/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var U=P===t}else var U=!0;if(U){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/6/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="importWxr")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/6/properties/step/const",keyword:"const",params:{allowedValue:"importWxr"},message:"must be equal to constant"}],!1;var U=P===t}else var U=!0;if(U)if(e.file!==void 0){const a=t;le(e.file,{instancePath:r+"/file",parentData:e,parentDataProperty:"file",rootData:p})||(i=i===null?le.errors:i.concat(le.errors),t=i.length);var U=a===t}else var U=!0}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/6/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="importThemeStarterContent"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/7/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="themeSlug"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/7/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/7/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/7/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var N=H===t}else var N=!0;if(N)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/7/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=m===t}else var N=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/7/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var A=P===t}else var A=!0;if(A){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/7/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="importThemeStarterContent")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/7/properties/step/const",keyword:"const",params:{allowedValue:"importThemeStarterContent"},message:"must be equal to constant"}],!1;var A=P===t}else var A=!0;if(A)if(e.themeSlug!==void 0){const a=t;if(typeof e.themeSlug!="string")return d.errors=[{instancePath:r+"/themeSlug",schemaPath:"#/oneOf/7/properties/themeSlug/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var A=a===t}else var A=!0}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/7/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="importWordPressFiles"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.step===void 0&&(S="step")||e.wordPressFilesZip===void 0&&(S="wordPressFilesZip"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/8/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="wordPressFilesZip"||a==="pathInZip"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/8/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/8/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/8/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var q=H===t}else var q=!0;if(q)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/8/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var q=m===t}else var q=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/8/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var $=P===t}else var $=!0;if($){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/8/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="importWordPressFiles")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/8/properties/step/const",keyword:"const",params:{allowedValue:"importWordPressFiles"},message:"must be equal to constant"}],!1;var $=P===t}else var $=!0;if($){if(e.wordPressFilesZip!==void 0){const a=t;le(e.wordPressFilesZip,{instancePath:r+"/wordPressFilesZip",parentData:e,parentDataProperty:"wordPressFilesZip",rootData:p})||(i=i===null?le.errors:i.concat(le.errors),t=i.length);var $=a===t}else var $=!0;if($)if(e.pathInZip!==void 0){const a=t;if(typeof e.pathInZip!="string")return d.errors=[{instancePath:r+"/pathInZip",schemaPath:"#/oneOf/8/properties/pathInZip/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=a===t}else var $=!0}}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/8/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="installPlugin"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.pluginData===void 0&&(S="pluginData")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/9/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="ifAlreadyInstalled"||a==="step"||a==="pluginData"||a==="pluginZipFile"||a==="options"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/9/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/9/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/9/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var T=H===t}else var T=!0;if(T)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/9/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=m===t}else var T=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/9/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var E=P===t}else var E=!0;if(E){if(e.ifAlreadyInstalled!==void 0){let a=e.ifAlreadyInstalled;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/ifAlreadyInstalled",schemaPath:"#/oneOf/9/properties/ifAlreadyInstalled/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(a==="overwrite"||a==="skip"||a==="error"))return d.errors=[{instancePath:r+"/ifAlreadyInstalled",schemaPath:"#/oneOf/9/properties/ifAlreadyInstalled/enum",keyword:"enum",params:{allowedValues:Is.oneOf[9].properties.ifAlreadyInstalled.enum},message:"must be equal to one of the allowed values"}],!1;var E=P===t}else var E=!0;if(E){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/9/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="installPlugin")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/9/properties/step/const",keyword:"const",params:{allowedValue:"installPlugin"},message:"must be equal to constant"}],!1;var E=P===t}else var E=!0;if(E){if(e.pluginData!==void 0){let a=e.pluginData;const P=t,z=t;let m=!1;const H=t;le(a,{instancePath:r+"/pluginData",parentData:e,parentDataProperty:"pluginData",rootData:p})||(i=i===null?le.errors:i.concat(le.errors),t=i.length);var O=H===t;if(m=m||O,!m){const Pe=t;Je(a,{instancePath:r+"/pluginData",parentData:e,parentDataProperty:"pluginData",rootData:p})||(i=i===null?Je.errors:i.concat(Je.errors),t=i.length);var O=Pe===t;m=m||O}if(m)t=z,i!==null&&(z?i.length=z:i=null);else{const Pe={instancePath:r+"/pluginData",schemaPath:"#/oneOf/9/properties/pluginData/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[Pe]:i.push(Pe),t++,d.errors=i,!1}var E=P===t}else var E=!0;if(E){if(e.pluginZipFile!==void 0){const a=t;le(e.pluginZipFile,{instancePath:r+"/pluginZipFile",parentData:e,parentDataProperty:"pluginZipFile",rootData:p})||(i=i===null?le.errors:i.concat(le.errors),t=i.length);var E=a===t}else var E=!0;if(E)if(e.options!==void 0){let a=e.options;const P=t;if(t===t)if(a&&typeof a=="object"&&!Array.isArray(a)){const H=t;for(const me in a)if(!(me==="activate"||me==="targetFolderName"))return d.errors=[{instancePath:r+"/options",schemaPath:"#/definitions/InstallPluginOptions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:me},message:"must NOT have additional properties"}],!1;if(H===t){if(a.activate!==void 0){const me=t;if(typeof a.activate!="boolean")return d.errors=[{instancePath:r+"/options/activate",schemaPath:"#/definitions/InstallPluginOptions/properties/activate/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var L=me===t}else var L=!0;if(L)if(a.targetFolderName!==void 0){const me=t;if(typeof a.targetFolderName!="string")return d.errors=[{instancePath:r+"/options/targetFolderName",schemaPath:"#/definitions/InstallPluginOptions/properties/targetFolderName/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var L=me===t}else var L=!0}}else return d.errors=[{instancePath:r+"/options",schemaPath:"#/definitions/InstallPluginOptions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var E=P===t}else var E=!0}}}}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/9/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="installTheme"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.step===void 0&&(S="step")||e.themeData===void 0&&(S="themeData"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/10/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="ifAlreadyInstalled"||a==="step"||a==="themeData"||a==="themeZipFile"||a==="options"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/10/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/10/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/10/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var I=H===t}else var I=!0;if(I)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/10/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=m===t}else var I=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/10/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var R=P===t}else var R=!0;if(R){if(e.ifAlreadyInstalled!==void 0){let a=e.ifAlreadyInstalled;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/ifAlreadyInstalled",schemaPath:"#/oneOf/10/properties/ifAlreadyInstalled/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(a==="overwrite"||a==="skip"||a==="error"))return d.errors=[{instancePath:r+"/ifAlreadyInstalled",schemaPath:"#/oneOf/10/properties/ifAlreadyInstalled/enum",keyword:"enum",params:{allowedValues:Is.oneOf[10].properties.ifAlreadyInstalled.enum},message:"must be equal to one of the allowed values"}],!1;var R=P===t}else var R=!0;if(R){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/10/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="installTheme")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/10/properties/step/const",keyword:"const",params:{allowedValue:"installTheme"},message:"must be equal to constant"}],!1;var R=P===t}else var R=!0;if(R){if(e.themeData!==void 0){let a=e.themeData;const P=t,z=t;let m=!1;const H=t;le(a,{instancePath:r+"/themeData",parentData:e,parentDataProperty:"themeData",rootData:p})||(i=i===null?le.errors:i.concat(le.errors),t=i.length);var Y=H===t;if(m=m||Y,!m){const Pe=t;Je(a,{instancePath:r+"/themeData",parentData:e,parentDataProperty:"themeData",rootData:p})||(i=i===null?Je.errors:i.concat(Je.errors),t=i.length);var Y=Pe===t;m=m||Y}if(m)t=z,i!==null&&(z?i.length=z:i=null);else{const Pe={instancePath:r+"/themeData",schemaPath:"#/oneOf/10/properties/themeData/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[Pe]:i.push(Pe),t++,d.errors=i,!1}var R=P===t}else var R=!0;if(R){if(e.themeZipFile!==void 0){const a=t;le(e.themeZipFile,{instancePath:r+"/themeZipFile",parentData:e,parentDataProperty:"themeZipFile",rootData:p})||(i=i===null?le.errors:i.concat(le.errors),t=i.length);var R=a===t}else var R=!0;if(R)if(e.options!==void 0){let a=e.options;const P=t;if(t===t)if(a&&typeof a=="object"&&!Array.isArray(a)){const H=t;for(const me in a)if(!(me==="activate"||me==="importStarterContent"||me==="targetFolderName"))return d.errors=[{instancePath:r+"/options",schemaPath:"#/definitions/InstallThemeOptions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:me},message:"must NOT have additional properties"}],!1;if(H===t){if(a.activate!==void 0){const me=t;if(typeof a.activate!="boolean")return d.errors=[{instancePath:r+"/options/activate",schemaPath:"#/definitions/InstallThemeOptions/properties/activate/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var Z=me===t}else var Z=!0;if(Z){if(a.importStarterContent!==void 0){const me=t;if(typeof a.importStarterContent!="boolean")return d.errors=[{instancePath:r+"/options/importStarterContent",schemaPath:"#/definitions/InstallThemeOptions/properties/importStarterContent/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var Z=me===t}else var Z=!0;if(Z)if(a.targetFolderName!==void 0){const me=t;if(typeof a.targetFolderName!="string")return d.errors=[{instancePath:r+"/options/targetFolderName",schemaPath:"#/definitions/InstallThemeOptions/properties/targetFolderName/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Z=me===t}else var Z=!0}}}else return d.errors=[{instancePath:r+"/options",schemaPath:"#/definitions/InstallThemeOptions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var R=P===t}else var R=!0}}}}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/10/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="login"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/11/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="username"||a==="password"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/11/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/11/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/11/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var W=H===t}else var W=!0;if(W)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/11/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=m===t}else var W=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/11/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var K=P===t}else var K=!0;if(K){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/11/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="login")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/11/properties/step/const",keyword:"const",params:{allowedValue:"login"},message:"must be equal to constant"}],!1;var K=P===t}else var K=!0;if(K){if(e.username!==void 0){const a=t;if(typeof e.username!="string")return d.errors=[{instancePath:r+"/username",schemaPath:"#/oneOf/11/properties/username/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var K=a===t}else var K=!0;if(K)if(e.password!==void 0){const a=t;if(typeof e.password!="string")return d.errors=[{instancePath:r+"/password",schemaPath:"#/oneOf/11/properties/password/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var K=a===t}else var K=!0}}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/11/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="mkdir"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.path===void 0&&(S="path")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/12/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="path"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/12/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/12/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/12/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var G=H===t}else var G=!0;if(G)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/12/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=m===t}else var G=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/12/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var se=P===t}else var se=!0;if(se){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/12/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="mkdir")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/12/properties/step/const",keyword:"const",params:{allowedValue:"mkdir"},message:"must be equal to constant"}],!1;var se=P===t}else var se=!0;if(se)if(e.path!==void 0){const a=t;if(typeof e.path!="string")return d.errors=[{instancePath:r+"/path",schemaPath:"#/oneOf/12/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var se=a===t}else var se=!0}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/12/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="mv"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.fromPath===void 0&&(S="fromPath")||e.step===void 0&&(S="step")||e.toPath===void 0&&(S="toPath"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/13/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="fromPath"||a==="toPath"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/13/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/13/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/13/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var ee=H===t}else var ee=!0;if(ee)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/13/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ee=m===t}else var ee=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/13/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var X=P===t}else var X=!0;if(X){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/13/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="mv")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/13/properties/step/const",keyword:"const",params:{allowedValue:"mv"},message:"must be equal to constant"}],!1;var X=P===t}else var X=!0;if(X){if(e.fromPath!==void 0){const a=t;if(typeof e.fromPath!="string")return d.errors=[{instancePath:r+"/fromPath",schemaPath:"#/oneOf/13/properties/fromPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=a===t}else var X=!0;if(X)if(e.toPath!==void 0){const a=t;if(typeof e.toPath!="string")return d.errors=[{instancePath:r+"/toPath",schemaPath:"#/oneOf/13/properties/toPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=a===t}else var X=!0}}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/13/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="resetData"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/14/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/14/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/14/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/14/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Q=H===t}else var Q=!0;if(Q)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/14/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=m===t}else var Q=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/14/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var re=P===t}else var re=!0;if(re)if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/14/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="resetData")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/14/properties/step/const",keyword:"const",params:{allowedValue:"resetData"},message:"must be equal to constant"}],!1;var re=P===t}else var re=!0}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/14/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="request"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.request===void 0&&(S="request")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/15/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="request"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/15/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/15/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/15/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var ne=H===t}else var ne=!0;if(ne)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/15/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ne=m===t}else var ne=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/15/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var te=P===t}else var te=!0;if(te){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/15/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="request")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/15/properties/step/const",keyword:"const",params:{allowedValue:"request"},message:"must be equal to constant"}],!1;var te=P===t}else var te=!0;if(te)if(e.request!==void 0){const a=t;Ue(e.request,{instancePath:r+"/request",parentData:e,parentDataProperty:"request",rootData:p})||(i=i===null?Ue.errors:i.concat(Ue.errors),t=i.length);var te=a===t}else var te=!0}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/15/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="rm"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.path===void 0&&(S="path")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/16/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="path"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/16/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/16/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/16/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var we=H===t}else var we=!0;if(we)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/16/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var we=m===t}else var we=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/16/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var ve=P===t}else var ve=!0;if(ve){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/16/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="rm")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/16/properties/step/const",keyword:"const",params:{allowedValue:"rm"},message:"must be equal to constant"}],!1;var ve=P===t}else var ve=!0;if(ve)if(e.path!==void 0){const a=t;if(typeof e.path!="string")return d.errors=[{instancePath:r+"/path",schemaPath:"#/oneOf/16/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ve=a===t}else var ve=!0}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/16/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="rmdir"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.path===void 0&&(S="path")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/17/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="path"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/17/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/17/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/17/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Le=H===t}else var Le=!0;if(Le)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/17/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Le=m===t}else var Le=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/17/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var tr=P===t}else var tr=!0;if(tr){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/17/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="rmdir")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/17/properties/step/const",keyword:"const",params:{allowedValue:"rmdir"},message:"must be equal to constant"}],!1;var tr=P===t}else var tr=!0;if(tr)if(e.path!==void 0){const a=t;if(typeof e.path!="string")return d.errors=[{instancePath:r+"/path",schemaPath:"#/oneOf/17/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var tr=a===t}else var tr=!0}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/17/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="runPHP"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.code===void 0&&(S="code")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/18/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="code"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/18/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/18/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/18/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var zr=H===t}else var zr=!0;if(zr)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/18/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var zr=m===t}else var zr=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/18/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var sr=P===t}else var sr=!0;if(sr){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/18/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="runPHP")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/18/properties/step/const",keyword:"const",params:{allowedValue:"runPHP"},message:"must be equal to constant"}],!1;var sr=P===t}else var sr=!0;if(sr)if(e.code!==void 0){const a=t;if(typeof e.code!="string")return d.errors=[{instancePath:r+"/code",schemaPath:"#/oneOf/18/properties/code/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var sr=a===t}else var sr=!0}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/18/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="runPHPWithOptions"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.options===void 0&&(S="options")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/19/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="options"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/19/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/19/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/19/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Qe=H===t}else var Qe=!0;if(Qe)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/19/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Qe=m===t}else var Qe=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/19/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Ce=P===t}else var Ce=!0;if(Ce){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/19/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="runPHPWithOptions")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/19/properties/step/const",keyword:"const",params:{allowedValue:"runPHPWithOptions"},message:"must be equal to constant"}],!1;var Ce=P===t}else var Ce=!0;if(Ce)if(e.options!==void 0){const a=t;Oe(e.options,{instancePath:r+"/options",parentData:e,parentDataProperty:"options",rootData:p})||(i=i===null?Oe.errors:i.concat(Oe.errors),t=i.length);var Ce=a===t}else var Ce=!0}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/19/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="runWpInstallationWizard"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.options===void 0&&(S="options")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/20/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="options"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/20/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/20/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/20/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Mr=H===t}else var Mr=!0;if(Mr)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/20/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Mr=m===t}else var Mr=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/20/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var cr=P===t}else var cr=!0;if(cr){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/20/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="runWpInstallationWizard")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/20/properties/step/const",keyword:"const",params:{allowedValue:"runWpInstallationWizard"},message:"must be equal to constant"}],!1;var cr=P===t}else var cr=!0;if(cr)if(e.options!==void 0){let a=e.options;const P=t;if(t===t)if(a&&typeof a=="object"&&!Array.isArray(a)){const H=t;for(const me in a)if(!(me==="adminUsername"||me==="adminPassword"))return d.errors=[{instancePath:r+"/options",schemaPath:"#/definitions/WordPressInstallationOptions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:me},message:"must NOT have additional properties"}],!1;if(H===t){if(a.adminUsername!==void 0){const me=t;if(typeof a.adminUsername!="string")return d.errors=[{instancePath:r+"/options/adminUsername",schemaPath:"#/definitions/WordPressInstallationOptions/properties/adminUsername/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var _r=me===t}else var _r=!0;if(_r)if(a.adminPassword!==void 0){const me=t;if(typeof a.adminPassword!="string")return d.errors=[{instancePath:r+"/options/adminPassword",schemaPath:"#/definitions/WordPressInstallationOptions/properties/adminPassword/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var _r=me===t}else var _r=!0}}else return d.errors=[{instancePath:r+"/options",schemaPath:"#/definitions/WordPressInstallationOptions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var cr=P===t}else var cr=!0}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/20/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="runSql"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.sql===void 0&&(S="sql")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/21/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="sql"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/21/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/21/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/21/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Hr=H===t}else var Hr=!0;if(Hr)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/21/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Hr=m===t}else var Hr=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/21/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var dr=P===t}else var dr=!0;if(dr){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/21/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="runSql")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/21/properties/step/const",keyword:"const",params:{allowedValue:"runSql"},message:"must be equal to constant"}],!1;var dr=P===t}else var dr=!0;if(dr)if(e.sql!==void 0){const a=t;le(e.sql,{instancePath:r+"/sql",parentData:e,parentDataProperty:"sql",rootData:p})||(i=i===null?le.errors:i.concat(le.errors),t=i.length);var dr=a===t}else var dr=!0}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/21/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="setSiteOptions"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.options===void 0&&(S="options")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/22/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="options"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/22/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/22/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/22/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var $r=H===t}else var $r=!0;if($r)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/22/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $r=m===t}else var $r=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/22/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Me=P===t}else var Me=!0;if(Me){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/22/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="setSiteOptions")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/22/properties/step/const",keyword:"const",params:{allowedValue:"setSiteOptions"},message:"must be equal to constant"}],!1;var Me=P===t}else var Me=!0;if(Me)if(e.options!==void 0){let a=e.options;const P=t;if(t===P&&!(a&&typeof a=="object"&&!Array.isArray(a)))return d.errors=[{instancePath:r+"/options",schemaPath:"#/oneOf/22/properties/options/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Me=P===t}else var Me=!0}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/22/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="unzip"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.extractToPath===void 0&&(S="extractToPath")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/23/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="zipFile"||a==="zipPath"||a==="extractToPath"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/23/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/23/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/23/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Be=H===t}else var Be=!0;if(Be)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/23/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Be=m===t}else var Be=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/23/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Ae=P===t}else var Ae=!0;if(Ae){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/23/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="unzip")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/23/properties/step/const",keyword:"const",params:{allowedValue:"unzip"},message:"must be equal to constant"}],!1;var Ae=P===t}else var Ae=!0;if(Ae){if(e.zipFile!==void 0){const a=t;le(e.zipFile,{instancePath:r+"/zipFile",parentData:e,parentDataProperty:"zipFile",rootData:p})||(i=i===null?le.errors:i.concat(le.errors),t=i.length);var Ae=a===t}else var Ae=!0;if(Ae){if(e.zipPath!==void 0){const a=t;if(typeof e.zipPath!="string")return d.errors=[{instancePath:r+"/zipPath",schemaPath:"#/oneOf/23/properties/zipPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ae=a===t}else var Ae=!0;if(Ae)if(e.extractToPath!==void 0){const a=t;if(typeof e.extractToPath!="string")return d.errors=[{instancePath:r+"/extractToPath",schemaPath:"#/oneOf/23/properties/extractToPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ae=a===t}else var Ae=!0}}}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/23/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="updateUserMeta"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.meta===void 0&&(S="meta")||e.step===void 0&&(S="step")||e.userId===void 0&&(S="userId"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/24/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="meta"||a==="userId"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/24/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/24/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Wr=H===t}else var Wr=!0;if(Wr)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/24/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Wr=m===t}else var Wr=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/24/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Ee=P===t}else var Ee=!0;if(Ee){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/24/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="updateUserMeta")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/24/properties/step/const",keyword:"const",params:{allowedValue:"updateUserMeta"},message:"must be equal to constant"}],!1;var Ee=P===t}else var Ee=!0;if(Ee){if(e.meta!==void 0){let a=e.meta;const P=t;if(t===P&&!(a&&typeof a=="object"&&!Array.isArray(a)))return d.errors=[{instancePath:r+"/meta",schemaPath:"#/oneOf/24/properties/meta/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Ee=P===t}else var Ee=!0;if(Ee)if(e.userId!==void 0){let a=e.userId;const P=t;if(!(typeof a=="number"&&isFinite(a)))return d.errors=[{instancePath:r+"/userId",schemaPath:"#/oneOf/24/properties/userId/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Ee=P===t}else var Ee=!0}}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/24/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="writeFile"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.data===void 0&&(S="data")||e.path===void 0&&(S="path")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/25/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="path"||a==="data"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/25/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/25/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/25/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Zr=H===t}else var Zr=!0;if(Zr)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/25/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Zr=m===t}else var Zr=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/25/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var u=P===t}else var u=!0;if(u){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/25/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="writeFile")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/25/properties/step/const",keyword:"const",params:{allowedValue:"writeFile"},message:"must be equal to constant"}],!1;var u=P===t}else var u=!0;if(u){if(e.path!==void 0){const a=t;if(typeof e.path!="string")return d.errors=[{instancePath:r+"/path",schemaPath:"#/oneOf/25/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=a===t}else var u=!0;if(u)if(e.data!==void 0){let a=e.data;const P=t,z=t;let m=!1;const H=t;le(a,{instancePath:r+"/data",parentData:e,parentDataProperty:"data",rootData:p})||(i=i===null?le.errors:i.concat(le.errors),t=i.length);var f=H===t;if(m=m||f,!m){const Pe=t;if(typeof a!="string"){const ir={instancePath:r+"/data",schemaPath:"#/oneOf/25/properties/data/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[ir]:i.push(ir),t++}var f=Pe===t;if(m=m||f,!m){const ir=t;if(t===ir)if(a&&typeof a=="object"&&!Array.isArray(a)){let He;if(a.BYTES_PER_ELEMENT===void 0&&(He="BYTES_PER_ELEMENT")||a.buffer===void 0&&(He="buffer")||a.byteLength===void 0&&(He="byteLength")||a.byteOffset===void 0&&(He="byteOffset")||a.length===void 0&&(He="length")){const Rt={instancePath:r+"/data",schemaPath:"#/oneOf/25/properties/data/anyOf/2/required",keyword:"required",params:{missingProperty:He},message:"must have required property '"+He+"'"};i===null?i=[Rt]:i.push(Rt),t++}else{const Rt=t;for(const ue in a)if(!(ue==="BYTES_PER_ELEMENT"||ue==="buffer"||ue==="byteLength"||ue==="byteOffset"||ue==="length")){let De=a[ue];const Ft=t;if(!(typeof De=="number"&&isFinite(De))){const Te={instancePath:r+"/data/"+ue.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/oneOf/25/properties/data/anyOf/2/additionalProperties/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[Te]:i.push(Te),t++}var l=Ft===t;if(!l)break}if(Rt===t){if(a.BYTES_PER_ELEMENT!==void 0){let ue=a.BYTES_PER_ELEMENT;const De=t;if(!(typeof ue=="number"&&isFinite(ue))){const Ft={instancePath:r+"/data/BYTES_PER_ELEMENT",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/BYTES_PER_ELEMENT/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[Ft]:i.push(Ft),t++}var g=De===t}else var g=!0;if(g){if(a.buffer!==void 0){let ue=a.buffer;const De=t;if(t===De)if(ue&&typeof ue=="object"&&!Array.isArray(ue)){let Te;if(ue.byteLength===void 0&&(Te="byteLength")){const Bt={instancePath:r+"/data/buffer",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/buffer/required",keyword:"required",params:{missingProperty:Te},message:"must have required property '"+Te+"'"};i===null?i=[Bt]:i.push(Bt),t++}else{const Bt=t;for(const at in ue)if(at!=="byteLength"){const ot={instancePath:r+"/data/buffer",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/buffer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:at},message:"must NOT have additional properties"};i===null?i=[ot]:i.push(ot),t++;break}if(Bt===t&&ue.byteLength!==void 0){let at=ue.byteLength;if(!(typeof at=="number"&&isFinite(at))){const ot={instancePath:r+"/data/buffer/byteLength",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/buffer/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[ot]:i.push(ot),t++}}}}else{const Te={instancePath:r+"/data/buffer",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/buffer/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[Te]:i.push(Te),t++}var g=De===t}else var g=!0;if(g){if(a.byteLength!==void 0){let ue=a.byteLength;const De=t;if(!(typeof ue=="number"&&isFinite(ue))){const Te={instancePath:r+"/data/byteLength",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[Te]:i.push(Te),t++}var g=De===t}else var g=!0;if(g){if(a.byteOffset!==void 0){let ue=a.byteOffset;const De=t;if(!(typeof ue=="number"&&isFinite(ue))){const Te={instancePath:r+"/data/byteOffset",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/byteOffset/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[Te]:i.push(Te),t++}var g=De===t}else var g=!0;if(g)if(a.length!==void 0){let ue=a.length;const De=t;if(!(typeof ue=="number"&&isFinite(ue))){const Te={instancePath:r+"/data/length",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/length/type",keyword:"type",params:{type:"number"},message:"must be number"};i===null?i=[Te]:i.push(Te),t++}var g=De===t}else var g=!0}}}}}}else{const He={instancePath:r+"/data",schemaPath:"#/oneOf/25/properties/data/anyOf/2/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[He]:i.push(He),t++}var f=ir===t;m=m||f}}if(m)t=z,i!==null&&(z?i.length=z:i=null);else{const Pe={instancePath:r+"/data",schemaPath:"#/oneOf/25/properties/data/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[Pe]:i.push(Pe),t++,d.errors=i,!1}var u=P===t}else var u=!0}}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/25/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="writeFiles"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.filesTree===void 0&&(S="filesTree")||e.step===void 0&&(S="step")||e.writeToPath===void 0&&(S="writeToPath"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/26/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="writeToPath"||a==="filesTree"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/26/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/26/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/26/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var v=H===t}else var v=!0;if(v)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/26/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=m===t}else var v=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/26/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var x=P===t}else var x=!0;if(x){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/26/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="writeFiles")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/26/properties/step/const",keyword:"const",params:{allowedValue:"writeFiles"},message:"must be equal to constant"}],!1;var x=P===t}else var x=!0;if(x){if(e.writeToPath!==void 0){const a=t;if(typeof e.writeToPath!="string")return d.errors=[{instancePath:r+"/writeToPath",schemaPath:"#/oneOf/26/properties/writeToPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var x=a===t}else var x=!0;if(x)if(e.filesTree!==void 0){const a=t;Je(e.filesTree,{instancePath:r+"/filesTree",parentData:e,parentDataProperty:"filesTree",rootData:p})||(i=i===null?Je.errors:i.concat(Je.errors),t=i.length);var x=a===t}else var x=!0}}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/26/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="wp-cli"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.command===void 0&&(S="command")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/27/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="command"||a==="wpCliPath"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/27/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/27/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/27/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var j=H===t}else var j=!0;if(j)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/27/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var j=m===t}else var j=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/27/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var J=P===t}else var J=!0;if(J){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/27/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="wp-cli")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/27/properties/step/const",keyword:"const",params:{allowedValue:"wp-cli"},message:"must be equal to constant"}],!1;var J=P===t}else var J=!0;if(J){if(e.command!==void 0){let a=e.command;const P=t,z=t;let m=!1;const H=t;if(typeof a!="string"){const Pe={instancePath:r+"/command",schemaPath:"#/oneOf/27/properties/command/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[Pe]:i.push(Pe),t++}var ye=H===t;if(m=m||ye,!m){const Pe=t;if(t===Pe)if(Array.isArray(a)){var de=!0;const ir=a.length;for(let St=0;St<ir;St++){const He=t;if(typeof a[St]!="string"){const ue={instancePath:r+"/command/"+St,schemaPath:"#/oneOf/27/properties/command/anyOf/1/items/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[ue]:i.push(ue),t++}var de=He===t;if(!de)break}}else{const ir={instancePath:r+"/command",schemaPath:"#/oneOf/27/properties/command/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};i===null?i=[ir]:i.push(ir),t++}var ye=Pe===t;m=m||ye}if(m)t=z,i!==null&&(z?i.length=z:i=null);else{const Pe={instancePath:r+"/command",schemaPath:"#/oneOf/27/properties/command/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[Pe]:i.push(Pe),t++,d.errors=i,!1}var J=P===t}else var J=!0;if(J)if(e.wpCliPath!==void 0){const a=t;if(typeof e.wpCliPath!="string")return d.errors=[{instancePath:r+"/wpCliPath",schemaPath:"#/oneOf/27/properties/wpCliPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var J=a===t}else var J=!0}}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/27/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(pe==="setSiteLanguage"){if(t===t)if(e&&typeof e=="object"&&!Array.isArray(e)){let S;if(e.language===void 0&&(S="language")||e.step===void 0&&(S="step"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/28/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const V=t;for(const a in e)if(!(a==="progress"||a==="step"||a==="language"))return d.errors=[{instancePath:r,schemaPath:"#/oneOf/28/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(V===t){if(e.progress!==void 0){let a=e.progress;const P=t;if(t===P)if(a&&typeof a=="object"&&!Array.isArray(a)){const z=t;for(const m in a)if(!(m==="weight"||m==="caption"))return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/28/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;if(z===t){if(a.weight!==void 0){let m=a.weight;const H=t;if(!(typeof m=="number"&&isFinite(m)))return d.errors=[{instancePath:r+"/progress/weight",schemaPath:"#/oneOf/28/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var he=H===t}else var he=!0;if(he)if(a.caption!==void 0){const m=t;if(typeof a.caption!="string")return d.errors=[{instancePath:r+"/progress/caption",schemaPath:"#/oneOf/28/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var he=m===t}else var he=!0}}else return d.errors=[{instancePath:r+"/progress",schemaPath:"#/oneOf/28/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var ae=P===t}else var ae=!0;if(ae){if(e.step!==void 0){let a=e.step;const P=t;if(typeof a!="string")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/28/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="setSiteLanguage")return d.errors=[{instancePath:r+"/step",schemaPath:"#/oneOf/28/properties/step/const",keyword:"const",params:{allowedValue:"setSiteLanguage"},message:"must be equal to constant"}],!1;var ae=P===t}else var ae=!0;if(ae)if(e.language!==void 0){const a=t;if(typeof e.language!="string")return d.errors=[{instancePath:r+"/language",schemaPath:"#/oneOf/28/properties/language/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ae=a===t}else var ae=!0}}}}else return d.errors=[{instancePath:r,schemaPath:"#/oneOf/28/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else return d.errors=[{instancePath:r,schemaPath:"#/discriminator",keyword:"discriminator",params:{error:"mapping",tag:"step",tagValue:pe},message:'value of tag "step" must be in oneOf'}],!1;else return d.errors=[{instancePath:r,schemaPath:"#/discriminator",keyword:"discriminator",params:{error:"tag",tag:"step",tagValue:pe},message:'tag "step" must be string'}],!1}}else return d.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return d.errors=i,t===0}function ie(e,{instancePath:r="",parentData:s,parentDataProperty:n,rootData:p=e}={}){let i=null,t=0;if(t===0)if(e&&typeof e=="object"&&!Array.isArray(e)){const N=t;for(const A in e)if(!qa.call(Jl.properties,A))return ie.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:A},message:"must NOT have additional properties"}],!1;if(N===t){if(e.landingPage!==void 0){const A=t;if(typeof e.landingPage!="string")return ie.errors=[{instancePath:r+"/landingPage",schemaPath:"#/properties/landingPage/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=A===t}else var o=!0;if(o){if(e.description!==void 0){const A=t;if(typeof e.description!="string")return ie.errors=[{instancePath:r+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=A===t}else var o=!0;if(o){if(e.meta!==void 0){let A=e.meta;const q=t;if(t===q)if(A&&typeof A=="object"&&!Array.isArray(A)){let T;if(A.title===void 0&&(T="title")||A.author===void 0&&(T="author"))return ie.errors=[{instancePath:r+"/meta",schemaPath:"#/properties/meta/required",keyword:"required",params:{missingProperty:T},message:"must have required property '"+T+"'"}],!1;{const E=t;for(const O in A)if(!(O==="title"||O==="description"||O==="author"||O==="categories"))return ie.errors=[{instancePath:r+"/meta",schemaPath:"#/properties/meta/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:O},message:"must NOT have additional properties"}],!1;if(E===t){if(A.title!==void 0){const O=t;if(typeof A.title!="string")return ie.errors=[{instancePath:r+"/meta/title",schemaPath:"#/properties/meta/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var y=O===t}else var y=!0;if(y){if(A.description!==void 0){const O=t;if(typeof A.description!="string")return ie.errors=[{instancePath:r+"/meta/description",schemaPath:"#/properties/meta/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var y=O===t}else var y=!0;if(y){if(A.author!==void 0){const O=t;if(typeof A.author!="string")return ie.errors=[{instancePath:r+"/meta/author",schemaPath:"#/properties/meta/properties/author/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var y=O===t}else var y=!0;if(y)if(A.categories!==void 0){let O=A.categories;const L=t;if(t===L)if(Array.isArray(O)){var c=!0;const R=O.length;for(let Y=0;Y<R;Y++){const Z=t;if(typeof O[Y]!="string")return ie.errors=[{instancePath:r+"/meta/categories/"+Y,schemaPath:"#/properties/meta/properties/categories/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=Z===t;if(!c)break}}else return ie.errors=[{instancePath:r+"/meta/categories",schemaPath:"#/properties/meta/properties/categories/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var y=L===t}else var y=!0}}}}}else return ie.errors=[{instancePath:r+"/meta",schemaPath:"#/properties/meta/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var o=q===t}else var o=!0;if(o){if(e.preferredVersions!==void 0){let A=e.preferredVersions;const q=t;if(t===q)if(A&&typeof A=="object"&&!Array.isArray(A)){let T;if(A.php===void 0&&(T="php")||A.wp===void 0&&(T="wp"))return ie.errors=[{instancePath:r+"/preferredVersions",schemaPath:"#/properties/preferredVersions/required",keyword:"required",params:{missingProperty:T},message:"must have required property '"+T+"'"}],!1;{const E=t;for(const O in A)if(!(O==="php"||O==="wp"))return ie.errors=[{instancePath:r+"/preferredVersions",schemaPath:"#/properties/preferredVersions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:O},message:"must NOT have additional properties"}],!1;if(E===t){if(A.php!==void 0){let O=A.php;const L=t,I=t;let R=!1;const Y=t;if(typeof O!="string"){const Z={instancePath:r+"/preferredVersions/php",schemaPath:"#/definitions/SupportedPHPVersion/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[Z]:i.push(Z),t++}if(!(O==="8.3"||O==="8.2"||O==="8.1"||O==="8.0"||O==="7.4"||O==="7.3"||O==="7.2"||O==="7.1"||O==="7.0")){const Z={instancePath:r+"/preferredVersions/php",schemaPath:"#/definitions/SupportedPHPVersion/enum",keyword:"enum",params:{allowedValues:eu.enum},message:"must be equal to one of the allowed values"};i===null?i=[Z]:i.push(Z),t++}var h=Y===t;if(R=R||h,!R){const Z=t;if(typeof O!="string"){const K={instancePath:r+"/preferredVersions/php",schemaPath:"#/properties/preferredVersions/properties/php/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[K]:i.push(K),t++}if(O!=="latest"){const K={instancePath:r+"/preferredVersions/php",schemaPath:"#/properties/preferredVersions/properties/php/anyOf/1/const",keyword:"const",params:{allowedValue:"latest"},message:"must be equal to constant"};i===null?i=[K]:i.push(K),t++}var h=Z===t;R=R||h}if(R)t=I,i!==null&&(I?i.length=I:i=null);else{const Z={instancePath:r+"/preferredVersions/php",schemaPath:"#/properties/preferredVersions/properties/php/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[Z]:i.push(Z),t++,ie.errors=i,!1}var b=L===t}else var b=!0;if(b)if(A.wp!==void 0){const O=t;if(typeof A.wp!="string")return ie.errors=[{instancePath:r+"/preferredVersions/wp",schemaPath:"#/properties/preferredVersions/properties/wp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=O===t}else var b=!0}}}else return ie.errors=[{instancePath:r+"/preferredVersions",schemaPath:"#/properties/preferredVersions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var o=q===t}else var o=!0;if(o){if(e.features!==void 0){let A=e.features;const q=t;if(t===q)if(A&&typeof A=="object"&&!Array.isArray(A)){const T=t;for(const E in A)if(E!=="networking")return ie.errors=[{instancePath:r+"/features",schemaPath:"#/properties/features/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:E},message:"must NOT have additional properties"}],!1;if(T===t&&A.networking!==void 0&&typeof A.networking!="boolean")return ie.errors=[{instancePath:r+"/features/networking",schemaPath:"#/properties/features/properties/networking/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1}else return ie.errors=[{instancePath:r+"/features",schemaPath:"#/properties/features/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var o=q===t}else var o=!0;if(o){if(e.extraLibraries!==void 0){let A=e.extraLibraries;const q=t;if(t===q)if(Array.isArray(A)){var w=!0;const T=A.length;for(let E=0;E<T;E++){let O=A[E];const L=t;if(typeof O!="string")return ie.errors=[{instancePath:r+"/extraLibraries/"+E,schemaPath:"#/definitions/ExtraLibrary/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(O!=="wp-cli")return ie.errors=[{instancePath:r+"/extraLibraries/"+E,schemaPath:"#/definitions/ExtraLibrary/const",keyword:"const",params:{allowedValue:"wp-cli"},message:"must be equal to constant"}],!1;var w=L===t;if(!w)break}}else return ie.errors=[{instancePath:r+"/extraLibraries",schemaPath:"#/properties/extraLibraries/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var o=q===t}else var o=!0;if(o){if(e.constants!==void 0){let A=e.constants;const q=t;if(t===t)if(A&&typeof A=="object"&&!Array.isArray(A))for(const E in A){let O=A[E];const L=t;if(typeof O!="string"&&typeof O!="boolean"&&!(typeof O=="number"&&isFinite(O)))return ie.errors=[{instancePath:r+"/constants/"+E.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/PHPConstants/additionalProperties/type",keyword:"type",params:{type:ru.additionalProperties.type},message:"must be string,boolean,number"}],!1;var _=L===t;if(!_)break}else return ie.errors=[{instancePath:r+"/constants",schemaPath:"#/definitions/PHPConstants/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var o=q===t}else var o=!0;if(o){if(e.plugins!==void 0){let A=e.plugins;const q=t;if(t===q)if(Array.isArray(A)){var F=!0;const T=A.length;for(let E=0;E<T;E++){let O=A[E];const L=t,I=t;let R=!1;const Y=t;if(typeof O!="string"){const W={instancePath:r+"/plugins/"+E,schemaPath:"#/properties/plugins/items/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[W]:i.push(W),t++}var k=Y===t;if(R=R||k,!R){const W=t;le(O,{instancePath:r+"/plugins/"+E,parentData:A,parentDataProperty:E,rootData:p})||(i=i===null?le.errors:i.concat(le.errors),t=i.length);var k=W===t;R=R||k}if(R)t=I,i!==null&&(I?i.length=I:i=null);else{const W={instancePath:r+"/plugins/"+E,schemaPath:"#/properties/plugins/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[W]:i.push(W),t++,ie.errors=i,!1}var F=L===t;if(!F)break}}else return ie.errors=[{instancePath:r+"/plugins",schemaPath:"#/properties/plugins/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var o=q===t}else var o=!0;if(o){if(e.siteOptions!==void 0){let A=e.siteOptions;const q=t;if(t===q)if(A&&typeof A=="object"&&!Array.isArray(A)){const T=t;for(const E in A)if(E!=="blogname"){const O=t;if(typeof A[E]!="string")return ie.errors=[{instancePath:r+"/siteOptions/"+E.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/siteOptions/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var D=O===t;if(!D)break}if(T===t&&A.blogname!==void 0&&typeof A.blogname!="string")return ie.errors=[{instancePath:r+"/siteOptions/blogname",schemaPath:"#/properties/siteOptions/properties/blogname/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}else return ie.errors=[{instancePath:r+"/siteOptions",schemaPath:"#/properties/siteOptions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var o=q===t}else var o=!0;if(o){if(e.login!==void 0){let A=e.login;const q=t,$=t;let T=!1;const E=t;if(typeof A!="boolean"){const L={instancePath:r+"/login",schemaPath:"#/properties/login/anyOf/0/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};i===null?i=[L]:i.push(L),t++}var C=E===t;if(T=T||C,!T){const L=t;if(t===L)if(A&&typeof A=="object"&&!Array.isArray(A)){let R;if(A.username===void 0&&(R="username")||A.password===void 0&&(R="password")){const Y={instancePath:r+"/login",schemaPath:"#/properties/login/anyOf/1/required",keyword:"required",params:{missingProperty:R},message:"must have required property '"+R+"'"};i===null?i=[Y]:i.push(Y),t++}else{const Y=t;for(const Z in A)if(!(Z==="username"||Z==="password")){const W={instancePath:r+"/login",schemaPath:"#/properties/login/anyOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Z},message:"must NOT have additional properties"};i===null?i=[W]:i.push(W),t++;break}if(Y===t){if(A.username!==void 0){const Z=t;if(typeof A.username!="string"){const W={instancePath:r+"/login/username",schemaPath:"#/properties/login/anyOf/1/properties/username/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[W]:i.push(W),t++}var M=Z===t}else var M=!0;if(M)if(A.password!==void 0){const Z=t;if(typeof A.password!="string"){const K={instancePath:r+"/login/password",schemaPath:"#/properties/login/anyOf/1/properties/password/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[K]:i.push(K),t++}var M=Z===t}else var M=!0}}}else{const R={instancePath:r+"/login",schemaPath:"#/properties/login/anyOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[R]:i.push(R),t++}var C=L===t;T=T||C}if(T)t=$,i!==null&&($?i.length=$:i=null);else{const L={instancePath:r+"/login",schemaPath:"#/properties/login/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[L]:i.push(L),t++,ie.errors=i,!1}var o=q===t}else var o=!0;if(o){if(e.steps!==void 0){let A=e.steps;const q=t;if(t===q)if(Array.isArray(A)){var B=!0;const T=A.length;for(let E=0;E<T;E++){let O=A[E];const L=t,I=t;let R=!1;const Y=t;d(O,{instancePath:r+"/steps/"+E,parentData:A,parentDataProperty:E,rootData:p})||(i=i===null?d.errors:i.concat(d.errors),t=i.length);var U=Y===t;if(R=R||U,!R){const W=t;if(typeof O!="string"){const G={instancePath:r+"/steps/"+E,schemaPath:"#/properties/steps/items/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[G]:i.push(G),t++}var U=W===t;if(R=R||U,!R){const G=t,se={instancePath:r+"/steps/"+E,schemaPath:"#/properties/steps/items/anyOf/2/not",keyword:"not",params:{},message:"must NOT be valid"};i===null?i=[se]:i.push(se),t++;var U=G===t;if(R=R||U,!R){const X=t;if(typeof O!="boolean"){const re={instancePath:r+"/steps/"+E,schemaPath:"#/properties/steps/items/anyOf/3/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};i===null?i=[re]:i.push(re),t++}if(O!==!1){const re={instancePath:r+"/steps/"+E,schemaPath:"#/properties/steps/items/anyOf/3/const",keyword:"const",params:{allowedValue:!1},message:"must be equal to constant"};i===null?i=[re]:i.push(re),t++}var U=X===t;if(R=R||U,!R){const re=t;if(O!==null){const te={instancePath:r+"/steps/"+E,schemaPath:"#/properties/steps/items/anyOf/4/type",keyword:"type",params:{type:"null"},message:"must be null"};i===null?i=[te]:i.push(te),t++}var U=re===t;R=R||U}}}}if(R)t=I,i!==null&&(I?i.length=I:i=null);else{const W={instancePath:r+"/steps/"+E,schemaPath:"#/properties/steps/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[W]:i.push(W),t++,ie.errors=i,!1}var B=L===t;if(!B)break}}else return ie.errors=[{instancePath:r+"/steps",schemaPath:"#/properties/steps/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var o=q===t}else var o=!0;if(o)if(e.$schema!==void 0){const A=t;if(typeof e.$schema!="string")return ie.errors=[{instancePath:r+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=A===t}else var o=!0}}}}}}}}}}}}else return ie.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ie.errors=i,t===0}function Wt(e,{instancePath:r="",parentData:s,parentDataProperty:n,rootData:p=e}={}){let i=null,t=0;return ie(e,{instancePath:r,parentData:s,parentDataProperty:n,rootData:p})||(i=i===null?ie.errors:i.concat(ie.errors),t=i.length),Wt.errors=i,t===0}const{wpCLI:iu,...dn}=Ho,nu={...dn,"wp-cli":iu,importFile:dn.importWxr};function au(e,{progress:r=new as,semaphore:s=new no({concurrency:3}),onStepCompleted:n=()=>{},corsProxy:p}={}){e=structuredClone(e),e={...e,steps:(e.steps||[]).filter(fu).filter(lu)};for(const w of e.steps)!w||typeof w!="object"||(w.step==="importFile"?(w.step="importWxr",Se.warn('The "importFile" step is deprecated. Use "importWxr" instead.')):w?.step==="installPlugin"&&"pluginZipFile"in w?(w.pluginData=w.pluginZipFile,Se.warn('The "pluginZipFile" option of the "installPlugin" step is deprecated. Use "pluginData" instead.')):w?.step==="installTheme"&&"themeZipFile"in w&&(w.themeData=w.themeZipFile,Se.warn('The "themeZipFile" option of the "installTheme" step is deprecated. Use "themeData" instead.')));if(e.constants&&e.steps.unshift({step:"defineWpConfigConsts",consts:e.constants}),e.siteOptions&&e.steps.unshift({step:"setSiteOptions",options:e.siteOptions}),e.plugins){const w=e.plugins.map(_=>typeof _=="string"?_.startsWith("https://")?{resource:"url",url:_}:{resource:"wordpress.org/plugins",slug:_}:_).map(_=>({step:"installPlugin",pluginData:_}));e.steps.unshift(...w)}e.login&&e.steps.push({step:"login",...e.login===!0?{username:"admin"}:e.login});const i=e.steps?.findIndex(w=>typeof w=="object"&&w?.step&&["wp-cli","enableMultisite"].includes(w.step))??-1;if(e?.extraLibraries?.includes("wp-cli")||i!==-1){const w={step:"writeFile",data:bo,path:ei};i===-1?e.steps?.push(w):e.steps?.splice(i,0,w)}const t=e.steps?.findIndex(w=>typeof w=="object"&&w?.step==="importWxr");t!==void 0&&t>-1&&e.steps?.splice(t,0,{step:"installPlugin",pluginData:{resource:"url",url:"https://playground.wordpress.net/wordpress-importer.zip",caption:"Downloading the WordPress Importer plugin"}});const{valid:o,errors:y}=ou(e);if(!o){const w=new Error(`Invalid blueprint: ${y[0].message} at ${y[0].instancePath}`);throw w.errors=y,w}const c=e.steps||[],h=c.reduce((w,_)=>w+(_.progress?.weight||1),0),b=c.map(w=>uu(w,{semaphore:s,rootProgressTracker:r,totalProgressWeight:h,corsProxy:p}));return{versions:{php:pu(e.preferredVersions?.php,ri,So),wp:e.preferredVersions?.wp||"latest"},features:{networking:e.features?.networking??!1},extraLibraries:e.extraLibraries||[],run:async w=>{try{for(const{resources:_}of b)for(const F of _)F.setPlayground(w),F.isAsync&&F.resolve();for(const[_,{run:F,step:k}]of Object.entries(b))try{const D=await F(w);n(D,k)}catch(D){throw Se.error(D),new Error(`Error when executing the blueprint step #${_} (${JSON.stringify(k)}) ${D instanceof Error?`: ${D.message}`:D}`,{cause:D})}}finally{try{await w.goTo(e.landingPage||"/")}catch{}r.finish()}}}}function ou(e){const r=Wt(e);if(r)return{valid:r};const s=new Set;for(const p of Wt.errors)p.schemaPath.startsWith("#/properties/steps/items/anyOf")||s.add(p.instancePath);const n=Wt.errors?.filter(p=>!(p.schemaPath.startsWith("#/properties/steps/items/anyOf")&&s.has(p.instancePath)));return{valid:r,errors:n}}function pu(e,r,s){return e&&r.includes(e)?e:s}function fu(e){return!!(typeof e=="object"&&e)}function lu(e){return["setPhpIniEntry","request"].includes(e.step)?(Se.warn(`The "${e.step}" Blueprint is no longer supported and you can remove it from your Blueprint.`),!1):!0}function uu(e,{semaphore:r,rootProgressTracker:s,totalProgressWeight:n,corsProxy:p}){const i=s.stage((e.progress?.weight||1)/n),t={};for(const b of Object.keys(e)){let w=e[b];zl(w)&&(w=br.create(w,{semaphore:r,corsProxy:p})),t[b]=w}const o=async b=>{try{return i.fillSlowly(),await nu[e.step](b,await cu(t),{tracker:i,initialCaption:e.progress?.caption})}finally{i.finish()}},y=hn(t),c=hn(t).filter(b=>b.isAsync),h=1/(c.length+1);for(const b of c)b.progress=i.stage(h);return{run:o,step:e,resources:y}}function hn(e){const r=[];for(const s in e){const n=e[s];n instanceof br&&r.push(n)}return r}async function cu(e){const r={};for(const s in e){const n=e[s];n instanceof br?r[s]=await n.resolve():r[s]=n}return r}async function du(e,r){await e.run(r)}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const za=Symbol("Comlink.proxy"),hu=Symbol("Comlink.endpoint"),yu=Symbol("Comlink.releaseProxy"),Ns=Symbol("Comlink.finalizer"),Zt=Symbol("Comlink.thrown"),Ma=e=>typeof e=="object"&&e!==null||typeof e=="function",mu={canHandle:e=>Ma(e)&&e[za],serialize(e){const{port1:r,port2:s}=new MessageChannel;return di(e,r),[s,[s]]},deserialize(e){return e.start(),hi(e)}},gu={canHandle:e=>Ma(e)&&Zt in e,serialize({value:e}){let r;return e instanceof Error?r={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:r={isError:!1,value:e},[r,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},Qr=new Map([["proxy",mu],["throw",gu]]);function wu(e,r){for(const s of e)if(r===s||s==="*"||s instanceof RegExp&&s.test(r))return!0;return!1}function di(e,r=globalThis,s=["*"]){r.addEventListener("message",function n(p){if(!p||!p.data)return;if(!wu(s,p.origin)){console.warn(`Invalid origin '${p.origin}' for comlink proxy`);return}const{id:i,type:t,path:o}=Object.assign({path:[]},p.data),y=(p.data.argumentList||[]).map(Sr);let c;try{const h=o.slice(0,-1).reduce((w,_)=>w[_],e),b=o.reduce((w,_)=>w[_],e);switch(t){case"GET":c=b;break;case"SET":h[o.slice(-1)[0]]=Sr(p.data.value),c=!0;break;case"APPLY":c=b.apply(h,y);break;case"CONSTRUCT":{const w=new b(...y);c=Ga(w)}break;case"ENDPOINT":{const{port1:w,port2:_}=new MessageChannel;di(e,_),c=ku(w,[w])}break;case"RELEASE":c=void 0;break;default:return}}catch(h){c={value:h,[Zt]:0}}Promise.resolve(c).catch(h=>({value:h,[Zt]:0})).then(h=>{const[b,w]=rs(h);r.postMessage(Object.assign(Object.assign({},b),{id:i}),w),t==="RELEASE"&&(r.removeEventListener("message",n),Ha(r),Ns in e&&typeof e[Ns]=="function"&&e[Ns]())}).catch(h=>{const[b,w]=rs({value:new TypeError("Unserializable return value"),[Zt]:0});r.postMessage(Object.assign(Object.assign({},b),{id:i}),w)})}),r.start&&r.start()}function bu(e){return e.constructor.name==="MessagePort"}function Ha(e){bu(e)&&e.close()}function hi(e,r){return Xs(e,[],r)}function Dt(e){if(e)throw new Error("Proxy has been released and is not useable")}function Wa(e){return Kr(e,{type:"RELEASE"}).then(()=>{Ha(e)})}const Jt=new WeakMap,es="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const r=(Jt.get(e)||0)-1;Jt.set(e,r),r===0&&Wa(e)});function _u(e,r){const s=(Jt.get(r)||0)+1;Jt.set(r,s),es&&es.register(e,r,e)}function vu(e){es&&es.unregister(e)}function Xs(e,r=[],s=function(){}){let n=!1;const p=new Proxy(s,{get(i,t){if(Dt(n),t===yu)return()=>{vu(p),Wa(e),n=!0};if(t==="then"){if(r.length===0)return{then:()=>p};const o=Kr(e,{type:"GET",path:r.map(y=>y.toString())}).then(Sr);return o.then.bind(o)}return Xs(e,[...r,t])},set(i,t,o){Dt(n);const[y,c]=rs(o);return Kr(e,{type:"SET",path:[...r,t].map(h=>h.toString()),value:y},c).then(Sr)},apply(i,t,o){Dt(n);const y=r[r.length-1];if(y===hu)return Kr(e,{type:"ENDPOINT"}).then(Sr);if(y==="bind")return Xs(e,r.slice(0,-1));const[c,h]=yn(o);return Kr(e,{type:"APPLY",path:r.map(b=>b.toString()),argumentList:c},h).then(Sr)},construct(i,t){Dt(n);const[o,y]=yn(t);return Kr(e,{type:"CONSTRUCT",path:r.map(c=>c.toString()),argumentList:o},y).then(Sr)}});return _u(p,e),p}function Pu(e){return Array.prototype.concat.apply([],e)}function yn(e){const r=e.map(rs);return[r.map(s=>s[0]),Pu(r.map(s=>s[1]))]}const Za=new WeakMap;function ku(e,r){return Za.set(e,r),e}function Ga(e){return Object.assign(e,{[za]:!0})}function Eu(e,r=globalThis,s="*"){return{postMessage:(n,p)=>e.postMessage(n,s,p),addEventListener:r.addEventListener.bind(r),removeEventListener:r.removeEventListener.bind(r)}}function rs(e){for(const[r,s]of Qr)if(s.canHandle(e)){const[n,p]=s.serialize(e);return[{type:"HANDLER",name:r,value:n},p]}return[{type:"RAW",value:e},Za.get(e)||[]]}function Sr(e){switch(e.type){case"HANDLER":return Qr.get(e.name).deserialize(e.value);case"RAW":return e.value}}function Kr(e,r,s){return new Promise(n=>{const p=Ou();e.addEventListener("message",function i(t){!t.data||!t.data.id||t.data.id!==p||(e.removeEventListener("message",i),n(t.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:p},r),s)})}function Ou(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}function xu(e,r=void 0){$u();const s=e instanceof Worker?e:Eu(e,r),n=hi(s),p=Va(n);return new Proxy(p,{get:(i,t)=>t==="isConnected"?async()=>{for(;;)try{await Tu(n.isConnected(),200);break}catch{}}:n[t]})}async function Tu(e,r){return new Promise((s,n)=>{setTimeout(n,r),e.then(s)})}let mn=!1;function $u(){if(mn)return;mn=!0,Qr.set("EVENT",{canHandle:s=>s instanceof CustomEvent,serialize:s=>[{detail:s.detail},[]],deserialize:s=>s}),Qr.set("FUNCTION",{canHandle:s=>typeof s=="function",serialize(s){const{port1:n,port2:p}=new MessageChannel;return di(s,n),[p,[p]]},deserialize(s){return s.start(),hi(s)}}),Qr.set("PHPResponse",{canHandle:s=>typeof s=="object"&&s!==null&&"headers"in s&&"bytes"in s&&"errors"in s&&"exitCode"in s&&"httpStatusCode"in s,serialize(s){return[s.toRawData(),[]]},deserialize(s){return Yt.fromRawData(s)}});const e=Qr.get("throw"),r=e?.serialize;e.serialize=({value:s})=>{const n=r({value:s});return s.response&&(n[0].value.response=s.response),s.source&&(n[0].value.source=s.source),n}}function Va(e){return new Proxy(e,{get(r,s){switch(typeof r[s]){case"function":return(...n)=>r[s](...n);case"object":return r[s]===null?r[s]:Va(r[s]);case"undefined":case"number":case"string":return r[s];default:return Ga(r[s])}}})}async function Du({iframe:e,blueprint:r,remoteUrl:s,progressTracker:n=new as,disableProgressBar:p,onBlueprintStepCompleted:i,onClientConnected:t=()=>{},sapiName:o,onBeforeBlueprint:y,mounts:c,scope:h,corsProxy:b,shouldInstallWordPress:w}){Su(s),Au(e),s=Ru(s,{progressbar:!p}),n.setCaption("Preparing WordPress"),r||(r={});const _=au(r,{progress:n.stage(.5),onStepCompleted:i,corsProxy:b});await new Promise(D=>{e.src=s,e.addEventListener("load",D,!1)});const F=xu(e.contentWindow,e.ownerDocument.defaultView);await F.isConnected(),n.pipe(F);const k=n.stage();return await F.onDownloadProgress(k.loadingListener),await F.boot({mounts:c,sapiName:o,scope:h??Math.random().toFixed(16),shouldInstallWordPress:w,phpVersion:_.versions.php,wpVersion:_.versions.wp,withNetworking:_.features.networking}),await F.isReady(),k.finish(),Ja(Se,F),t(F),y&&await y(),await du(_,F),n.finish(),F}function Au(e){e.sandbox?.length&&!e.sandbox?.contains("allow-storage-access-by-user-activation")&&e.sandbox.add("allow-storage-access-by-user-activation")}const Gt="https://playground.wordpress.net";function Su(e){const r=new URL(e,Gt);if((r.origin===Gt||r.hostname==="localhost")&&r.pathname!=="/remote.html")throw new Error(`Invalid remote URL: ${r}. Expected origin to be ${Gt}/remote.html.`)}function Ru(e,r){const s=new URL(e,Gt),n=new URLSearchParams(s.search);for(const[p,i]of Object.entries(r))if(i!=null&&i!==!1)if(Array.isArray(i))for(const t of i)n.append(p,t.toString());else n.set(p,i.toString());return s.search=n.toString(),s.toString()}const Fu="876f119af187240f303d71207cd705105f315893";function qu(){const e=new URL(window.location.origin);return e.pathname="/remote.html",e.searchParams.set("v",Fu),e}export{no as S,ju as a,au as b,Bu as c,Ya as d,is as e,Pn as f,Qs as g,kn as h,mt as i,ge as j,No as k,Se as l,Lu as m,ts as n,Bo as o,Nu as p,qu as q,Iu as r,Du as s,Fe as t,ss as u,bn as w,qo as z};
